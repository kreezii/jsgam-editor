{"version":3,"sources":["../src/intro.js","../src/class.js","../src/ie9.js","../src/utilities.js","../src/core.js","../src/validator.js","../src/editor.js","../src/editors/null.js","../src/editors/string.js","../src/editors/hidden.js","../src/editors/number.js","../src/editors/integer.js","../src/editors/rating.js","../src/editors/object.js","../src/editors/array.js","../src/editors/table.js","../src/editors/multiple.js","../src/editors/enum.js","../src/editors/select.js","../src/editors/selectize.js","../src/editors/multiselect.js","../src/editors/base64.js","../src/editors/upload.js","../src/editors/checkbox.js","../src/editors/array/selectize.js","../src/editors/starrating.js","../src/editors/datetime.js","../src/editors/signature.js","../src/editors/radio.js","../src/editors/describedby.js","../src/theme.js","../src/themes/bootstrap2.js","../src/themes/bootstrap3.js","../src/themes/bootstrap4.js","../src/themes/foundation.js","../src/themes/html.js","../src/themes/jqueryui.js","../src/themes/jsoneditor.barebones-theme.js","../src/themes/materialize.js","../src/iconlib.js","../src/iconlibs/bootstrap2.js","../src/iconlibs/bootstrap3.js","../src/iconlibs/fontawesome3.js","../src/iconlibs/fontawesome4.js","../src/iconlibs/fontawesome5.js","../src/iconlibs/foundation2.js","../src/iconlibs/foundation3.js","../src/iconlibs/jqueryui.js","../src/iconlibs/materialicons.js","../src/templates/default.js","../src/templates/ejs.js","../src/templates/handlebars.js","../src/templates/hogan.js","../src/templates/lodash.js","../src/templates/markup.js","../src/templates/mustache.js","../src/templates/swig.js","../src/templates/underscore.js","../src/defaults.js","../src/jquery.js","../src/outro.js","index.js","../../.npm-packages/lib/node_modules/parcel/src/builtins/hmr-runtime.js"],"names":["jsgamDownload","document","querySelector","jsgamUpload","editor","JSONEditor","getElementById","ajax","theme","iconlib","schema","$ref","display_required_only","keep_oneof_values","enable_array_copy","on","errors","validate","indicator","length","style","color","textContent","parseJson","str","res","JSON","parse","e","eventClickFire","el","dispatchEvent","MouseEvent","window","downloadJSONHandler","title","prompt","json","getValue","filename","toLowerCase","replace","blob","Blob","stringify","type","navigator","msSaveOrOpenBlob","a","createElement","download","href","URL","createObjectURL","dataset","downloadurl","join","addEventListener","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","console","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","body","appendChild","remove","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"jsgam-editor.e31bb0bc.js","sourceRoot":"..","sourcesContent":["/**\n * @name JSON Editor\n * @description JSON Schema Based Editor\n * This library is the continuation of jdorn's great work (see also https://github.com/jdorn/json-editor/issues/800)\n * @version {{ VERSION }}\n * @author Jeremy Dorn\n * @see https://github.com/jdorn/json-editor/\n * @see https://github.com/json-editor/json-editor\n * @license MIT\n * @example see README.md and docs/ for requirements, examples and usage info\n */\n\n;(function (global, factory) {\n\t\"use strict\";\n\tvar JSONEditor = factory(global);\n\tif (typeof module === \"object\" && module != null && module.exports) {\n\t\tmodule.exports = JSONEditor;\n\t} else if (typeof define === \"function\" && define.amd) {\n\t\tdefine(function () { return JSONEditor; });\n\t} else {\n\t\tglobal.JSONEditor = JSONEditor;\n\t}\n})(typeof window !== \"undefined\" ? window : this, function (global, undefined) {\n","/*jshint loopfunc: true */\n/* Simple JavaScript Inheritance\n * By John Resig http://ejohn.org/\n * MIT Licensed.\n */\n// Inspired by base2 and Prototype\nvar Class;\n(function(){\n  var initializing = false, fnTest = /xyz/.test(function(){window.postMessage(\"xyz\");}) ? /\\b_super\\b/ : /.*/;\n \n  // The base Class implementation (does nothing)\n  Class = function(){};\n \n  // Create a new Class that inherits from this class\n  Class.extend = function extend(prop) {\n    var _super = this.prototype;\n   \n    // Instantiate a base class (but only create the instance,\n    // don't run the init constructor)\n    initializing = true;\n    var prototype = new this();\n    initializing = false;\n   \n    // Copy the properties over onto the new prototype\n    for (var name in prop) {\n      // Check if we're overwriting an existing function\n      prototype[name] = typeof prop[name] == \"function\" &&\n        typeof _super[name] == \"function\" && fnTest.test(prop[name]) ?\n        (function(name, fn){\n          return function() {\n            var tmp = this._super;\n           \n            // Add a new ._super() method that is the same method\n            // but on the super-class\n            this._super = _super[name];\n           \n            // The method only need to be bound temporarily, so we\n            // remove it when we're done executing\n            var ret = fn.apply(this, arguments);        \n            this._super = tmp;\n           \n            return ret;\n          };\n        })(name, prop[name]) :\n        prop[name];\n    }\n   \n    // The dummy class constructor\n    function Class() {\n      // All construction is actually done in the init method\n      if ( !initializing && this.init )\n        this.init.apply(this, arguments);\n    }\n   \n    // Populate our constructed prototype object\n    Class.prototype = prototype;\n   \n    // Enforce the constructor to be what we expect\n    Class.prototype.constructor = Class;\n \n    // And make this class extendable\n    Class.extend = extend;\n   \n    return Class;\n  };\n  \n  return Class;\n})();\n","// CustomEvent constructor polyfill\n// From MDN\n(function () {\n  function CustomEvent ( event, params ) {\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n    var evt = document.createEvent( 'CustomEvent' );\n    evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n    return evt;\n  }\n\n  CustomEvent.prototype = window.Event.prototype;\n\n  window.CustomEvent = CustomEvent;\n})();\n\n// requestAnimationFrame polyfill by Erik Mller. fixes from Paul Irish and Tino Zijdel\n// MIT license\n(function() {\n    var lastTime = 0;\n    var vendors = ['ms', 'moz', 'webkit', 'o'];\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n        window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];\n        window.cancelAnimationFrame = window[vendors[x]+'CancelAnimationFrame'] || \n                                      window[vendors[x]+'CancelRequestAnimationFrame'];\n    }\n \n    if (!window.requestAnimationFrame)\n        window.requestAnimationFrame = function(callback, element) {\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            var id = window.setTimeout(function() { callback(currTime + timeToCall); }, \n              timeToCall);\n            lastTime = currTime + timeToCall;\n            return id;\n        };\n \n    if (!window.cancelAnimationFrame)\n        window.cancelAnimationFrame = function(id) {\n            clearTimeout(id);\n        };\n}());\n\n// Array.isArray polyfill\n// From MDN\n(function() {\n\tif(!Array.isArray) {\n\t  Array.isArray = function(arg) {\n\t\treturn Object.prototype.toString.call(arg) === '[object Array]';\n\t  };\n\t}\n}());","/**\n * Taken from jQuery 2.1.3\n *\n * @param obj\n * @returns {boolean}\n */\nvar $isplainobject = function( obj ) {\n  // Not plain objects:\n  // - Any object or value whose internal [[Class]] property is not \"[object Object]\"\n  // - DOM nodes\n  // - window\n  if (typeof obj !== \"object\" || obj.nodeType || (obj !== null && obj === obj.window)) {\n    return false;\n  }\n\n  if (obj.constructor && !Object.prototype.hasOwnProperty.call(obj.constructor.prototype, \"isPrototypeOf\")) {\n    return false;\n  }\n\n  // If the function hasn't returned already, we're confident that\n  // |obj| is a plain object, created by {} or constructed with new Object\n  return true;\n};\n\nvar $extend = function(destination) {\n  var source, i,property;\n  for(i=1; i<arguments.length; i++) {\n    source = arguments[i];\n    for (property in source) {\n      if(!source.hasOwnProperty(property)) continue;\n      if(source[property] && $isplainobject(source[property])) {\n        if(!destination.hasOwnProperty(property)) destination[property] = {};\n        $extend(destination[property], source[property]);\n      }\n      else {\n        destination[property] = source[property];\n      }\n    }\n  }\n  return destination;\n};\n\nvar $each = function(obj,callback) {\n  if(!obj || typeof obj !== \"object\") return;\n  var i;\n  if(Array.isArray(obj) || (typeof obj.length === 'number' && obj.length > 0 && (obj.length - 1) in obj)) {\n    for(i=0; i<obj.length; i++) {\n      if(callback(i,obj[i])===false) return;\n    }\n  }\n  else {\n    if (Object.keys) {\n      var keys = Object.keys(obj);\n      for(i=0; i<keys.length; i++) {\n        if(callback(keys[i],obj[keys[i]])===false) return;\n      }\n    }\n    else {\n      for(i in obj) {\n        if(!obj.hasOwnProperty(i)) continue;\n        if(callback(i,obj[i])===false) return;\n      }\n    }\n  }\n};\n\nvar $trigger = function(el,event) {\n  var e = document.createEvent('HTMLEvents');\n  e.initEvent(event, true, true);\n  el.dispatchEvent(e);\n};\nvar $triggerc = function(el,event) {\n  var e = new CustomEvent(event,{\n    bubbles: true,\n    cancelable: true\n  });\n\n  el.dispatchEvent(e);\n};\n","var JSONEditor = function(element,options) {\n  if (!(element instanceof Element)) {\n    throw new Error('element should be an instance of Element');\n  }\n  options = $extend({},JSONEditor.defaults.options,options||{});\n  this.element = element;\n  this.options = options;\n  this.init();\n};\nJSONEditor.prototype = {\n  // necessary since we remove the ctor property by doing a literal assignment. Without this\n  // the $isplainobject function will think that this is a plain object.\n  constructor: JSONEditor,\n  init: function() {\n    var self = this;\n    \n    this.ready = false;\n    this.copyClipboard = null;\n    // full references info\n    this.refs_with_info = {};\n    this.refs_prefix = \"#/counter/\";\n    this.refs_counter = 1;\n\n    var theme_class = JSONEditor.defaults.themes[this.options.theme || JSONEditor.defaults.theme];\n    if(!theme_class) throw \"Unknown theme \" + (this.options.theme || JSONEditor.defaults.theme);\n    \n    this.schema = this.options.schema;\n    this.theme = new theme_class();\n    this.template = this.options.template;\n    this.refs = this.options.refs || {};\n    this.uuid = 0;\n    this.__data = {};\n    \n    var icon_class = JSONEditor.defaults.iconlibs[this.options.iconlib || JSONEditor.defaults.iconlib];\n    if(icon_class) this.iconlib = new icon_class();\n\n    this.root_container = this.theme.getContainer();\n    this.element.appendChild(this.root_container);\n    \n    this.translate = this.options.translate || JSONEditor.defaults.translate;\n\n    // Fetch all external refs via ajax\n    var fetchUrl = document.location.toString();\n    var fileBase = this._getFileBase();\n    this._loadExternalRefs(this.schema, function() {\n      self._getDefinitions(self.schema, fetchUrl + '#/definitions/');\n      \n      // Validator options\n      var validator_options = {};\n      if(self.options.custom_validators) {\n        validator_options.custom_validators = self.options.custom_validators;\n      }\n      self.validator = new JSONEditor.Validator(self,null,validator_options);\n      \n      // Create the root editor\n      var schema = self.expandRefs(self.schema);\n      var editor_class = self.getEditorClass(schema);\n      self.root = self.createEditor(editor_class, {\n        jsoneditor: self,\n        schema: schema,\n        required: true,\n        container: self.root_container\n      });\n      \n      self.root.preBuild();\n      self.root.build();\n      self.root.postBuild();\n\n      // Starting data\n      if(self.options.hasOwnProperty('startval')) self.root.setValue(self.options.startval);\n\n      self.validation_results = self.validator.validate(self.root.getValue());\n      self.root.showValidationErrors(self.validation_results);\n      self.ready = true;\n\n      // Fire ready event asynchronously\n      window.requestAnimationFrame(function() {\n        if(!self.ready) return;\n        self.validation_results = self.validator.validate(self.root.getValue());\n        self.root.showValidationErrors(self.validation_results);\n        self.trigger('ready');\n        self.trigger('change');\n      });\n    }, fetchUrl, fileBase);\n  },\n  getValue: function() {\n    if(!this.ready) throw \"JSON Editor not ready yet.  Listen for 'ready' event before getting the value\";\n\n    return this.root.getValue();\n  },\n  setValue: function(value) {\n    if(!this.ready) throw \"JSON Editor not ready yet.  Listen for 'ready' event before setting the value\";\n\n    this.root.setValue(value);\n    return this;\n  },\n  validate: function(value) {\n    if(!this.ready) throw \"JSON Editor not ready yet.  Listen for 'ready' event before validating\";\n    \n    // Custom value\n    if(arguments.length === 1) {\n      return this.validator.validate(value);\n    }\n    // Current value (use cached result)\n    else {\n      return this.validation_results;\n    }\n  },\n  destroy: function() {\n    if(this.destroyed) return;\n    if(!this.ready) return;\n    \n    this.schema = null;\n    this.options = null;\n    this.root.destroy();\n    this.root = null;\n    this.root_container = null;\n    this.validator = null;\n    this.validation_results = null;\n    this.theme = null;\n    this.iconlib = null;\n    this.template = null;\n    this.__data = null;\n    this.ready = false;\n    this.element.innerHTML = '';\n    \n    this.destroyed = true;\n  },\n  on: function(event, callback) {\n    this.callbacks = this.callbacks || {};\n    this.callbacks[event] = this.callbacks[event] || [];\n    this.callbacks[event].push(callback);\n    \n    return this;\n  },\n  off: function(event, callback) {\n    // Specific callback\n    if(event && callback) {\n      this.callbacks = this.callbacks || {};\n      this.callbacks[event] = this.callbacks[event] || [];\n      var newcallbacks = [];\n      for(var i=0; i<this.callbacks[event].length; i++) {\n        if(this.callbacks[event][i]===callback) continue;\n        newcallbacks.push(this.callbacks[event][i]);\n      }\n      this.callbacks[event] = newcallbacks;\n    }\n    // All callbacks for a specific event\n    else if(event) {\n      this.callbacks = this.callbacks || {};\n      this.callbacks[event] = [];\n    }\n    // All callbacks for all events\n    else {\n      this.callbacks = {};\n    }\n    \n    return this;\n  },\n  trigger: function(event) {\n    if(this.callbacks && this.callbacks[event] && this.callbacks[event].length) {\n      for(var i=0; i<this.callbacks[event].length; i++) {\n        this.callbacks[event][i].apply(this, []);\n      }\n    }\n    \n    return this;\n  },\n  setOption: function(option, value) {\n    if(option === \"show_errors\") {\n      this.options.show_errors = value;\n      this.onChange();\n    }\n    // Only the `show_errors` option is supported for now\n    else {\n      throw \"Option \"+option+\" must be set during instantiation and cannot be changed later\";\n    }\n    \n    return this;\n  },\n  getEditorClass: function(schema) {\n    var classname;\n\n    schema = this.expandSchema(schema);\n\n    $each(JSONEditor.defaults.resolvers,function(i,resolver) {\n      var tmp = resolver(schema);\n      if(tmp) {\n        if(JSONEditor.defaults.editors[tmp]) {\n          classname = tmp;\n          return false;\n        }\n      }\n    });\n\n    if(!classname) throw \"Unknown editor for schema \"+JSON.stringify(schema);\n    if(!JSONEditor.defaults.editors[classname]) throw \"Unknown editor \"+classname;\n\n    return JSONEditor.defaults.editors[classname];\n  },\n  createEditor: function(editor_class, options) {\n    options = $extend({},editor_class.options||{},options);\n    return new editor_class(options);\n  },\n  onChange: function() {\n    if(!this.ready) return;\n    \n    if(this.firing_change) return;\n    this.firing_change = true;\n    \n    var self = this;\n    \n    window.requestAnimationFrame(function() {\n      self.firing_change = false;\n      if(!self.ready) return;\n\n      // Validate and cache results\n      self.validation_results = self.validator.validate(self.root.getValue());\n      \n      if(self.options.show_errors !== \"never\") {\n        self.root.showValidationErrors(self.validation_results);\n      }\n      else {\n        self.root.showValidationErrors([]);\n      }\n      \n      // Fire change event\n      self.trigger('change');\n    });\n    \n    return this;\n  },\n  compileTemplate: function(template, name) {\n    name = name || JSONEditor.defaults.template;\n\n    var engine;\n\n    // Specifying a preset engine\n    if(typeof name === 'string') {\n      if(!JSONEditor.defaults.templates[name]) throw \"Unknown template engine \"+name;\n      engine = JSONEditor.defaults.templates[name]();\n\n      if(!engine) throw \"Template engine \"+name+\" missing required library.\";\n    }\n    // Specifying a custom engine\n    else {\n      engine = name;\n    }\n\n    if(!engine) throw \"No template engine set\";\n    if(!engine.compile) throw \"Invalid template engine set\";\n\n    return engine.compile(template);\n  },\n  _data: function(el,key,value) {\n    // Setting data\n    if(arguments.length === 3) {\n      var uuid;\n      if(el.hasAttribute('data-jsoneditor-'+key)) {\n        uuid = el.getAttribute('data-jsoneditor-'+key);\n      }\n      else {\n        uuid = this.uuid++;\n        el.setAttribute('data-jsoneditor-'+key,uuid);\n      }\n\n      this.__data[uuid] = value;\n    }\n    // Getting data\n    else {\n      // No data stored\n      if(!el.hasAttribute('data-jsoneditor-'+key)) return null;\n      \n      return this.__data[el.getAttribute('data-jsoneditor-'+key)];\n    }\n  },\n  registerEditor: function(editor) {\n    this.editors = this.editors || {};\n    this.editors[editor.path] = editor;\n    return this;\n  },\n  unregisterEditor: function(editor) {\n    this.editors = this.editors || {};\n    this.editors[editor.path] = null;\n    return this;\n  },\n  getEditor: function(path) {\n    if(!this.editors) return;\n    return this.editors[path];\n  },\n  watch: function(path,callback) {\n    this.watchlist = this.watchlist || {};\n    this.watchlist[path] = this.watchlist[path] || [];\n    this.watchlist[path].push(callback);\n    \n    return this;\n  },\n  unwatch: function(path,callback) {\n    if(!this.watchlist || !this.watchlist[path]) return this;\n    // If removing all callbacks for a path\n    if(!callback) {\n      this.watchlist[path] = null;\n      return this;\n    }\n    \n    var newlist = [];\n    for(var i=0; i<this.watchlist[path].length; i++) {\n      if(this.watchlist[path][i] === callback) continue;\n      else newlist.push(this.watchlist[path][i]);\n    }\n    this.watchlist[path] = newlist.length? newlist : null;\n    return this;\n  },\n  notifyWatchers: function(path) {\n    if(!this.watchlist || !this.watchlist[path]) return this;\n    for(var i=0; i<this.watchlist[path].length; i++) {\n      this.watchlist[path][i]();\n    }\n  },\n  isEnabled: function() {\n    return !this.root || this.root.isEnabled();\n  },\n  enable: function() {\n    this.root.enable();\n  },\n  disable: function() {\n    this.root.disable();\n  },\n  _getDefinitions: function(schema,path) {\n    if(schema.definitions) {\n      for(var i in schema.definitions) {\n        if(!schema.definitions.hasOwnProperty(i)) continue;\n        this.refs[path+i] = schema.definitions[i];\n        if(schema.definitions[i].definitions) {\n          this._getDefinitions(schema.definitions[i],path+i+'/definitions/');\n        }\n      }\n    }\n  },\n  _getExternalRefs: function(schema, fetchUrl) {\n    var refs = {};\n    var merge_refs = function(newrefs) {\n      for(var i in newrefs) {\n        if(newrefs.hasOwnProperty(i)) {\n          refs[i] = true;\n        }\n      }\n    };\n    \n    if(schema.$ref && typeof schema.$ref !== \"object\") {\n      var ref_counter = this.refs_prefix + this.refs_counter++;\n      if(schema.$ref.substr(0,1) !== \"#\" && !this.refs[schema.$ref]) {\n        refs[schema.$ref] = true;\n      }\n      this.refs_with_info[ref_counter] = { fetchUrl: fetchUrl, \"$ref\": schema.$ref };\n      schema.$ref = ref_counter;\n    }\n    \n    for(var i in schema) {\n      if(!schema.hasOwnProperty(i)) continue;\n      if (!schema[i] || typeof schema[i] !== \"object\") continue;\n      if(Array.isArray(schema[i])) {\n        for(var j=0; j<schema[i].length; j++) {\n          if(schema[i][j] && typeof schema[i][j]===\"object\") {\n            merge_refs(this._getExternalRefs(schema[i][j], fetchUrl));\n          }\n        }\n      }\n      else {\n        merge_refs(this._getExternalRefs(schema[i], fetchUrl));\n      }\n    }\n    return refs;\n  },\n  _getFileBase: function() {\n    var fileBase = this.options.ajaxBase;\n    if (typeof fileBase === 'undefined') {\n      fileBase = this._getFileBaseFromFileLocation(document.location.toString());\n    }\n    return fileBase;\n  },\n  _getFileBaseFromFileLocation: function(fileLocationString) {\n    var pathItems = fileLocationString.split(\"/\");\n    pathItems.pop();\n    return pathItems.join(\"/\")+\"/\";\n  },\n  _loadExternalRefs: function(schema, callback, fetchUrl, fileBase) {\n    var self = this;\n    var refs = this._getExternalRefs(schema, fetchUrl);\n    var done = 0, waiting = 0, callback_fired = false;\n\n    $each(refs,function(url) {\n      if(self.refs[url]) return;\n      if(!self.options.ajax) throw \"Must set ajax option to true to load external ref \"+url;\n      self.refs[url] = 'loading';\n      waiting++;\n\n      var fetchUrl=url;\n      if( fileBase!=url.substr(0,fileBase.length) && \"http\"!=url.substr(0,4) && \"/\"!=url.substr(0,1)) fetchUrl=fileBase+url;\n\n      var r = new XMLHttpRequest();\n      r.overrideMimeType('application/json');\n      r.open(\"GET\", fetchUrl, true);\n      if(self.options.ajaxCredentials) r.withCredentials=self.options.ajaxCredentials;\n      r.onreadystatechange = function () {\n        if (r.readyState != 4) return;\n        // Request succeeded\n        if(r.status === 200) {\n          var response;\n          try {\n            response = JSON.parse(r.responseText);\n          }\n          catch(e) {\n            window.console.log(e);\n            throw \"Failed to parse external ref \"+fetchUrl;\n          }\n          if (!(typeof response === \"boolean\" || typeof response === \"object\") || response === null || Array.isArray(response)) throw \"External ref does not contain a valid schema - \"+fetchUrl;  \n\n          self.refs[url] = response;\n          var fileBase = self._getFileBaseFromFileLocation(fetchUrl);\n          self._getDefinitions(response, fetchUrl + \"#/definitions/\");\n          self._loadExternalRefs(response,function() {\n            done++;\n            if(done >= waiting && !callback_fired) {\n              callback_fired = true;\n              callback();\n            }\n          }, fetchUrl, fileBase);\n        }\n        // Request failed\n        else {\n          window.console.log(r);\n          throw \"Failed to fetch ref via ajax- \"+url;\n        }\n      };\n      r.send();\n    });\n    \n    if(!waiting) {\n      callback();\n    }\n  },\n  expandRefs: function(schema) {\n    schema = $extend({},schema);\n    \n    while (schema.$ref) {\n      var refObj = this.refs_with_info[schema.$ref];\n      delete schema.$ref;\n      var fetchUrl = \"\";\n      if (refObj.$ref.startsWith(\"#\")) {\n        fetchUrl = refObj.fetchUrl;\n      }\n      var ref = fetchUrl + refObj.$ref;\n      if(!this.refs[ref]) ref = fetchUrl + decodeURIComponent(refObj.$ref);\n      schema = this.extendSchemas(schema, $extend({},this.refs[ref]));\n    }\n    return schema;\n  },\n  expandSchema: function(schema, fileBase) {\n    var self = this;\n    var extended = $extend({},schema);\n    var i;\n\n    // Version 3 `type`\n    if(typeof schema.type === 'object') {\n      // Array of types\n      if(Array.isArray(schema.type)) {\n        $each(schema.type, function(key,value) {\n          // Schema\n          if(typeof value === 'object') {\n            schema.type[key] = self.expandSchema(value);\n          }\n        });\n      }\n      // Schema\n      else {\n        schema.type = self.expandSchema(schema.type);\n      }\n    }\n    // Version 3 `disallow`\n    if(typeof schema.disallow === 'object') {\n      // Array of types\n      if(Array.isArray(schema.disallow)) {\n        $each(schema.disallow, function(key,value) {\n          // Schema\n          if(typeof value === 'object') {\n            schema.disallow[key] = self.expandSchema(value);\n          }\n        });\n      }\n      // Schema\n      else {\n        schema.disallow = self.expandSchema(schema.disallow);\n      }\n    }\n    // Version 4 `anyOf`\n    if(schema.anyOf) {\n      $each(schema.anyOf, function(key,value) {\n        schema.anyOf[key] = self.expandSchema(value);\n      });\n    }\n    // Version 4 `dependencies` (schema dependencies)\n    if(schema.dependencies) {\n      $each(schema.dependencies,function(key,value) {\n        if(typeof value === \"object\" && !(Array.isArray(value))) {\n          schema.dependencies[key] = self.expandSchema(value);\n        }\n      });\n    }\n    // Version 4 `not`\n    if(schema.not) {\n      schema.not = this.expandSchema(schema.not);\n    }\n    \n    // allOf schemas should be merged into the parent\n    if(schema.allOf) {\n      for(i=0; i<schema.allOf.length; i++) {\n        extended = this.extendSchemas(extended,this.expandSchema(schema.allOf[i]));\n      }\n      delete extended.allOf;\n    }\n    // extends schemas should be merged into parent\n    if(schema[\"extends\"]) {\n      // If extends is a schema\n      if(!(Array.isArray(schema[\"extends\"]))) {\n        extended = this.extendSchemas(extended,this.expandSchema(schema[\"extends\"]));\n      }\n      // If extends is an array of schemas\n      else {\n        for(i=0; i<schema[\"extends\"].length; i++) {\n          extended = this.extendSchemas(extended,this.expandSchema(schema[\"extends\"][i]));\n        }\n      }\n      delete extended[\"extends\"];\n    }\n    // parent should be merged into oneOf schemas\n    if(schema.oneOf) {\n      var tmp = $extend({},extended);\n      delete tmp.oneOf;\n      for(i=0; i<schema.oneOf.length; i++) {\n        extended.oneOf[i] = this.extendSchemas(this.expandSchema(schema.oneOf[i]),tmp);\n      }\n    }\n    \n    return this.expandRefs(extended);\n  },\n  extendSchemas: function(obj1, obj2) {\n    obj1 = $extend({},obj1);\n    obj2 = $extend({},obj2);\n\n    var self = this;\n    var extended = {};\n    $each(obj1, function(prop,val) {\n      // If this key is also defined in obj2, merge them\n      if(typeof obj2[prop] !== \"undefined\") {\n        // Required and defaultProperties arrays should be unioned together\n        if((prop === 'required'||prop === 'defaultProperties') && typeof val === \"object\" && Array.isArray(val)) {\n          // Union arrays and unique\n          extended[prop] = val.concat(obj2[prop]).reduce(function(p, c) {\n            if (p.indexOf(c) < 0) p.push(c);\n            return p;\n          }, []);\n        }\n        // Type should be intersected and is either an array or string\n        else if(prop === 'type' && (typeof val === \"string\" || Array.isArray(val))) {\n          // Make sure we're dealing with arrays\n          if(typeof val === \"string\") val = [val];\n          if(typeof obj2.type === \"string\") obj2.type = [obj2.type];\n\n          // If type is only defined in the first schema, keep it\n          if(!obj2.type || !obj2.type.length) {\n            extended.type = val;\n          }\n          // If type is defined in both schemas, do an intersect\n          else {\n            extended.type = val.filter(function(n) {\n              return obj2.type.indexOf(n) !== -1;\n            });\n          }\n\n          // If there's only 1 type and it's a primitive, use a string instead of array\n          if(extended.type.length === 1 && typeof extended.type[0] === \"string\") {\n            extended.type = extended.type[0];\n          }\n          // Remove the type property if it's empty\n          else if(extended.type.length === 0) {\n            delete extended.type;\n          }\n        }\n        // All other arrays should be intersected (enum, etc.)\n        else if(typeof val === \"object\" && Array.isArray(val)){\n          extended[prop] = val.filter(function(n) {\n            return obj2[prop].indexOf(n) !== -1;\n          });\n        }\n        // Objects should be recursively merged\n        else if(typeof val === \"object\" && val !== null) {\n          extended[prop] = self.extendSchemas(val,obj2[prop]);\n        }\n        // Otherwise, use the first value\n        else {\n          extended[prop] = val;\n        }\n      }\n      // Otherwise, just use the one in obj1\n      else {\n        extended[prop] = val;\n      }\n    });\n    // Properties in obj2 that aren't in obj1\n    $each(obj2, function(prop,val) {\n      if(typeof obj1[prop] === \"undefined\") {\n        extended[prop] = val;\n      }\n    });\n\n    return extended;\n  },\n  setCopyClipboardContents: function(value) {\n    this.copyClipboard = value;\n  },\n  getCopyClipboardContents: function() {\n    return this.copyClipboard;\n  }\n};\n\nJSONEditor.defaults = {\n  themes: {},\n  templates: {},\n  iconlibs: {},\n  editors: {},\n  languages: {},\n  resolvers: [],\n  custom_validators: []\n};\n","JSONEditor.Validator = Class.extend({\n  init: function(jsoneditor,schema,options) {\n    this.jsoneditor = jsoneditor;\n    this.schema = schema || this.jsoneditor.schema;\n    this.options = options || {};\n    this.translate = this.jsoneditor.translate || JSONEditor.defaults.translate;\n  },\n  validate: function(value) {\n    return this._validateSchema(this.schema, value);\n  },\n  _validateSchema: function(schema,value,path) {\n    var self = this;\n    var errors = [];\n    var valid, i, j;\n    var stringified = JSON.stringify(value);\n\n    path = path || 'root';\n\n    // Work on a copy of the schema\n    schema = $extend({},this.jsoneditor.expandRefs(schema));\n\n    /*\n     * Type Agnostic Validation\n     */\n\n    // Version 3 `required` and `required_by_default`\n    if(typeof value === \"undefined\") {\n      if((typeof schema.required !== \"undefined\" && schema.required === true) || (typeof schema.required === \"undefined\" && this.jsoneditor.options.required_by_default === true)) {\n        errors.push({\n          path: path,\n          property: 'required',\n          message: this.translate(\"error_notset\")\n        });\n      }\n      \n      return errors;\n    }\n\n    // `enum`\n    if(schema[\"enum\"]) {\n      valid = false;\n      for(i=0; i<schema[\"enum\"].length; i++) {\n        if(stringified === JSON.stringify(schema[\"enum\"][i])) valid = true;\n      }\n      if(!valid) {\n        errors.push({\n          path: path,\n          property: 'enum',\n          message: this.translate(\"error_enum\")\n        });\n      }\n    }\n\n    // `extends` (version 3)\n    if(schema[\"extends\"]) {\n      for(i=0; i<schema[\"extends\"].length; i++) {\n        errors = errors.concat(this._validateSchema(schema[\"extends\"][i],value,path));\n      }\n    }\n\n    // `allOf`\n    if(schema.allOf) {\n      for(i=0; i<schema.allOf.length; i++) {\n        errors = errors.concat(this._validateSchema(schema.allOf[i],value,path));\n      }\n    }\n\n    // `anyOf`\n    if(schema.anyOf) {\n      valid = false;\n      for(i=0; i<schema.anyOf.length; i++) {\n        if(!this._validateSchema(schema.anyOf[i],value,path).length) {\n          valid = true;\n          break;\n        }\n      }\n      if(!valid) {\n        errors.push({\n          path: path,\n          property: 'anyOf',\n          message: this.translate('error_anyOf')\n        });\n      }\n    }\n\n    // `oneOf`\n    if(schema.oneOf) {\n      valid = 0;\n      var oneof_errors = [];\n      for(i=0; i<schema.oneOf.length; i++) {\n        // Set the error paths to be path.oneOf[i].rest.of.path\n        var tmp = this._validateSchema(schema.oneOf[i],value,path);\n        if(!tmp.length) {\n          valid++;\n        }\n\n        for(j=0; j<tmp.length; j++) {\n          tmp[j].path = path+'.oneOf['+i+']'+tmp[j].path.substr(path.length);\n        }\n        oneof_errors = oneof_errors.concat(tmp);\n\n      }\n      if(valid !== 1) {\n        errors.push({\n          path: path,\n          property: 'oneOf',\n          message: this.translate('error_oneOf', [valid])\n        });\n        errors = errors.concat(oneof_errors);\n      }\n    }\n\n    // `not`\n    if(schema.not) {\n      if(!this._validateSchema(schema.not,value,path).length) {\n        errors.push({\n          path: path,\n          property: 'not',\n          message: this.translate('error_not')\n        });\n      }\n    }\n\n    // `type` (both Version 3 and Version 4 support)\n    if(schema.type) {\n      // Union type\n      if(Array.isArray(schema.type)) {\n        valid = false;\n        for(i=0;i<schema.type.length;i++) {\n          if(this._checkType(schema.type[i], value)) {\n            valid = true;\n            break;\n          }\n        }\n        if(!valid) {\n          errors.push({\n            path: path,\n            property: 'type',\n            message: this.translate('error_type_union')\n          });\n        }\n      }\n      // Simple type\n      else {\n        if(['date', 'time', 'datetime-local'].indexOf(schema.format) != -1 && schema.type == 'integer') {\n          // Hack to get validator to validate as string even if value is integer\n          // As validation of 'date', 'time', 'datetime-local' is done in separate validator\n          if(!this._checkType('string', \"\"+value)) {\n            errors.push({\n              path: path,\n              property: 'type',\n              message: this.translate('error_type', [schema.format])\n            });\n          }\n        }\n        else if(!this._checkType(schema.type, value)) {\n          errors.push({\n            path: path,\n            property: 'type',\n            message: this.translate('error_type', [schema.type])\n          });\n        }\n      }\n    }\n\n\n    // `disallow` (version 3)\n    if(schema.disallow) {\n      // Union type\n      if(Array.isArray(schema.disallow)) {\n        valid = true;\n        for(i=0;i<schema.disallow.length;i++) {\n          if(this._checkType(schema.disallow[i], value)) {\n            valid = false;\n            break;\n          }\n        }\n        if(!valid) {\n          errors.push({\n            path: path,\n            property: 'disallow',\n            message: this.translate('error_disallow_union')\n          });\n        }\n      }\n      // Simple type\n      else {\n        if(this._checkType(schema.disallow, value)) {\n          errors.push({\n            path: path,\n            property: 'disallow',\n            message: this.translate('error_disallow', [schema.disallow])\n          });\n        }\n      }\n    }\n\n    /*\n     * Type Specific Validation\n     */\n\n    // Number Specific Validation\n    if(typeof value === \"number\") {\n      // `multipleOf` and `divisibleBy`\n      if(schema.multipleOf || schema.divisibleBy) {\n        var divisor = schema.multipleOf || schema.divisibleBy;\n        // Vanilla JS, prone to floating point rounding errors (e.g. 1.14 / .01 == 113.99999)\n        valid = (value/divisor === Math.floor(value/divisor));\n\n        // Use math.js is available\n        if(window.math) {\n          valid = window.math.mod(window.math.bignumber(value), window.math.bignumber(divisor)).equals(0);\n        }\n        // Use decimal.js is available\n        else if(window.Decimal) {\n          valid = (new window.Decimal(value)).mod(new window.Decimal(divisor)).equals(0);\n        }\n\n        if(!valid) {\n          errors.push({\n            path: path,\n            property: schema.multipleOf? 'multipleOf' : 'divisibleBy',\n            message: this.translate('error_multipleOf', [divisor])\n          });\n        }\n      }\n\n      // `maximum`\n      if(schema.hasOwnProperty('maximum')) {\n        // Vanilla JS, prone to floating point rounding errors (e.g. .999999999999999 == 1)\n        valid = schema.exclusiveMaximum? (value < schema.maximum) : (value <= schema.maximum);\n\n        // Use math.js is available\n        if(window.math) {\n          valid = window.math[schema.exclusiveMaximum?'smaller':'smallerEq'](\n            window.math.bignumber(value),\n            window.math.bignumber(schema.maximum)\n          );\n        }\n        // Use Decimal.js if available\n        else if(window.Decimal) {\n          valid = (new window.Decimal(value))[schema.exclusiveMaximum?'lt':'lte'](new window.Decimal(schema.maximum));\n        }\n\n        if(!valid) {\n          errors.push({\n            path: path,\n            property: 'maximum',\n            message: this.translate(\n              (schema.exclusiveMaximum?'error_maximum_excl':'error_maximum_incl'),\n              [schema.maximum]\n            )\n          });\n        }\n      }\n\n      // `minimum`\n      if(schema.hasOwnProperty('minimum')) {\n        // Vanilla JS, prone to floating point rounding errors (e.g. .999999999999999 == 1)\n        valid = schema.exclusiveMinimum? (value > schema.minimum) : (value >= schema.minimum);\n\n        // Use math.js is available\n        if(window.math) {\n          valid = window.math[schema.exclusiveMinimum?'larger':'largerEq'](\n            window.math.bignumber(value),\n            window.math.bignumber(schema.minimum)\n          );\n        }\n        // Use Decimal.js if available\n        else if(window.Decimal) {\n          valid = (new window.Decimal(value))[schema.exclusiveMinimum?'gt':'gte'](new window.Decimal(schema.minimum));\n        }\n\n        if(!valid) {\n          errors.push({\n            path: path,\n            property: 'minimum',\n            message: this.translate(\n              (schema.exclusiveMinimum?'error_minimum_excl':'error_minimum_incl'),\n              [schema.minimum]\n            )\n          });\n        }\n      }\n    }\n    // String specific validation\n    else if(typeof value === \"string\") {\n      // `maxLength`\n      if(schema.maxLength) {\n        if((value+\"\").length > schema.maxLength) {\n          errors.push({\n            path: path,\n            property: 'maxLength',\n            message: this.translate('error_maxLength', [schema.maxLength])\n          });\n        }\n      }\n\n      // `minLength`\n      if(schema.minLength) {\n        if((value+\"\").length < schema.minLength) {\n          errors.push({\n            path: path,\n            property: 'minLength',\n            message: this.translate((schema.minLength===1?'error_notempty':'error_minLength'), [schema.minLength])\n          });\n        }\n      }\n\n      // `pattern`\n      if(schema.pattern) {\n        if(!(new RegExp(schema.pattern)).test(value)) {\n          errors.push({\n            path: path,\n            property: 'pattern',\n            message: this.translate('error_pattern', [schema.pattern])\n          });\n        }\n      }\n    }\n    // Array specific validation\n    else if(typeof value === \"object\" && value !== null && Array.isArray(value)) {\n      // `items` and `additionalItems`\n      if(schema.items) {\n        // `items` is an array\n        if(Array.isArray(schema.items)) {\n          for(i=0; i<value.length; i++) {\n            // If this item has a specific schema tied to it\n            // Validate against it\n            if(schema.items[i]) {\n              errors = errors.concat(this._validateSchema(schema.items[i],value[i],path+'.'+i));\n            }\n            // If all additional items are allowed\n            else if(schema.additionalItems === true) {\n              break;\n            }\n            // If additional items is a schema\n            // TODO: Incompatibility between version 3 and 4 of the spec\n            else if(schema.additionalItems) {\n              errors = errors.concat(this._validateSchema(schema.additionalItems,value[i],path+'.'+i));\n            }\n            // If no additional items are allowed\n            else if(schema.additionalItems === false) {\n              errors.push({\n                path: path,\n                property: 'additionalItems',\n                message: this.translate('error_additionalItems')\n              });\n              break;\n            }\n            // Default for `additionalItems` is an empty schema\n            else {\n              break;\n            }\n          }\n        }\n        // `items` is a schema\n        else {\n          // Each item in the array must validate against the schema\n          for(i=0; i<value.length; i++) {\n            errors = errors.concat(this._validateSchema(schema.items,value[i],path+'.'+i));\n          }\n        }\n      }\n\n      // `maxItems`\n      if(schema.maxItems) {\n        if(value.length > schema.maxItems) {\n          errors.push({\n            path: path,\n            property: 'maxItems',\n            message: this.translate('error_maxItems', [schema.maxItems])\n          });\n        }\n      }\n\n      // `minItems`\n      if(schema.minItems) {\n        if(value.length < schema.minItems) {\n          errors.push({\n            path: path,\n            property: 'minItems',\n            message: this.translate('error_minItems', [schema.minItems])\n          });\n        }\n      }\n\n      // `uniqueItems`\n      if(schema.uniqueItems) {\n        var seen = {};\n        for(i=0; i<value.length; i++) {\n          valid = JSON.stringify(value[i]);\n          if(seen[valid]) {\n            errors.push({\n              path: path,\n              property: 'uniqueItems',\n              message: this.translate('error_uniqueItems')\n            });\n            break;\n          }\n          seen[valid] = true;\n        }\n      }\n    }\n    // Object specific validation\n    else if(typeof value === \"object\" && value !== null) {\n      // `maxProperties`\n      if(schema.maxProperties) {\n        valid = 0;\n        for(i in value) {\n          if(!value.hasOwnProperty(i)) continue;\n          valid++;\n        }\n        if(valid > schema.maxProperties) {\n          errors.push({\n            path: path,\n            property: 'maxProperties',\n            message: this.translate('error_maxProperties', [schema.maxProperties])\n          });\n        }\n      }\n\n      // `minProperties`\n      if(schema.minProperties) {\n        valid = 0;\n        for(i in value) {\n          if(!value.hasOwnProperty(i)) continue;\n          valid++;\n        }\n        if(valid < schema.minProperties) {\n          errors.push({\n            path: path,\n            property: 'minProperties',\n            message: this.translate('error_minProperties', [schema.minProperties])\n          });\n        }\n      }\n\n      // Version 4 `required`\n      if(typeof schema.required !== \"undefined\" && Array.isArray(schema.required)) {\n        for(i=0; i<schema.required.length; i++) {\n          if(typeof value[schema.required[i]] === \"undefined\") {\n            errors.push({\n              path: path,\n              property: 'required',\n              message: this.translate('error_required', [schema.required[i]])\n            });\n          }\n        }\n      }\n\n      // `properties`\n      var validated_properties = {};\n      for(i in schema.properties) {\n        if(!schema.properties.hasOwnProperty(i)) continue;\n        validated_properties[i] = true;\n        errors = errors.concat(this._validateSchema(schema.properties[i],value[i],path+'.'+i));\n      }\n\n      // `patternProperties`\n      if(schema.patternProperties) {\n        for(i in schema.patternProperties) {\n          if(!schema.patternProperties.hasOwnProperty(i)) continue;\n          var regex = new RegExp(i);\n\n          // Check which properties match\n          for(j in value) {\n            if(!value.hasOwnProperty(j)) continue;\n            if(regex.test(j)) {\n              validated_properties[j] = true;\n              errors = errors.concat(this._validateSchema(schema.patternProperties[i],value[j],path+'.'+j));\n            }\n          }\n        }\n      }\n\n      // The no_additional_properties option currently doesn't work with extended schemas that use oneOf or anyOf\n      if(typeof schema.additionalProperties === \"undefined\" && this.jsoneditor.options.no_additional_properties && !schema.oneOf && !schema.anyOf) {\n        schema.additionalProperties = false;\n      }\n\n      // `additionalProperties`\n      if(typeof schema.additionalProperties !== \"undefined\") {\n        for(i in value) {\n          if(!value.hasOwnProperty(i)) continue;\n          if(!validated_properties[i]) {\n            // No extra properties allowed\n            if(!schema.additionalProperties) {\n              errors.push({\n                path: path,\n                property: 'additionalProperties',\n                message: this.translate('error_additional_properties', [i])\n              });\n              break;\n            }\n            // Allowed\n            else if(schema.additionalProperties === true) {\n              break;\n            }\n            // Must match schema\n            // TODO: incompatibility between version 3 and 4 of the spec\n            else {\n              errors = errors.concat(this._validateSchema(schema.additionalProperties,value[i],path+'.'+i));\n            }\n          }\n        }\n      }\n\n      // `dependencies`\n      if(schema.dependencies) {\n        for(i in schema.dependencies) {\n          if(!schema.dependencies.hasOwnProperty(i)) continue;\n\n          // Doesn't need to meet the dependency\n          if(typeof value[i] === \"undefined\") continue;\n\n          // Property dependency\n          if(Array.isArray(schema.dependencies[i])) {\n            for(j=0; j<schema.dependencies[i].length; j++) {\n              if(typeof value[schema.dependencies[i][j]] === \"undefined\") {\n                errors.push({\n                  path: path,\n                  property: 'dependencies',\n                  message: this.translate('error_dependency', [schema.dependencies[i][j]])\n                });\n              }\n            }\n          }\n          // Schema dependency\n          else {\n            errors = errors.concat(this._validateSchema(schema.dependencies[i],value,path));\n          }\n        }\n      }\n    }\n\n    if (schema.links) {\n      for (var m = 0; m < schema.links.length; m++) {\n        if (schema.links[m].rel.toLowerCase() === \"describedby\") {\n          var href = schema.links[m].href;\n          var data = this.jsoneditor.root.getValue();\n          //var template = new UriTemplate(href); //preprocessURI(href));\n          //var ref = template.fillFromObject(data);\n          var template = this.jsoneditor.compileTemplate(href, this.jsoneditor.template);\n          var ref = template(data);\n\n          schema.links.splice(m, 1);\n\n          schema = $extend({}, schema, this.jsoneditor.refs[ref]);\n\n          errors = errors.concat(this._validateSchema(schema, value, path));\n        }\n      }\n    }\n\n    // date, time and datetime-local validation\n    if(['date', 'time', 'datetime-local'].indexOf(schema.format) != -1) {\n\n      var validatorRx = {\n        'date': /^(\\d{4}\\D\\d{2}\\D\\d{2})?$/,\n        'time': /^(\\d{2}:\\d{2}(?::\\d{2})?)?$/,\n        'datetime-local': /^(\\d{4}\\D\\d{2}\\D\\d{2}[ T]\\d{2}:\\d{2}(?::\\d{2})?)?$/\n      };\n      var format = {\n        'date': '\"YYYY-MM-DD\"',\n        'time': '\"HH:MM\"',\n        'datetime-local': '\"YYYY-MM-DD HH:MM\"'\n      };\n\n      var ed = this.jsoneditor.getEditor(path);\n      var dateFormat = (ed && ed.flatpickr) ? ed.flatpickr.config.dateFormat : format[schema.format];\n\n      if (schema.type == 'integer') {\n        // The value is a timestamp\n        if (value * 1 < 1) {\n          // If value is less than 1, then it's an invalid epoch date before 00:00:00 UTC Thursday, 1 January 1970\n          errors.push({\n            path: path,\n            property: 'format',\n            message: this.translate('error_invalid_epoch')\n          });\n        }\n        else if (value != Math.abs(parseInt(value))) {\n          // not much to check for, so we assume value is ok if it's a positive number\n          errors.push({\n            path: path,\n            property: 'format',\n            message: this.translate('error_' + schema.format.replace(/-/g, \"_\"), [dateFormat])\n          });\n        }\n      }\n      else if (!ed || !ed.flatpickr) {\n        // Standard string input, without flatpickr\n        if(!validatorRx[schema.format].test(value)) {\n          errors.push({\n            path: path,\n            property: 'format',\n            message: this.translate('error_' + schema.format.replace(/-/g, \"_\"), [dateFormat])\n          });\n        }\n      }\n      else if (ed) {\n        // Flatpickr validation\n        if (value !== '') {\n\n          var compareValue;\n          if(ed.flatpickr.config.mode != 'single') {\n            var seperator = ed.flatpickr.config.mode == 'range' ? ed.flatpickr.l10n.rangeSeparator : ', ';\n            var selectedDates = ed.flatpickr.selectedDates.map(function(val) {\n                return ed.flatpickr.formatDate(val, ed.flatpickr.config.dateFormat);\n            });\n            compareValue = selectedDates.join(seperator);\n          }\n\n          try {\n            if (compareValue) {\n              // Not the best validation method, but range and multiple mode are special\n              // Optimal solution would be if it is possible to change the return format from string/integer to array\n              if (compareValue != value) throw ed.flatpickr.config.mode + ' mismatch';\n            }\n            else if (ed.flatpickr.formatDate(ed.flatpickr.parseDate(value, ed.flatpickr.config.dateFormat), ed.flatpickr.config.dateFormat) != value) throw 'mismatch';\n          }\n          catch(err) {\n            var errorDateFormat = ed.flatpickr.config.errorDateFormat !== undefined ? ed.flatpickr.config.errorDateFormat : ed.flatpickr.config.dateFormat;\n            errors.push({\n              path: path,\n              property: 'format',\n              message: this.translate('error_' + ed.format.replace(/-/g, \"_\"), [errorDateFormat])\n            });\n          }\n        }\n      }\n    }\n    // Custom type validation (global)\n    $each(JSONEditor.defaults.custom_validators,function(i,validator) {\n      errors = errors.concat(validator.call(self,schema,value,path));\n    });\n    // Custom type validation (instance specific)\n    if(this.options.custom_validators) {\n      $each(this.options.custom_validators,function(i,validator) {\n        errors = errors.concat(validator.call(self,schema,value,path));\n      });\n    }\n\n    return errors;\n  },\n  _checkType: function(type, value) {\n    // Simple types\n    if(typeof type === \"string\") {\n      if(type===\"string\") return typeof value === \"string\";\n      else if(type===\"number\") return typeof value === \"number\";\n      else if(type===\"integer\") return typeof value === \"number\" && value === Math.floor(value);\n      else if(type===\"boolean\") return typeof value === \"boolean\";\n      else if(type===\"array\") return Array.isArray(value);\n      else if(type === \"object\") return value !== null && !(Array.isArray(value)) && typeof value === \"object\";\n      else if(type === \"null\") return value === null;\n      else return true;\n    }\n    // Schema\n    else {\n      return !this._validateSchema(type,value).length;\n    }\n  }\n});\n","/**\n * All editors should extend from this class\n */\nJSONEditor.AbstractEditor = Class.extend({\n  onChildEditorChange: function(editor) {\n    this.onChange(true);\n  },\n  notify: function() {\n    if(this.path) this.jsoneditor.notifyWatchers(this.path);\n  },\n  change: function() {\n    if(this.parent) this.parent.onChildEditorChange(this);\n    else if(this.jsoneditor) this.jsoneditor.onChange();\n  },\n  onChange: function(bubble) {\n    this.notify();\n    if(this.watch_listener) this.watch_listener();\n    if(bubble) this.change();\n  },\n  register: function() {\n    this.jsoneditor.registerEditor(this);\n    this.onChange();\n  },\n  unregister: function() {\n    if(!this.jsoneditor) return;\n    this.jsoneditor.unregisterEditor(this);\n  },\n  getNumColumns: function() {\n    return 12;\n  },\n  isActive: function() {\n    return this.active;\n  },\n  activate: function() {\n    this.active = true;\n    this.optInCheckbox.checked = true;\n    this.enable();\n    this.change();\n  },\n  deactivate: function() {\n    // only non required properties can be deactivated.\n    if (!this.isRequired()) {\n      this.active = false;\n      this.optInCheckbox.checked = false;\n      this.disable();\n      this.change();\n    }\n  },\n  init: function(options) {\n    this.jsoneditor = options.jsoneditor;\n\n    this.theme = this.jsoneditor.theme;\n    this.template_engine = this.jsoneditor.template;\n    this.iconlib = this.jsoneditor.iconlib;\n\n    this.translate = this.jsoneditor.translate || JSONEditor.defaults.translate;\n\n    this.original_schema = options.schema;\n    this.schema = this.jsoneditor.expandSchema(this.original_schema);\n\n    this.active = true;\n\n    this.options = $extend({}, (this.options || {}), (this.schema.options || {}), (options.schema.options || {}), options);\n\n    if(!options.path && !this.schema.id) this.schema.id = 'root';\n    this.path = options.path || 'root';\n    this.formname = options.formname || this.path.replace(/\\.([^.]+)/g,'[$1]');\n    if(this.jsoneditor.options.form_name_root) this.formname = this.formname.replace(/^root\\[/,this.jsoneditor.options.form_name_root+'[');\n    this.key = this.path.split('.').pop();\n    this.parent = options.parent;\n\n    this.link_watchers = [];\n\n    if(options.container) this.setContainer(options.container);\n    this.registerDependencies();\n  },\n  registerDependencies: function() {\n    this.dependenciesFulfilled = true;\n    var deps = this.options.dependencies;\n    if (!deps) {\n      return;\n    }\n\n    var self = this;\n    Object.keys(deps).forEach(function(dependency) {\n      var path = self.path.split('.');\n      path[path.length - 1] = dependency;\n      path = path.join('.');\n      var choices = deps[dependency];\n      self.jsoneditor.watch(path, function() {\n        self.checkDependency(path, choices);\n      });\n    });\n  },\n  checkDependency: function(path, choices) {\n    var wrapper = this.container || this.control;\n    if (this.path === path || !wrapper || this.jsoneditor === null) {   \n      return;\n    }\n\n    var self = this;\n    var editor = this.jsoneditor.getEditor(path);\n    var value = editor ? editor.getValue() : undefined;\n    var previousStatus = this.dependenciesFulfilled;\n    this.dependenciesFulfilled = false;\n\n    if (!editor || !editor.dependenciesFulfilled) {\n      this.dependenciesFulfilled = false;\n    } else if (Array.isArray(choices)) {\n      choices.some(function(choice) {\n        if (value === choice) {\n          self.dependenciesFulfilled = true;\n          return true;\n        }\n      });\n    } else if (typeof choices === 'object') {\n      if (typeof value !== 'object') {\n        this.dependenciesFulfilled = choices === value;\n      } else {\n        Object.keys(choices).some(function(key) {\n          if (!choices.hasOwnProperty(key)) {\n            return false;\n          }\n          if (!value.hasOwnProperty(key) || choices[key] !== value[key]) {\n            self.dependenciesFulfilled = false;\n            return true;\n          }\n          self.dependenciesFulfilled = true;\n        });\n      }\n    } else if (typeof choices === 'string' || typeof choices === 'number') {\n      this.dependenciesFulfilled = value === choices;\n    } else if (typeof choices === 'boolean') {\n      if (choices) {\n        this.dependenciesFulfilled = value && value.length > 0;\n      } else {\n        this.dependenciesFulfilled = !value || value.length === 0;\n      }\n    }\n\n    if (this.dependenciesFulfilled !== previousStatus) {\n      this.notify();\n    }\n\n    if (this.dependenciesFulfilled) {\n      wrapper.style.display = 'block';\n    } else {\n      wrapper.style.display = 'none';\n    }\n  },\n  setContainer: function(container) {\n    this.container = container;\n    if(this.schema.id) this.container.setAttribute('data-schemaid',this.schema.id);\n    if(this.schema.type && typeof this.schema.type === \"string\") this.container.setAttribute('data-schematype',this.schema.type);\n    this.container.setAttribute('data-schemapath',this.path);\n  },\n  setOptInCheckbox: function(header) {\n    // the active/deactive checbox control.\n    var self = this;\n    this.optInCheckbox = document.createElement('input');\n    this.optInCheckbox.setAttribute('type', 'checkbox');\n    this.optInCheckbox.setAttribute('style', 'margin: 0 10px 0 0;');\n    this.optInCheckbox.classList.add('json-editor-opt-in');\n\n    this.optInCheckbox.addEventListener('click', function () {\n      if (self.isActive()) {\n        self.deactivate();\n      } else {\n        self.activate();\n      }\n    });\n\n    // append active/deactive checkbox if show_opt_in is true\n    if (this.jsoneditor.options.show_opt_in || this.options.show_opt_in) {\n      // and control to type object editors if they are not required\n      if (this.parent && this.parent.schema.type === 'object' && !this.isRequired() && this.header) {\n        this.header.appendChild(this.optInCheckbox);\n        this.header.insertBefore(this.optInCheckbox, this.header.firstChild);\n      }\n    }\n\n  },\n  preBuild: function() {\n\n  },\n  build: function() {\n\n  },\n  postBuild: function() {\n    this.setupWatchListeners();\n    this.addLinks();\n    this.setValue(this.getDefault(), true);\n    this.updateHeaderText();\n    this.register();\n    this.onWatchedFieldChange();\n  },\n  setupWatchListeners: function() {\n    var self = this;\n\n    // Watched fields\n    this.watched = {};\n    if(this.schema.vars) this.schema.watch = this.schema.vars;\n    this.watched_values = {};\n    this.watch_listener = function() {\n      if(self.refreshWatchedFieldValues()) {\n        self.onWatchedFieldChange();\n      }\n    };\n\n    if(this.schema.hasOwnProperty('watch')) {\n      var path,path_parts,first,root,adjusted_path;\n\n      for(var name in this.schema.watch) {\n        if(!this.schema.watch.hasOwnProperty(name)) continue;\n        path = this.schema.watch[name];\n\n        if(Array.isArray(path)) {\n          if(path.length<2) continue;\n          path_parts = [path[0]].concat(path[1].split('.'));\n        }\n        else {\n          path_parts = path.split('.');\n          if(!self.theme.closest(self.container,'[data-schemaid=\"'+path_parts[0]+'\"]')) path_parts.unshift('#');\n        }\n        first = path_parts.shift();\n\n        if(first === '#') first = self.jsoneditor.schema.id || 'root';\n\n        // Find the root node for this template variable\n        root = self.theme.closest(self.container,'[data-schemaid=\"'+first+'\"]');\n        if(!root) throw \"Could not find ancestor node with id \"+first;\n\n        // Keep track of the root node and path for use when rendering the template\n        adjusted_path = root.getAttribute('data-schemapath') + '.' + path_parts.join('.');\n\n        self.jsoneditor.watch(adjusted_path,self.watch_listener);\n\n        self.watched[name] = adjusted_path;\n      }\n    }\n\n    // Dynamic header\n    if(this.schema.headerTemplate) {\n      this.header_template = this.jsoneditor.compileTemplate(this.schema.headerTemplate, this.template_engine);\n    }\n  },\n\n  addLinks: function() {\n    // Add links\n    if(!this.no_link_holder) {\n      this.link_holder = this.theme.getLinksHolder();\n      this.container.appendChild(this.link_holder);\n      if(this.schema.links) {\n        for(var i=0; i<this.schema.links.length; i++) {\n          this.addLink(this.getLink(this.schema.links[i]));\n        }\n      }\n    }\n  },\n  onMove: function() {},\n  getButton: function(text, icon, title) {\n    var btnClass = 'json-editor-btn-'+icon;\n    if(!this.iconlib) icon = null;\n    else icon = this.iconlib.getIcon(icon);\n\n    if(!icon && title) {\n      text = title;\n      title = null;\n    }\n\n    var btn = this.theme.getButton(text, icon, title);\n    btn.classList.add(btnClass);\n    return btn;\n  },\n  setButtonText: function(button, text, icon, title) {\n    if(!this.iconlib) icon = null;\n    else icon = this.iconlib.getIcon(icon);\n\n    if(!icon && title) {\n      text = title;\n      title = null;\n    }\n\n    return this.theme.setButtonText(button, text, icon, title);\n  },\n  addLink: function(link) {\n    if(this.link_holder) this.link_holder.appendChild(link);\n  },\n  getLink: function(data) {\n    var holder, link;\n\n    // Get mime type of the link\n    var mime = data.mediaType || 'application/javascript';\n    var type = mime.split('/')[0];\n\n    // Template to generate the link href\n    var href = this.jsoneditor.compileTemplate(data.href,this.template_engine);\n    var relTemplate = this.jsoneditor.compileTemplate(data.rel ? data.rel : data.href,this.template_engine);\n\n    // Template to generate the link's download attribute\n    var download = null;\n    if(data.download) download = data.download;\n\n    if(download && download !== true) {\n      download = this.jsoneditor.compileTemplate(download, this.template_engine);\n    }\n\n    // Image links\n    if(type === 'image') {\n      holder = this.theme.getBlockLinkHolder();\n      link = document.createElement('a');\n      link.setAttribute('target','_blank');\n      var image = document.createElement('img');\n\n      this.theme.createImageLink(holder,link,image);\n\n      // When a watched field changes, update the url\n      this.link_watchers.push(function(vars) {\n        var url = href(vars);\n        var rel = relTemplate(vars);\n        link.setAttribute('href',url);\n        link.setAttribute('title',rel || url);\n        image.setAttribute('src',url);\n      });\n    }\n    // Audio/Video links\n    else if(['audio','video'].indexOf(type) >=0) {\n      holder = this.theme.getBlockLinkHolder();\n\n      link = this.theme.getBlockLink();\n      link.setAttribute('target','_blank');\n\n      var media = document.createElement(type);\n      media.setAttribute('controls','controls');\n\n      this.theme.createMediaLink(holder,link,media);\n\n      // When a watched field changes, update the url\n      this.link_watchers.push(function(vars) {\n        var url = href(vars);\n        var rel = relTemplate(vars);\n        link.setAttribute('href',url);\n        link.textContent = rel || url;\n        media.setAttribute('src',url);\n      });\n    }\n    // Text links\n    else {\n      link = holder = this.theme.getBlockLink();\n      holder.setAttribute('target','_blank');\n      holder.textContent = data.rel;\n\n      // When a watched field changes, update the url\n      this.link_watchers.push(function(vars) {\n        var url = href(vars);\n        var rel = relTemplate(vars);\n        holder.setAttribute('href',url);\n        holder.textContent = rel || url;\n      });\n    }\n\n    if(download && link) {\n      if(download === true) {\n        link.setAttribute('download','');\n      }\n      else {\n        this.link_watchers.push(function(vars) {\n          link.setAttribute('download',download(vars));\n        });\n      }\n    }\n\n    if(data.class) link.classList.add(data.class);\n\n    return holder;\n  },\n  refreshWatchedFieldValues: function() {\n    if(!this.watched_values) return;\n    var watched = {};\n    var changed = false;\n    var self = this;\n\n    if(this.watched) {\n      var val,editor;\n      for(var name in this.watched) {\n        if(!this.watched.hasOwnProperty(name)) continue;\n        editor = self.jsoneditor.getEditor(this.watched[name]);\n        val = editor? editor.getValue() : null;\n        if(self.watched_values[name] !== val) changed = true;\n        watched[name] = val;\n      }\n    }\n\n    watched.self = this.getValue();\n    if(this.watched_values.self !== watched.self) changed = true;\n\n    this.watched_values = watched;\n\n    return changed;\n  },\n  getWatchedFieldValues: function() {\n    return this.watched_values;\n  },\n  updateHeaderText: function() {\n    if(this.header) {\n      var header_text = this.getHeaderText();\n      // If the header has children, only update the text node's value\n      if(this.header.children.length) {\n        for(var i=0; i<this.header.childNodes.length; i++) {\n          if(this.header.childNodes[i].nodeType===3) {\n            this.header.childNodes[i].nodeValue = this.cleanText(header_text);\n            break;\n          }\n        }\n      }\n      // Otherwise, just update the entire node\n      else {\n        if (window.DOMPurify) this.header.innerHTML = window.DOMPurify.sanitize(header_text);\n        else this.header.textContent = this.cleanText(header_text);\n      }\n    }\n  },\n  getHeaderText: function(title_only) {\n    if(this.header_text) return this.header_text;\n    else if(title_only) return this.schema.title;\n    else return this.getTitle();\n  },\n  cleanText: function(txt) {\n    // Clean out HTML tags from txt\n    var tmp = document.createElement('div');\n    tmp.innerHTML = txt;\n    return (tmp.textContent || tmp.innerText);\n  },\n  onWatchedFieldChange: function() {\n    var vars;\n    if(this.header_template) {\n      vars = $extend(this.getWatchedFieldValues(),{\n        key: this.key,\n        i: this.key,\n        i0: (this.key*1),\n        i1: (this.key*1+1),\n        title: this.getTitle()\n      });\n      var header_text = this.header_template(vars);\n\n      if(header_text !== this.header_text) {\n        this.header_text = header_text;\n        this.updateHeaderText();\n        this.notify();\n        //this.fireChangeHeaderEvent();\n      }\n    }\n    if(this.link_watchers.length) {\n      vars = this.getWatchedFieldValues();\n      for(var i=0; i<this.link_watchers.length; i++) {\n        this.link_watchers[i](vars);\n      }\n    }\n  },\n  setValue: function(value) {\n    this.value = value;\n  },\n  getValue: function() {\n    if (!this.dependenciesFulfilled) {\n      return undefined;\n    }\n    return this.value;\n  },\n  refreshValue: function() {\n\n  },\n  getChildEditors: function() {\n    return false;\n  },\n  destroy: function() {\n    var self = this;\n    this.unregister(this);\n    $each(this.watched,function(name,adjusted_path) {\n      self.jsoneditor.unwatch(adjusted_path,self.watch_listener);\n    });\n    this.watched = null;\n    this.watched_values = null;\n    this.watch_listener = null;\n    this.header_text = null;\n    this.header_template = null;\n    this.value = null;\n    if(this.container && this.container.parentNode) this.container.parentNode.removeChild(this.container);\n    this.container = null;\n    this.jsoneditor = null;\n    this.schema = null;\n    this.path = null;\n    this.key = null;\n    this.parent = null;\n  },\n  getDefault: function() {\n    if (typeof this.schema[\"default\"] !== 'undefined') {\n      return this.schema[\"default\"];\n    }\n\n    if (typeof this.schema[\"enum\"] !== 'undefined') {\n      return this.schema[\"enum\"][0];\n    }\n\n    var type = this.schema.type || this.schema.oneOf;\n    if(type && Array.isArray(type)) type = type[0];\n    if(type && typeof type === \"object\") type = type.type;\n    if(type && Array.isArray(type)) type = type[0];\n\n    if(typeof type === \"string\") {\n      if(type === \"number\") return 0.0;\n      if(type === \"boolean\") return false;\n      if(type === \"integer\") return 0;\n      if(type === \"string\") return \"\";\n      if(type === \"object\") return {};\n      if(type === \"array\") return [];\n    }\n\n    return null;\n  },\n  getTitle: function() {\n    return this.schema.title || this.key;\n  },\n  enable: function() {\n    this.disabled = false;\n  },\n  disable: function() {\n    this.disabled = true;\n  },\n  isEnabled: function() {\n    return !this.disabled;\n  },\n  isRequired: function() {\n    if(typeof this.schema.required === \"boolean\") return this.schema.required;\n    else if(this.parent && this.parent.schema && Array.isArray(this.parent.schema.required)) return this.parent.schema.required.indexOf(this.key) > -1;\n    else if(this.jsoneditor.options.required_by_default) return true;\n    else return false;\n  },\n  getDisplayText: function(arr) {\n    var disp = [];\n    var used = {};\n\n    // Determine how many times each attribute name is used.\n    // This helps us pick the most distinct display text for the schemas.\n    $each(arr,function(i,el) {\n      if(el.title) {\n        used[el.title] = used[el.title] || 0;\n        used[el.title]++;\n      }\n      if(el.description) {\n        used[el.description] = used[el.description] || 0;\n        used[el.description]++;\n      }\n      if(el.format) {\n        used[el.format] = used[el.format] || 0;\n        used[el.format]++;\n      }\n      if(el.type) {\n        used[el.type] = used[el.type] || 0;\n        used[el.type]++;\n      }\n    });\n\n    // Determine display text for each element of the array\n    $each(arr,function(i,el)  {\n      var name;\n\n      // If it's a simple string\n      if(typeof el === \"string\") name = el;\n      // Object\n      else if(el.title && used[el.title]<=1) name = el.title;\n      else if(el.format && used[el.format]<=1) name = el.format;\n      else if(el.type && used[el.type]<=1) name = el.type;\n      else if(el.description && used[el.description]<=1) name = el.descripton;\n      else if(el.title) name = el.title;\n      else if(el.format) name = el.format;\n      else if(el.type) name = el.type;\n      else if(el.description) name = el.description;\n      else if(JSON.stringify(el).length < 500) name = JSON.stringify(el);\n      else name = \"type\";\n\n      disp.push(name);\n    });\n\n    // Replace identical display text with \"text 1\", \"text 2\", etc.\n    var inc = {};\n    $each(disp,function(i,name) {\n      inc[name] = inc[name] || 0;\n      inc[name]++;\n\n      if(used[name] > 1) disp[i] = name + \" \" + inc[name];\n    });\n\n    return disp;\n  },\n\n  // Replace space(s) with \"-\" to create valid id value\n  getValidId: function(id) {\n    id = id === undefined ? \"\" : id.toString();\n    return id.replace(/\\s+/g, \"-\");\n  },\n  setInputAttributes: function(inputAttribute) {\n    if (this.schema.options && this.schema.options.inputAttributes) {\n      var inputAttributes = this.schema.options.inputAttributes;\n      var protectedAttributes = ['name', 'type'].concat(inputAttribute);\n      for (var key in inputAttributes) {\n        if (inputAttributes.hasOwnProperty(key) && protectedAttributes.indexOf(key.toLowerCase()) == -1) {\n          this.input.setAttribute(key, inputAttributes[key]);\n        }\n      }\n    }\n  },\n  getOption: function(key) {\n    try {\n      throw \"getOption is deprecated\";\n    }\n    catch(e) {\n      window.console.error(e);\n    }\n\n    return this.options[key];\n  },\n  showValidationErrors: function(errors) {\n\n  }\n});\n","JSONEditor.defaults.editors[\"null\"] = JSONEditor.AbstractEditor.extend({\n  getValue: function() {\n    if (!this.dependenciesFulfilled) {\n      return undefined;\n    }\n    return null;\n  },\n  setValue: function() {\n    this.onChange();\n  },\n  getNumColumns: function() {\n    return 2;\n  }\n});\n","JSONEditor.defaults.editors.string = JSONEditor.AbstractEditor.extend({\n  register: function() {\n    this._super();\n    if(!this.input) return;\n    this.input.setAttribute('name',this.formname);\n  },\n  unregister: function() {\n    this._super();\n    if(!this.input) return;\n    this.input.removeAttribute('name');\n  },\n  setValue: function(value,initial,from_template) {\n    var self = this;\n    \n    if(this.template && !from_template) {\n      return;\n    }\n    \n    if(value === null || typeof value === 'undefined') value = \"\";\n    else if(typeof value === \"object\") value = JSON.stringify(value);\n    else if(typeof value !== \"string\") value = \"\"+value;\n    \n    if(value === this.serialized) return;\n\n    // Sanitize value before setting it\n    var sanitized = this.sanitize(value);\n\n    if(this.input.value === sanitized) {\n      return;\n    }\n\n    this.input.value = sanitized;\n    \n    // If using SCEditor, update the WYSIWYG\n    if(this.sceditor_instance) {\n      this.sceditor_instance.val(sanitized);\n    }\n    else if(this.SimpleMDE) {\n      this.SimpleMDE.value(sanitized);\n    }\n    else if(this.ace_editor) {\n      this.ace_editor.setValue(sanitized);\n      this.ace_editor.session.getSelection().clearSelection();\n      this.ace_editor.resize();\n    }\n    \n    var changed = from_template || this.getValue() !== value;\n    \n    this.refreshValue();\n    \n    if(initial) this.is_dirty = false;\n    else if(this.jsoneditor.options.show_errors === \"change\") this.is_dirty = true;\n\n    if(this.adjust_height) this.adjust_height(this.input);\n\n    // Bubble this setValue to parents if the value changed\n    this.onChange(changed);\n  },\n  getNumColumns: function() {\n    var min = Math.ceil(Math.max(this.getTitle().length,this.schema.maxLength||0,this.schema.minLength||0)/5);\n    var num;\n    \n    if(this.input_type === 'textarea') num = 6;\n    else if(['text','email'].indexOf(this.input_type) >= 0) num = 4;\n    else num = 2;\n    \n    return Math.min(12,Math.max(min,num));\n  },\n  build: function() {\n    var self = this, i;\n    if(!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    if(this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description);\n    if(this.options.infoText) this.infoButton = this.theme.getInfoButton(this.options.infoText);\n\n    this.format = this.schema.format;\n    if(!this.format && this.schema.media && this.schema.media.type) {\n      this.format = this.schema.media.type.replace(/(^(application|text)\\/(x-)?(script\\.)?)|(-source$)/g,'');\n    }\n    if(!this.format && this.options.default_format) {\n      this.format = this.options.default_format;\n    }\n    if(this.options.format) {\n      this.format = this.options.format;\n    }\n\n    // Specific format\n    if(this.format) {\n      // Text Area\n      if(this.format === 'textarea') {\n        this.input_type = 'textarea';\n        this.input = this.theme.getTextareaInput();\n      }\n      // Range Input\n      else if(this.format === 'range') {\n        this.input_type = 'range';\n        var min = this.schema.minimum || 0;\n        var max = this.schema.maximum || Math.max(100,min+1);\n        var step = 1;\n        if(this.schema.multipleOf) {\n          if(min%this.schema.multipleOf) min = Math.ceil(min/this.schema.multipleOf)*this.schema.multipleOf;\n          if(max%this.schema.multipleOf) max = Math.floor(max/this.schema.multipleOf)*this.schema.multipleOf;\n          step = this.schema.multipleOf;\n        }\n\n        this.input = this.theme.getRangeInput(min,max,step);\n      }\n      // Source Code\n      else if([\n          'actionscript',\n          'batchfile',\n          'bbcode',\n          'c',\n          'c++',\n          'cpp',\n          'coffee',\n          'csharp',\n          'css',\n          'dart',\n          'django',\n          'ejs',\n          'erlang',\n          'golang',\n          'groovy',\n          'handlebars',\n          'haskell',\n          'haxe',\n          'html',\n          'ini',\n          'jade',\n          'java',\n          'javascript',\n          'json',\n          'less',\n          'lisp',\n          'lua',\n          'makefile',\n          'markdown',\n          'matlab',\n          'mysql',\n          'objectivec',\n          'pascal',\n          'perl',\n          'pgsql',\n          'php',\n          'python',\n          'r',\n          'ruby',\n          'sass',\n          'scala',\n          'scss',\n          'smarty',\n          'sql',\n          'sqlserver',\n          'stylus',\n          'svg',\n          'twig',\n          'vbscript',\n          'xml',\n          'yaml'\n        ].indexOf(this.format) >= 0\n      ) {\n        this.input_type = this.format;\n        this.source_code = true;\n        \n        this.input = this.theme.getTextareaInput();\n      }\n      // HTML5 Input type\n      else {\n        this.input_type = this.format;\n        this.input = this.theme.getFormInputField(this.input_type);\n      }\n    }\n    // Normal text input\n    else {\n      this.input_type = 'text';\n      this.input = this.theme.getFormInputField(this.input_type);\n    }\n    \n    // minLength, maxLength, and pattern\n    if(typeof this.schema.maxLength !== \"undefined\") this.input.setAttribute('maxlength',this.schema.maxLength);\n    if(typeof this.schema.pattern !== \"undefined\") this.input.setAttribute('pattern',this.schema.pattern);\n    else if(typeof this.schema.minLength !== \"undefined\") this.input.setAttribute('pattern','.{'+this.schema.minLength+',}');\n\n    if(this.options.compact) {\n      this.container.classList.add('compact');\n    }\n    else {\n      if(this.options.input_width) this.input.style.width = this.options.input_width;\n    }\n\n    if(this.schema.readOnly || this.schema.readonly || this.schema.template) {\n      this.always_disabled = true;\n      this.input.setAttribute('readonly', 'true');\n    }\n\n    // Set custom attributes on input element. Parameter is array of protected keys. Empty array if none.\n    this.setInputAttributes(['maxlength', 'pattern', 'readonly', 'min', 'max', 'step']);\n\n    this.input\n      .addEventListener('change',function(e) {        \n        e.preventDefault();\n        e.stopPropagation();\n        \n        // Don't allow changing if this field is a template\n        if(self.schema.template) {\n          this.value = self.value;\n          return;\n        }\n\n        var val = this.value;\n        \n        // sanitize value\n        var sanitized = self.sanitize(val);\n        if(val !== sanitized) {\n          this.value = sanitized;\n        }\n        \n        self.is_dirty = true;\n\n        self.refreshValue();\n        self.onChange(true);\n      });\n      \n    if(this.options.input_height) this.input.style.height = this.options.input_height;\n    if(this.options.expand_height) {\n      this.adjust_height = function(el) {\n        if(!el) return;\n        var i, ch=el.offsetHeight;\n        // Input too short\n        if(el.offsetHeight < el.scrollHeight) {\n          i=0;\n          while(el.offsetHeight < el.scrollHeight+3) {\n            if(i>100) break;\n            i++;\n            ch++;\n            el.style.height = ch+'px';\n          }\n        }\n        else {\n          i=0;\n          while(el.offsetHeight >= el.scrollHeight+3) {\n            if(i>100) break;\n            i++;\n            ch--;\n            el.style.height = ch+'px';\n          }\n          el.style.height = (ch+1)+'px';\n        }\n      };\n      \n      this.input.addEventListener('keyup',function(e) {\n        self.adjust_height(this);\n      });\n      this.input.addEventListener('change',function(e) {\n        self.adjust_height(this);\n      });\n      this.adjust_height();\n    }\n\n    if(this.format) this.input.setAttribute('data-schemaformat',this.format);\n\n    this.control = this.theme.getFormControl(this.label, this.input, this.description, this.infoButton);\n\n    // output element to display the range value when it changes or have default.\n    if(this.format === 'range') {\n      var output = document.createElement('output');\n      output.setAttribute('class', 'range-output');\n      this.control.appendChild(output);\n      output.value = this.schema.default || Math.max(this.schema.minimum || 0, 0);\n      this.input.addEventListener('change', function () {\n        output.value = self.input.value;\n      });\n      this.input.addEventListener('input', function () {\n        output.value = self.input.value;\n      });\n    }\n\n    this.container.appendChild(this.control);\n\n    // Any special formatting that needs to happen after the input is added to the dom\n    window.requestAnimationFrame(function() {\n      // Skip in case the input is only a temporary editor,\n      // otherwise, in the case of an ace_editor creation,\n      // it will generate an error trying to append it to the missing parentNode\n      if(self.input.parentNode) self.afterInputReady();\n      if(self.adjust_height) self.adjust_height(self.input);\n    });\n\n    // Compile and store the template\n    if(this.schema.template) {\n      this.template = this.jsoneditor.compileTemplate(this.schema.template, this.template_engine);\n      this.refreshValue();\n    }\n    else {\n      this.refreshValue();\n    }\n  },\n  postBuild: function() {\n    this._super();\n    // Enable cleave.js support if library is loaded and config is available\n    if (window.Cleave && this.schema.options && typeof this.schema.options.cleave == 'object') {\n      this.cleave = new window.Cleave(this.input, this.schema.options.cleave);\n    }\n  },\n  enable: function() {\n    if(!this.always_disabled) {\n      this.input.disabled = false;\n      // TODO: WYSIWYG and Markdown editors\n      this._super();\n    }\n  },\n  disable: function(always_disabled) {\n    if(always_disabled) this.always_disabled = true;\n    this.input.disabled = true;\n    // TODO: WYSIWYG and Markdown editors\n    this._super();\n  },\n  afterInputReady: function() {\n    var self = this, options;\n    \n    // Code editor\n    if(this.source_code) {      \n      // WYSIWYG html and bbcode editor\n      if(this.options.wysiwyg && \n        ['html','bbcode'].indexOf(this.input_type) >= 0 && \n        window.jQuery && window.jQuery.fn && window.jQuery.fn.sceditor\n      ) {\n        options = $extend({},{\n          plugins: self.input_type==='html'? 'xhtml' : 'bbcode',\n          emoticonsEnabled: false,\n          width: '100%',\n          height: 300\n        },JSONEditor.plugins.sceditor,self.options.sceditor_options||{});\n        \n        window.jQuery(self.input).sceditor(options);\n        \n        self.sceditor_instance = window.jQuery(self.input).sceditor('instance');\n        \n        self.sceditor_instance.blur(function() {\n          // Get editor's value\n          var val = window.jQuery(\"<div>\"+self.sceditor_instance.val()+\"</div>\");\n          // Remove sceditor spans/divs\n          window.jQuery('#sceditor-start-marker,#sceditor-end-marker,.sceditor-nlf',val).remove();\n          // Set the value and update\n          self.input.value = val.html();\n          self.value = self.input.value;\n          self.is_dirty = true;\n          self.onChange(true);\n        });\n      }\n      // SimpleMDE for markdown (if it's loaded)\n      else if (this.input_type === 'markdown' && window.SimpleMDE) {\n        options = $extend({},JSONEditor.plugins.SimpleMDE,{\n          element: this.input\n        });\n\n        this.SimpleMDE = new window.SimpleMDE((options));\n\n        this.SimpleMDE.codemirror.on(\"change\",function() {\n          self.value = self.SimpleMDE.value();\n          self.is_dirty = true;\n          self.onChange(true);\n        });\n      }\n      // ACE editor for everything else\n      else if(window.ace) {\n        var mode = this.input_type;\n        // aliases for c/cpp\n        if(mode === 'cpp' || mode === 'c++' || mode === 'c') {\n          mode = 'c_cpp';\n        }\n        \n        this.ace_container = document.createElement('div');\n        this.ace_container.style.width = '100%';\n        this.ace_container.style.position = 'relative';\n        this.ace_container.style.height = '400px';\n        this.input.parentNode.insertBefore(this.ace_container,this.input);\n        this.input.style.display = 'none';\n        this.ace_editor = window.ace.edit(this.ace_container);\n        \n        var aceOptions = this.schema.options && this.schema.options.ace;\n        if (aceOptions) {\n          this.ace_editor.setOptions(aceOptions);\n        }\n\n        this.ace_editor.setValue(this.getValue());\n        this.ace_editor.session.getSelection().clearSelection();\n        this.ace_editor.resize();\n\n        // The theme\n        if(JSONEditor.plugins.ace.theme) this.ace_editor.setTheme('ace/theme/'+JSONEditor.plugins.ace.theme);\n        // The mode\n        this.ace_editor.getSession().setMode('ace/mode/' + this.schema.format);\n\n        // Listen for changes\n        this.ace_editor.on('change',function() {\n          var val = self.ace_editor.getValue();\n          self.input.value = val;\n          self.refreshValue();\n          self.is_dirty = true;\n          self.onChange(true);\n        });\n      }\n    }\n    \n    self.theme.afterInputReady(self.input);\n  },\n  refreshValue: function() {\n    this.value = this.input.value;\n    if(typeof this.value !== \"string\") this.value = '';\n    this.serialized = this.value;\n  },\n  destroy: function() {\n    // If using SCEditor, destroy the editor instance\n    if(this.sceditor_instance) {\n      this.sceditor_instance.destroy();\n    }\n    else if(this.SimpleMDE) {\n      this.SimpleMDE.toTextArea();\n      this.SimpleMDE = null;\n    }\n    else if(this.ace_editor) {\n      this.ace_editor.destroy();\n    }\n    if (this.cleave) {\n      this.cleave.destroy();\n    }\n\n    this.template = null;\n    if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\n    if(this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label);\n    if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n\n    this._super();\n  },\n  /**\n   * This is overridden in derivative editors\n   */\n  sanitize: function(value) {\n    return value;\n  },\n  /**\n   * Re-calculates the value if needed\n   */\n  onWatchedFieldChange: function() {    \n    var self = this, vars, j;\n    \n    // If this editor needs to be rendered by a macro template\n    if(this.template) {\n      vars = this.getWatchedFieldValues();\n      this.setValue(this.template(vars),false,true);\n    }\n    \n    this._super();\n  },\n  showValidationErrors: function(errors) {\n    var self = this;\n    \n    if(this.jsoneditor.options.show_errors === \"always\") {}\n    else if(!this.is_dirty && this.previous_error_setting===this.jsoneditor.options.show_errors) return;\n    \n    this.previous_error_setting = this.jsoneditor.options.show_errors;\n\n    var messages = [];\n    $each(errors,function(i,error) {\n      if(error.path === self.path) {\n        messages.push(error.message);\n      }\n    });\n\n    if(messages.length) {\n      this.theme.addInputError(this.input, messages.join('. ')+'.');\n    }\n    else {\n      this.theme.removeInputError(this.input);\n    }\n  }\n});\n","/**\n * Created by Mehmet Baker on 12.04.2017\n */\nJSONEditor.defaults.editors.hidden = JSONEditor.AbstractEditor.extend({\n  register: function () {\n    this._super();\n    if (!this.input) return;\n    this.input.setAttribute('name', this.formname);\n  },\n  unregister: function () {\n    this._super();\n    if (!this.input) return;\n    this.input.removeAttribute('name');\n  },\n  setValue: function (value, initial, from_template) {\n    var self = this;\n\n    if(this.template && !from_template) {\n      return;\n    }\n\n    if(value === null || typeof value === 'undefined') value = \"\";\n    else if(typeof value === \"object\") value = JSON.stringify(value);\n    else if(typeof value !== \"string\") value = \"\"+value;\n\n    if(value === this.serialized) return;\n\n    // Sanitize value before setting it\n    var sanitized = this.sanitize(value);\n\n    if(this.input.value === sanitized) {\n      return;\n    }\n\n    this.input.value = sanitized;\n\n    var changed = from_template || this.getValue() !== value;\n\n    this.refreshValue();\n\n    if(initial) this.is_dirty = false;\n    else if(this.jsoneditor.options.show_errors === \"change\") this.is_dirty = true;\n\n    if(this.adjust_height) this.adjust_height(this.input);\n\n    // Bubble this setValue to parents if the value changed\n    this.onChange(changed);\n  },\n  getNumColumns: function () {\n    return 2;\n  },\n  enable: function () {\n    this._super();\n  },\n  disable: function () {\n    this._super();\n  },\n  refreshValue: function () {\n    this.value = this.input.value;\n    if (typeof this.value !== \"string\") this.value = '';\n    this.serialized = this.value;\n  },\n  destroy: function () {\n    this.template = null;\n    if (this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\n    if (this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label);\n    if (this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n\n    this._super();\n  },\n  /**\n   * This is overridden in derivative editors\n   */\n  sanitize: function (value) {\n    return value;\n  },\n  /**\n   * Re-calculates the value if needed\n   */\n  onWatchedFieldChange: function () {\n    var self = this, vars, j;\n\n    // If this editor needs to be rendered by a macro template\n    if (this.template) {\n      vars = this.getWatchedFieldValues();\n      this.setValue(this.template(vars), false, true);\n    }\n\n    this._super();\n  },\n  build: function () {\n    var self = this;\n\n    this.format = this.schema.format;\n    if (!this.format && this.options.default_format) {\n      this.format = this.options.default_format;\n    }\n    if (this.options.format) {\n      this.format = this.options.format;\n    }\n\n    this.input_type = 'hidden';\n    this.input = this.theme.getFormInputField(this.input_type);\n\n    if (this.format) this.input.setAttribute('data-schemaformat', this.format);\n\n    this.container.appendChild(this.input);\n\n    // Compile and store the template\n    if (this.schema.template) {\n      this.template = this.jsoneditor.compileTemplate(this.schema.template, this.template_engine);\n      this.refreshValue();\n    }\n    else {\n      this.refreshValue();\n    }\n  }\n});","JSONEditor.defaults.editors.number = JSONEditor.defaults.editors.string.extend({\n  build: function() {\n    this._super();\n\n    if (typeof this.schema.minimum !== \"undefined\") {\n      var minimum = this.schema.minimum;\n\n      if (typeof this.schema.exclusiveMinimum !== \"undefined\") {\n        minimum += 1;\n      }\n\n      this.input.setAttribute(\"min\", minimum);\n    }\n\n    if (typeof this.schema.maximum !== \"undefined\") {\n      var maximum = this.schema.maximum;\n\n      if (typeof this.schema.exclusiveMaximum !== \"undefined\") {\n        maximum -= 1;\n      }\n\n      this.input.setAttribute(\"max\", maximum);\n    }\n\n    if (typeof this.schema.step !== \"undefined\") {\n      var step = this.schema.step || 1;\n      this.input.setAttribute(\"step\", step);\n    }\n\n    // Set custom attributes on input element. Parameter is array of protected keys. Empty array if none.\n    this.setInputAttributes(['maxlength', 'pattern', 'readonly', 'min', 'max', 'step']);\n\n  },\n  sanitize: function(value) {\n    return (value+\"\").replace(/[^0-9\\.\\-eE]/g,'');\n  },\n  getNumColumns: function() {\n    return 2;\n  },\n  getValue: function() {\n    if (!this.dependenciesFulfilled) {\n      return undefined;\n    }\n    return this.value===''?undefined:this.value*1;\n  }\n});\n","JSONEditor.defaults.editors.integer = JSONEditor.defaults.editors.number.extend({\n  sanitize: function(value) {\n    value = value + \"\";\n    return value.replace(/[^0-9\\-]/g,'');\n  },\n  getNumColumns: function() {\n    return 2;\n  }\n});\n","JSONEditor.defaults.editors.rating = JSONEditor.defaults.editors.integer.extend({\n  build: function() {\n    var self = this, i;\n    if(!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    if(this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description);\n\n    // Dynamically add the required CSS the first time this editor is used\n    var styleId = 'json-editor-style-rating';\n    var styles = document.getElementById(styleId);\n    if (!styles) {\n      var style = document.createElement('style');\n      style.id = styleId;\n      style.type = 'text/css';\n      style.innerHTML =\n        '      .rating-container {' +\n        '        display: inline-block;' +\n        '        clear: both;' +\n        '      }' +\n        '      ' +\n        '      .rating {' +\n        '        float:left;' +\n        '      }' +\n        '      ' +\n        '      /* :not(:checked) is a filter, so that browsers that dont support :checked dont' +\n        '         follow these rules. Every browser that supports :checked also supports :not(), so' +\n        '         it doesnt make the test unnecessarily selective */' +\n        '      .rating:not(:checked) > input {' +\n        '        position:absolute;' +\n        '        top:-9999px;' +\n        '        clip:rect(0,0,0,0);' +\n        '      }' +\n        '      ' +\n        '      .rating:not(:checked) > label {' +\n        '        float:right;' +\n        '        width:1em;' +\n        '        padding:0 .1em;' +\n        '        overflow:hidden;' +\n        '        white-space:nowrap;' +\n        '        cursor:pointer;' +\n        '        color:#ddd;' +\n        '      }' +\n        '      ' +\n        '      .rating:not(:checked) > label:before {' +\n        '        content: \\' \\';' +\n        '      }' +\n        '      ' +\n        '      .rating > input:checked ~ label {' +\n        '        color: #FFB200;' +\n        '      }' +\n        '      ' +\n        '      .rating:not([readOnly]):not(:checked) > label:hover,' +\n        '      .rating:not([readOnly]):not(:checked) > label:hover ~ label {' +\n        '        color: #FFDA00;' +\n        '      }' +\n        '      ' +\n        '      .rating:not([readOnly]) > input:checked + label:hover,' +\n        '      .rating:not([readOnly]) > input:checked + label:hover ~ label,' +\n        '      .rating:not([readOnly]) > input:checked ~ label:hover,' +\n        '      .rating:not([readOnly]) > input:checked ~ label:hover ~ label,' +\n        '      .rating:not([readOnly]) > label:hover ~ input:checked ~ label {' +\n        '        color: #FF8C0D;' +\n        '      }' +\n        '      ' +\n        '      .rating:not([readOnly])  > label:active {' +\n        '        position:relative;' +\n        '        top:2px;' +\n        '        left:2px;' +\n        '      }';\n      document.getElementsByTagName('head')[0].appendChild(style);\n    }\n\n    this.input = this.theme.getFormInputField('hidden');\n    this.container.appendChild(this.input);\n\n    // Required to keep height\n    var ratingContainer = document.createElement('div');\n    ratingContainer.classList.add('rating-container');\n\n    // Contains options for rating\n    var group = document.createElement('div');\n    group.setAttribute('name', this.formname);\n    group.classList.add('rating');\n    ratingContainer.appendChild(group);\n\n    if(this.options.compact) this.container.setAttribute('class',this.container.getAttribute('class')+' compact');\n\n    var max = this.schema.maximum ? this.schema.maximum : 5;\n    if (this.schema.exclusiveMaximum) max--;\n\n    this.inputs = [];\n    for(i=max; i>0; i--) {\n      var id = this.formname + i;\n      var radioInput = this.theme.getFormInputField('radio');\n      radioInput.setAttribute('id', id);\n      radioInput.setAttribute('value', i);\n      radioInput.setAttribute('name', this.formname);\n      group.appendChild(radioInput);\n      this.inputs.push(radioInput);\n\n      var label = document.createElement('label');\n      label.setAttribute('for', id);\n      label.appendChild(document.createTextNode(i + (i == 1 ? ' star' : ' stars')));\n      group.appendChild(label);\n    }\n\n    if(this.schema.readOnly || this.schema.readonly) {\n      this.always_disabled = true;\n      $each(this.inputs,function(i,input) {\n        group.setAttribute(\"readOnly\", \"readOnly\");\n        input.disabled = true;\n      });\n    }\n\n    ratingContainer\n      .addEventListener('change',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        self.input.value = e.srcElement.value;\n\n        self.is_dirty = true;\n\n        self.refreshValue();\n        self.watch_listener();\n        self.jsoneditor.notifyWatchers(self.path);\n        if(self.parent) self.parent.onChildEditorChange(self);\n        else self.jsoneditor.onChange();\n      });\n\n    this.control = this.theme.getFormControl(this.label, ratingContainer, this.description);\n    this.container.appendChild(this.control);\n\n    this.refreshValue();\n  },\n  setValue: function(val) {\n    var sanitized = this.sanitize(val);\n    if(this.value === sanitized) {\n      return;\n    }\n    var self = this;\n    $each(this.inputs,function(i,input) {\n      if (input.value === sanitized) {\n        input.checked = true;\n        self.value = sanitized;\n        self.input.value = self.value;\n        self.watch_listener();\n        self.jsoneditor.notifyWatchers(self.path);\n        return false;\n      }\n    });\n  }\n});\n","JSONEditor.defaults.editors.object = JSONEditor.AbstractEditor.extend({\n  getDefault: function() {\n    return $extend({},this.schema[\"default\"] || {});\n  },\n  getChildEditors: function() {\n    return this.editors;\n  },\n  register: function() {\n    this._super();\n    if(this.editors) {\n      for(var i in this.editors) {\n        if(!this.editors.hasOwnProperty(i)) continue;\n        this.editors[i].register();\n      }\n    }\n  },\n  unregister: function() {\n    this._super();\n    if(this.editors) {\n      for(var i in this.editors) {\n        if(!this.editors.hasOwnProperty(i)) continue;\n        this.editors[i].unregister();\n      }\n    }\n  },\n  getNumColumns: function() {\n    return Math.max(Math.min(12,this.maxwidth),3);\n  },\n  enable: function() {\n    if(!this.always_disabled) {\n      if(this.editjson_button) this.editjson_button.disabled = false;\n      if(this.addproperty_button) this.addproperty_button.disabled = false;\n\n      this._super();\n      if(this.editors) {\n        for(var i in this.editors) {\n          if(!this.editors.hasOwnProperty(i)) continue;\n          this.editors[i].enable();\n          this.editors[i].optInCheckbox.disabled = false;\n        }\n      }\n    }\n  },\n  disable: function(always_disabled) {\n    if(always_disabled) this.always_disabled = true;\n    if(this.editjson_button) this.editjson_button.disabled = true;\n    if(this.addproperty_button) this.addproperty_button.disabled = true;\n    this.hideEditJSON();\n\n    this._super();\n    if(this.editors) {\n      for(var i in this.editors) {\n        if(!this.editors.hasOwnProperty(i)) continue;\n        this.editors[i].disable(always_disabled);\n        this.editors[i].optInCheckbox.disabled = true;\n      }\n    }\n  },\n  layoutEditors: function() {\n    var self = this, i, j;\n\n    if(!this.row_container) return;\n\n    // Sort editors by propertyOrder\n    this.property_order = Object.keys(this.editors);\n    this.property_order = this.property_order.sort(function(a,b) {\n      var ordera = self.editors[a].schema.propertyOrder;\n      var orderb = self.editors[b].schema.propertyOrder;\n      if(typeof ordera !== \"number\") ordera = 1000;\n      if(typeof orderb !== \"number\") orderb = 1000;\n\n      return ordera - orderb;\n    });\n\n    var container;\n    var isCategoriesFormat = (this.format === 'categories');\n    var rows = [];\n    var key = null;\n    var editor = null;\n    var row;\n\n    if(this.format === 'grid-strict') {\n      var rowIndex = 0;\n      row = [];\n\n      $each(this.property_order, function(j,key) {\n        var editor = self.editors[key];\n        if (editor.property_removed) {\n          return;\n        }\n        var width = editor.options.hidden ? 0 : (editor.options.grid_columns || editor.getNumColumns());\n        var offset = editor.options.hidden ? 0 : (editor.options.grid_offset || 0);\n        var gridBreak = editor.options.hidden ? false : (editor.options.grid_break || false);\n        var height = editor.options.hidden ? 0 : editor.container.offsetHeight;\n\n        var column = {\n          key: key,\n          width: width,\n          offset: offset,\n          height: height\n        };\n\n        row.push(column);\n\n        rows[rowIndex] = row;\n\n        if (gridBreak) {\n          rowIndex++;\n          row = [];\n        }\n      });\n\n      // layout hasn't changed\n      if (this.layout === JSON.stringify(rows)) return false;\n      this.layout = JSON.stringify(rows);\n\n      // Layout the form\n      container = document.createElement('div');\n      for (i = 0; i < rows.length; i++) {\n        row = this.theme.getGridRow();\n        container.appendChild(row);\n        for (j = 0; j < rows[i].length; j++) {\n          key = rows[i][j].key;\n          editor = this.editors[key];\n          if (editor.options.hidden) {\n            editor.container.style.display = 'none';\n          } else {\n            this.theme.setGridColumnSize(editor.container, rows[i][j].width, rows[i][j].offset);\n          }\n          row.appendChild(editor.container);\n        }\n      }\n    } else if(this.format === 'grid') {\n      $each(this.property_order, function(j,key) {\n        var editor = self.editors[key];\n        if(editor.property_removed) return;\n        var found = false;\n        var width = editor.options.hidden? 0 : (editor.options.grid_columns || editor.getNumColumns());\n        var height = editor.options.hidden? 0 : editor.container.offsetHeight;\n        // See if the editor will fit in any of the existing rows first\n        for(var i=0; i<rows.length; i++) {\n          // If the editor will fit in the row horizontally\n          if(rows[i].width + width <= 12) {\n            // If the editor is close to the other elements in height\n            // i.e. Don't put a really tall editor in an otherwise short row or vice versa\n            if(!height || (rows[i].minh*0.5 < height && rows[i].maxh*2 > height)) {\n              found = i;\n            }\n          }\n        }\n\n        // If there isn't a spot in any of the existing rows, start a new row\n        if(found === false) {\n          rows.push({\n            width: 0,\n            minh: 999999,\n            maxh: 0,\n            editors: []\n          });\n          found = rows.length-1;\n        }\n\n        rows[found].editors.push({\n          key: key,\n          //editor: editor,\n          width: width,\n          height: height\n        });\n        rows[found].width += width;\n        rows[found].minh = Math.min(rows[found].minh,height);\n        rows[found].maxh = Math.max(rows[found].maxh,height);\n      });\n\n      // Make almost full rows width 12\n      // Do this by increasing all editors' sizes proprotionately\n      // Any left over space goes to the biggest editor\n      // Don't touch rows with a width of 6 or less\n      for(i=0; i<rows.length; i++) {\n        if(rows[i].width < 12) {\n          var biggest = false;\n          var new_width = 0;\n          for(j=0; j<rows[i].editors.length; j++) {\n            if(biggest === false) biggest = j;\n            else if(rows[i].editors[j].width > rows[i].editors[biggest].width) biggest = j;\n            rows[i].editors[j].width *= 12/rows[i].width;\n            rows[i].editors[j].width = Math.floor(rows[i].editors[j].width);\n            new_width += rows[i].editors[j].width;\n          }\n          if(new_width < 12) rows[i].editors[biggest].width += 12-new_width;\n          rows[i].width = 12;\n        }\n      }\n\n      // layout hasn't changed\n      if(this.layout === JSON.stringify(rows)) return false;\n      this.layout = JSON.stringify(rows);\n\n      // Layout the form\n      container = document.createElement('div');\n      for(i=0; i<rows.length; i++) {\n        row = this.theme.getGridRow();\n        container.appendChild(row);\n        for(j=0; j<rows[i].editors.length; j++) {\n          key = rows[i].editors[j].key;\n          editor = this.editors[key];\n\n          if(editor.options.hidden) editor.container.style.display = 'none';\n          else this.theme.setGridColumnSize(editor.container,rows[i].editors[j].width);\n          row.appendChild(editor.container);\n        }\n      }\n    }\n    // Normal layout\n    else {\n      container = document.createElement('div');\n\n      if(isCategoriesFormat) {\n        //A container for properties not object nor arrays\n        var containerSimple = document.createElement('div');\n        //This will be the place to (re)build tabs and panes\n        //tabs_holder has 2 childs, [0]: ul.nav.nav-tabs and [1]: div.tab-content\n        var newTabs_holder = this.theme.getTopTabHolder(this.schema.title);\n        //child [1] of previous, stores panes\n        var newTabPanesContainer = this.theme.getTopTabContentHolder(newTabs_holder);\n\n        $each(this.property_order, function(i,key){\n          var editor = self.editors[key];\n          if(editor.property_removed) return;\n          var aPane = self.theme.getTabContent();\n          var isObjOrArray = editor.schema && (editor.schema.type === \"object\" || editor.schema.type === \"array\");\n          //mark the pane\n          aPane.isObjOrArray = isObjOrArray;\n          var gridRow = self.theme.getGridRow();\n\n          //this happens with added properties, they don't have a tab\n          if(!editor.tab){\n            //Pass the pane which holds the editor\n            if(typeof self.basicPane === 'undefined'){\n              //There is no basicPane yet, so aPane will be it\n              self.addRow(editor,newTabs_holder, aPane);\n            }\n            else {\n              self.addRow(editor,newTabs_holder, self.basicPane);\n            }\n          }\n\n          aPane.id = self.getValidId(editor.tab_text.textContent);\n\n          //For simple properties, add them on the same panel (Basic)\n          if(!isObjOrArray){\n            containerSimple.appendChild(gridRow);\n            //There are already some panes\n            if(newTabPanesContainer.childElementCount > 0){\n              //If first pane is object or array, insert before a simple pane\n              if(newTabPanesContainer.firstChild.isObjOrArray){\n                //Append pane for simple properties\n                aPane.appendChild(containerSimple);\n                newTabPanesContainer.insertBefore(aPane,newTabPanesContainer.firstChild);\n                //Add \"Basic\" tab\n                self.theme.insertBasicTopTab(editor.tab,newTabs_holder);\n                //newTabs_holder.firstChild.insertBefore(editor.tab,newTabs_holder.firstChild.firstChild);\n                //Update the basicPane\n                editor.basicPane = aPane;\n              }\n              else {\n                //We already have a first \"Basic\" pane, just add the new property to it, so\n                //do nothing;\n              }\n            }\n            //There is no pane, so add the first (simple) pane\n            else {\n              //Append pane for simple properties\n              aPane.appendChild(containerSimple);\n              newTabPanesContainer.appendChild(aPane);\n              //Add \"Basic\" tab\n              //newTabs_holder.firstChild.appendChild(editor.tab);\n              self.theme.addTopTab(newTabs_holder,editor.tab);\n              //Update the basicPane\n              editor.basicPane = aPane;\n            }\n          }\n          //Objects and arrays earn it's own panes\n          else {\n            aPane.appendChild(gridRow);\n            newTabPanesContainer.appendChild(aPane);\n            //newTabs_holder.firstChild.appendChild(editor.tab);\n            self.theme.addTopTab(newTabs_holder,editor.tab);\n          }\n\n          if(editor.options.hidden) editor.container.style.display = 'none';\n          else self.theme.setGridColumnSize(editor.container,12);\n          //Now, add the property editor to the row\n          gridRow.appendChild(editor.container);\n          //Update the rowPane (same as self.rows[x].rowPane)\n          editor.rowPane = aPane;\n\n        });\n\n        //Erase old panes\n        while (this.tabPanesContainer.firstChild) {\n          this.tabPanesContainer.removeChild(this.tabPanesContainer.firstChild);\n        }\n\n        //Erase old tabs and set the new ones\n        var parentTabs_holder = this.tabs_holder.parentNode;\n        parentTabs_holder.removeChild(parentTabs_holder.firstChild);\n        parentTabs_holder.appendChild(newTabs_holder);\n\n        this.tabPanesContainer = newTabPanesContainer;\n        this.tabs_holder = newTabs_holder;\n\n        //Activate the first tab\n        var firstTab = this.theme.getFirstTab(this.tabs_holder);\n        if(firstTab){\n          $trigger(firstTab,'click');\n        }\n        return;\n      }\n      //Normal layout\n      else {\n        $each(this.property_order, function(i,key) {\n          var editor = self.editors[key];\n          if(editor.property_removed) return;\n          row = self.theme.getGridRow();\n          container.appendChild(row);\n\n          if(editor.options.hidden) editor.container.style.display = 'none';\n          else self.theme.setGridColumnSize(editor.container,12);\n          row.appendChild(editor.container);\n        });\n      }\n    }\n    //for grid and normal layout\n    while (this.row_container.firstChild) {\n      this.row_container.removeChild(this.row_container.firstChild);\n    }\n    this.row_container.appendChild(container);\n  },\n  getPropertySchema: function(key) {\n    // Schema declared directly in properties\n    var schema = this.schema.properties[key] || {};\n    schema = $extend({},schema);\n    var matched = this.schema.properties[key]? true : false;\n\n    // Any matching patternProperties should be merged in\n    if(this.schema.patternProperties) {\n      for(var i in this.schema.patternProperties) {\n        if(!this.schema.patternProperties.hasOwnProperty(i)) continue;\n        var regex = new RegExp(i);\n        if(regex.test(key)) {\n          schema.allOf = schema.allOf || [];\n          schema.allOf.push(this.schema.patternProperties[i]);\n          matched = true;\n        }\n      }\n    }\n\n    // Hasn't matched other rules, use additionalProperties schema\n    if(!matched && this.schema.additionalProperties && typeof this.schema.additionalProperties === \"object\") {\n      schema = $extend({},this.schema.additionalProperties);\n    }\n\n    return schema;\n  },\n  preBuild: function() {\n    this._super();\n\n    this.editors = {};\n    this.cached_editors = {};\n    var self = this;\n\n    this.format = this.options.layout || this.options.object_layout || this.schema.format || this.jsoneditor.options.object_layout || 'normal';\n\n    this.schema.properties = this.schema.properties || {};\n\n    this.minwidth = 0;\n    this.maxwidth = 0;\n\n    // If the object should be rendered as a table row\n    if(this.options.table_row) {\n      $each(this.schema.properties, function(key,schema) {\n        var editor = self.jsoneditor.getEditorClass(schema);\n        self.editors[key] = self.jsoneditor.createEditor(editor,{\n          jsoneditor: self.jsoneditor,\n          schema: schema,\n          path: self.path+'.'+key,\n          parent: self,\n          compact: true,\n          required: true\n        });\n        self.editors[key].preBuild();\n\n        var width = self.editors[key].options.hidden? 0 : (self.editors[key].options.grid_columns || self.editors[key].getNumColumns());\n\n        self.minwidth += width;\n        self.maxwidth += width;\n      });\n      this.no_link_holder = true;\n    }\n    // If the object should be rendered as a table\n    else if(this.options.table) {\n      // TODO: table display format\n      throw \"Not supported yet\";\n    }\n    // If the object should be rendered as a div\n    else {\n      if(!this.schema.defaultProperties) {\n        if(this.jsoneditor.options.display_required_only || this.options.display_required_only) {\n          this.schema.defaultProperties = [];\n          $each(this.schema.properties, function(k,s) {\n            if(self.isRequired({key: k, schema: s})) {\n              self.schema.defaultProperties.push(k);\n            }\n          });\n        }\n        else {\n          self.schema.defaultProperties = Object.keys(self.schema.properties);\n        }\n      }\n\n      // Increase the grid width to account for padding\n      self.maxwidth += 1;\n\n      $each(this.schema.defaultProperties, function(i,key) {\n        self.addObjectProperty(key, true);\n\n        if(self.editors[key]) {\n          self.minwidth = Math.max(self.minwidth,(self.editors[key].options.grid_columns || self.editors[key].getNumColumns()));\n          self.maxwidth += (self.editors[key].options.grid_columns || self.editors[key].getNumColumns());\n        }\n      });\n    }\n\n    // Sort editors by propertyOrder\n    this.property_order = Object.keys(this.editors);\n    this.property_order = this.property_order.sort(function(a,b) {\n      var ordera = self.editors[a].schema.propertyOrder;\n      var orderb = self.editors[b].schema.propertyOrder;\n      if(typeof ordera !== \"number\") ordera = 1000;\n      if(typeof orderb !== \"number\") orderb = 1000;\n\n      return ordera - orderb;\n    });\n  },\n  //\"Borrow\" from arrays code\n  addTab: function(idx){\n      var self = this;\n      var isObjOrArray = self.rows[idx].schema && (self.rows[idx].schema.type === \"object\" || self.rows[idx].schema.type === \"array\");\n      if(self.tabs_holder) {\n        self.rows[idx].tab_text = document.createElement('span');\n\n        if(!isObjOrArray){\n          self.rows[idx].tab_text.textContent = (typeof self.schema.basicCategoryTitle === 'undefined') ? \"Basic\" : self.schema.basicCategoryTitle;\n        } else {\n          self.rows[idx].tab_text.textContent = self.rows[idx].getHeaderText();\n        }\n        self.rows[idx].tab = self.theme.getTopTab(self.rows[idx].tab_text,this.getValidId(self.rows[idx].tab_text.textContent));\n        self.rows[idx].tab.addEventListener('click', function(e) {\n          self.active_tab = self.rows[idx].tab;\n          self.refreshTabs();\n          e.preventDefault();\n          e.stopPropagation();\n        });\n\n      }\n\n    },\n  addRow: function(editor, tabHolder, aPane) {\n    var self = this;\n    var rowsLen = this.rows.length;\n    var isObjOrArray = editor.schema.type === \"object\" || editor.schema.type === \"array\";\n\n    //Add a row\n    self.rows[rowsLen] = editor;\n    //rowPane stores the editor corresponding pane to set the display style when refreshing Tabs\n    self.rows[rowsLen].rowPane = aPane;\n\n    if(!isObjOrArray){\n\n      //This is the first simple property to be added,\n      //add a (\"Basic\") tab for it and save it's row number\n      if(typeof self.basicTab === \"undefined\"){\n        self.addTab(rowsLen);\n        //Store the index row of the first simple property added\n        self.basicTab = rowsLen;\n        self.basicPane = aPane;\n        self.theme.addTopTab(tabHolder, self.rows[rowsLen].tab);\n      }\n\n      else {\n        //Any other simple property gets the same tab (and the same pane) as the first one,\n        //so, when 'click' event is fired from a row, it gets the correct (\"Basic\") tab\n        self.rows[rowsLen].tab = self.rows[self.basicTab].tab;\n        self.rows[rowsLen].tab_text = self.rows[self.basicTab].tab_text;\n        self.rows[rowsLen].rowPane = self.rows[self.basicTab].rowPane;\n      }\n    }\n    else {\n      self.addTab(rowsLen);\n      self.theme.addTopTab(tabHolder, self.rows[rowsLen].tab);\n    }\n  },\n  //Mark the active tab and make visible the corresponding pane, hide others\n  refreshTabs: function(refresh_headers) {\n    var self = this;\n    var basicTabPresent = typeof self.basicTab !== 'undefined';\n    var basicTabRefreshed = false;\n\n    $each(this.rows, function(i,row) {\n      //If it's an orphan row (some property which has been deleted), return\n      if(!row.tab || !row.rowPane || !row.rowPane.parentNode) return;\n\n      if(basicTabPresent && row.tab == self.rows[self.basicTab].tab && basicTabRefreshed) return;\n\n      if(refresh_headers) {\n        row.tab_text.textContent = row.getHeaderText();\n      }\n      else {\n        //All rows of simple properties point to the same tab, so refresh just once\n        if(basicTabPresent && row.tab == self.rows[self.basicTab].tab) basicTabRefreshed = true;\n\n        if(row.tab === self.active_tab) {\n          self.theme.markTabActive(row);\n        }\n        else {\n          self.theme.markTabInactive(row);\n        }\n      }\n    });\n  },\n  build: function() {\n    var self = this;\n\n    var isCategoriesFormat = (this.format === 'categories');\n    this.rows=[];\n    this.active_tab = null;\n\n    // If the object should be rendered as a table row\n    if(this.options.table_row) {\n      this.editor_holder = this.container;\n      $each(this.editors, function(key,editor) {\n        var holder = self.theme.getTableCell();\n        self.editor_holder.appendChild(holder);\n\n        editor.setContainer(holder);\n        editor.build();\n        editor.postBuild();\n        editor.setOptInCheckbox(editor.header);\n\n        if(self.editors[key].options.hidden) {\n          holder.style.display = 'none';\n        }\n        if(self.editors[key].options.input_width) {\n          holder.style.width = self.editors[key].options.input_width;\n        }\n      });\n    }\n    // If the object should be rendered as a table\n    else if(this.options.table) {\n      // TODO: table display format\n      throw \"Not supported yet\";\n    }\n    // If the object should be rendered as a div\n    else {\n      this.header = document.createElement('label');\n      this.header.textContent = this.getTitle();\n      this.title = this.theme.getHeader(this.header);\n      this.container.appendChild(this.title);\n      this.container.style.position = 'relative';\n\n      // Edit JSON modal\n      this.editjson_holder = this.theme.getModal();\n      this.editjson_textarea = this.theme.getTextareaInput();\n      this.editjson_textarea.style.height = '170px';\n      this.editjson_textarea.style.width = '300px';\n      this.editjson_textarea.style.display = 'block';\n      this.editjson_save = this.getButton('Save','save','Save');\n      this.editjson_save.classList.add('json-editor-btntype-save');\n      this.editjson_save.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        self.saveJSON();\n      });\n      this.editjson_copy = this.getButton('Copy','copy','Copy');\n      this.editjson_copy.classList.add('json-editor-btntype-copy');\n      this.editjson_copy.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        self.copyJSON();\n      });\n      this.editjson_cancel = this.getButton('Cancel','cancel','Cancel');\n      this.editjson_cancel.classList.add('json-editor-btntype-cancel');\n      this.editjson_cancel.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        self.hideEditJSON();\n      });\n      this.editjson_holder.appendChild(this.editjson_textarea);\n      this.editjson_holder.appendChild(this.editjson_save);\n      this.editjson_holder.appendChild(this.editjson_copy);\n      this.editjson_holder.appendChild(this.editjson_cancel);\n\n      // Manage Properties modal\n      this.addproperty_holder = this.theme.getModal();\n      this.addproperty_list = document.createElement('div');\n      this.addproperty_list.style.width = '295px';\n      this.addproperty_list.style.maxHeight = '160px';\n      this.addproperty_list.style.padding = '5px 0';\n      this.addproperty_list.style.overflowY = 'auto';\n      this.addproperty_list.style.overflowX = 'hidden';\n      this.addproperty_list.style.paddingLeft = '5px';\n      this.addproperty_list.setAttribute('class', 'property-selector');\n      this.addproperty_add = this.getButton('add','add','add');\n      this.addproperty_add.classList.add('json-editor-btntype-add');\n      this.addproperty_input = this.theme.getFormInputField('text');\n      this.addproperty_input.setAttribute('placeholder','Property name...');\n      this.addproperty_input.style.width = '220px';\n      this.addproperty_input.style.marginBottom = '0';\n      this.addproperty_input.style.display = 'inline-block';\n      this.addproperty_add.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        if(self.addproperty_input.value) {\n          if(self.editors[self.addproperty_input.value]) {\n            window.alert('there is already a property with that name');\n            return;\n          }\n\n          self.addObjectProperty(self.addproperty_input.value);\n          if(self.editors[self.addproperty_input.value]) {\n            self.editors[self.addproperty_input.value].disable();\n          }\n          self.onChange(true);\n        }\n      });\n      this.addproperty_holder.appendChild(this.addproperty_list);\n      this.addproperty_holder.appendChild(this.addproperty_input);\n      this.addproperty_holder.appendChild(this.addproperty_add);\n      var spacer = document.createElement('div');\n      spacer.style.clear = 'both';\n      this.addproperty_holder.appendChild(spacer);\n\n      // Close properties modal if clicked outside modal\n      document.addEventListener('click', function(e) {\n          if (!this.addproperty_holder.contains(e.target) && this.adding_property) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.toggleAddProperty();\n          }\n      }.bind(this));\n\n      // Description\n      if(this.schema.description) {\n        this.description = this.theme.getDescription(this.schema.description);\n        this.container.appendChild(this.description);\n      }\n\n      // Validation error placeholder area\n      this.error_holder = document.createElement('div');\n      this.container.appendChild(this.error_holder);\n\n      // Container for child editor area\n      this.editor_holder = this.theme.getIndentedPanel();\n      this.container.appendChild(this.editor_holder);\n\n      // Container for rows of child editors\n      this.row_container = this.theme.getGridContainer();\n\n      if(isCategoriesFormat) {\n        this.tabs_holder = this.theme.getTopTabHolder(this.getValidId(this.schema.title));\n        this.tabPanesContainer = this.theme.getTopTabContentHolder(this.tabs_holder);\n        this.editor_holder.appendChild(this.tabs_holder);\n      }\n      else {\n        this.tabs_holder = this.theme.getTabHolder(this.getValidId(this.schema.title));\n        this.tabPanesContainer = this.theme.getTabContentHolder(this.tabs_holder);\n        this.editor_holder.appendChild(this.row_container);\n      }\n\n      $each(this.editors, function(key,editor) {\n        var aPane = self.theme.getTabContent();\n        var holder = self.theme.getGridColumn();\n        var isObjOrArray = (editor.schema && (editor.schema.type === 'object' || editor.schema.type === 'array')) ? true : false;\n        aPane.isObjOrArray = isObjOrArray;\n\n        if(isCategoriesFormat){\n          if(isObjOrArray) {\n            var single_row_container = self.theme.getGridContainer();\n            single_row_container.appendChild(holder);\n            aPane.appendChild(single_row_container);\n            self.tabPanesContainer.appendChild(aPane);\n            self.row_container = single_row_container;\n          }\n          else {\n            if(typeof self.row_container_basic === 'undefined'){\n              self.row_container_basic = self.theme.getGridContainer();\n              aPane.appendChild(self.row_container_basic);\n              if(self.tabPanesContainer.childElementCount == 0){\n                self.tabPanesContainer.appendChild(aPane);\n              }\n              else {\n                self.tabPanesContainer.insertBefore(aPane,self.tabPanesContainer.childNodes[1]);\n              }\n            }\n            self.row_container_basic.appendChild(holder);\n          }\n\n          self.addRow(editor,self.tabs_holder,aPane);\n\n          aPane.id = self.getValidId(editor.schema.title); //editor.schema.path//tab_text.textContent\n\n        }\n        else {\n          self.row_container.appendChild(holder);\n        }\n\n        editor.setContainer(holder);\n        editor.build();\n        editor.postBuild();\n        editor.setOptInCheckbox(editor.header);\n      });\n\n      if(this.rows[0]){\n        $trigger(this.rows[0].tab,'click');\n      }\n\n      // Control buttons\n      this.title_controls = this.theme.getHeaderButtonHolder();\n      this.editjson_controls = this.theme.getHeaderButtonHolder();\n      this.addproperty_controls = this.theme.getHeaderButtonHolder();\n      this.title.appendChild(this.title_controls);\n      this.title.appendChild(this.editjson_controls);\n      this.title.appendChild(this.addproperty_controls);\n\n      // Show/Hide button\n      this.collapsed = false;\n      this.toggle_button = this.getButton('', 'collapse', this.translate('button_collapse'));\n      this.toggle_button.classList.add('json-editor-btntype-toggle');\n      this.title_controls.appendChild(this.toggle_button);\n      this.toggle_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        if(self.collapsed) {\n          self.editor_holder.style.display = '';\n          self.collapsed = false;\n          self.setButtonText(self.toggle_button,'','collapse',self.translate('button_collapse'));\n        }\n        else {\n          self.editor_holder.style.display = 'none';\n          self.collapsed = true;\n          self.setButtonText(self.toggle_button,'','expand',self.translate('button_expand'));\n        }\n      });\n\n      // If it should start collapsed\n      if(this.options.collapsed) {\n        $trigger(this.toggle_button,'click');\n      }\n\n      // Collapse button disabled\n      if(this.schema.options && typeof this.schema.options.disable_collapse !== \"undefined\") {\n        if(this.schema.options.disable_collapse) this.toggle_button.style.display = 'none';\n      }\n      else if(this.jsoneditor.options.disable_collapse) {\n        this.toggle_button.style.display = 'none';\n      }\n\n      // Edit JSON Button\n      this.editjson_button = this.getButton('JSON','edit','Edit JSON');\n      this.editjson_button.classList.add('json-editor-btntype-editjson');\n      this.editjson_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        self.toggleEditJSON();\n      });\n      this.editjson_controls.appendChild(this.editjson_button);\n      this.editjson_controls.appendChild(this.editjson_holder);\n\n      // Edit JSON Buttton disabled\n      if(this.schema.options && typeof this.schema.options.disable_edit_json !== \"undefined\") {\n        if(this.schema.options.disable_edit_json) this.editjson_button.style.display = 'none';\n      }\n      else if(this.jsoneditor.options.disable_edit_json) {\n        this.editjson_button.style.display = 'none';\n      }\n\n      // Object Properties Button\n      this.addproperty_button = this.getButton('Properties','edit', self.translate('button_object_properties'));\n      this.addproperty_button.classList.add('json-editor-btntype-properties');\n      this.addproperty_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        self.toggleAddProperty();\n      });\n      this.addproperty_controls.appendChild(this.addproperty_button);\n      this.addproperty_controls.appendChild(this.addproperty_holder);\n      this.refreshAddProperties();\n\n      // non required properties start deactivated\n      this.deactivateNonRequiredProperties();\n\n    }\n\n    // Fix table cell ordering\n    if(this.options.table_row) {\n      this.editor_holder = this.container;\n      $each(this.property_order,function(i,key) {\n        self.editor_holder.appendChild(self.editors[key].container);\n      });\n    }\n    // Layout object editors in grid if needed\n    else {\n      // Initial layout\n      this.layoutEditors();\n      // Do it again now that we know the approximate heights of elements\n      this.layoutEditors();\n    }\n  },\n  deactivateNonRequiredProperties: function () {\n    var self = this;\n    // the show_opt_in editor option is for backward compatibility\n    if (this.jsoneditor.options.show_opt_in || this.options.show_opt_in) {\n      $each(this.editors, function(key, editor) {\n        if (!self.isRequired(editor)) {\n          self.editors[key].deactivate();\n        }\n      });\n    }\n  },\n  showEditJSON: function() {\n    if(!this.editjson_holder) return;\n    this.hideAddProperty();\n\n    // Position the form directly beneath the button\n    // TODO: edge detection\n    this.editjson_holder.style.left = this.editjson_button.offsetLeft+\"px\";\n    this.editjson_holder.style.top = this.editjson_button.offsetTop + this.editjson_button.offsetHeight+\"px\";\n\n    // Start the textarea with the current value\n    this.editjson_textarea.value = JSON.stringify(this.getValue(),null,2);\n\n    // Disable the rest of the form while editing JSON\n    this.disable();\n\n    this.editjson_holder.style.display = '';\n    this.editjson_button.disabled = false;\n    this.editing_json = true;\n  },\n  hideEditJSON: function() {\n    if(!this.editjson_holder) return;\n    if(!this.editing_json) return;\n\n    this.editjson_holder.style.display = 'none';\n    this.enable();\n    this.editing_json = false;\n  },\n  copyJSON: function() {\n    if(!this.editjson_holder) return;\n    var ta = document.createElement('textarea');\n    ta.value = this.editjson_textarea.value;\n    ta.setAttribute('readonly', '');\n    ta.style.position = 'absolute';\n    ta.style.left = '-9999px';\n    document.body.appendChild(ta);\n    ta.select();\n    document.execCommand('copy');\n    document.body.removeChild(ta);\n  },\n  saveJSON: function() {\n    if(!this.editjson_holder) return;\n\n    try {\n      var json = JSON.parse(this.editjson_textarea.value);\n      this.setValue(json);\n      this.hideEditJSON();\n      this.onChange(true);\n    }\n    catch(e) {\n      window.alert('invalid JSON');\n      throw e;\n    }\n  },\n  toggleEditJSON: function() {\n    if(this.editing_json) this.hideEditJSON();\n    else this.showEditJSON();\n  },\n  insertPropertyControlUsingPropertyOrder: function (property, control, container) {\n    var propertyOrder;\n    if (this.schema.properties[property])\n      propertyOrder = this.schema.properties[property].propertyOrder;\n    if (typeof propertyOrder !== \"number\") propertyOrder = 1000;\n    control.propertyOrder = propertyOrder;\n\n    for (var i = 0; i < container.childNodes.length; i++) {\n      var child = container.childNodes[i];\n      if (control.propertyOrder < child.propertyOrder) {\n        this.addproperty_list.insertBefore(control, child);\n        control = null;\n        break;\n      }\n    }\n    if (control) {\n      this.addproperty_list.appendChild(control);\n    }\n  },\n  addPropertyCheckbox: function(key) {\n    var self = this;\n    var checkbox, label, labelText, control;\n\n    checkbox = self.theme.getCheckbox();\n    checkbox.style.width = 'auto';\n\n    if (this.schema.properties[key] && this.schema.properties[key].title)\n      labelText = this.schema.properties[key].title;\n    else\n      labelText = key;\n\n    label = self.theme.getCheckboxLabel(labelText);\n\n    control = self.theme.getFormControl(label,checkbox);\n    control.style.paddingBottom = control.style.marginBottom = control.style.paddingTop = control.style.marginTop = 0;\n    control.style.height = 'auto';\n    //control.style.overflowY = 'hidden';\n\n    this.insertPropertyControlUsingPropertyOrder(key, control, this.addproperty_list);\n\n    checkbox.checked = key in this.editors;\n    checkbox.addEventListener('change',function() {\n      if(checkbox.checked) {\n        self.addObjectProperty(key);\n      }\n      else {\n        self.removeObjectProperty(key);\n      }\n      self.onChange(true);\n    });\n    self.addproperty_checkboxes[key] = checkbox;\n\n    return checkbox;\n  },\n  showAddProperty: function() {\n    if(!this.addproperty_holder) return;\n    this.hideEditJSON();\n\n    // Position the form directly beneath the button\n    // TODO: edge detection\n    this.addproperty_holder.style.left = this.addproperty_button.offsetLeft+\"px\";\n    this.addproperty_holder.style.top = this.addproperty_button.offsetTop + this.addproperty_button.offsetHeight+\"px\";\n\n    // Disable the rest of the form while editing JSON\n    this.disable();\n\n    this.adding_property = true;\n    this.addproperty_button.disabled = false;\n    this.addproperty_holder.style.display = '';\n    this.refreshAddProperties();\n  },\n  hideAddProperty: function() {\n    if(!this.addproperty_holder) return;\n    if(!this.adding_property) return;\n\n    this.addproperty_holder.style.display = 'none';\n    this.enable();\n\n    this.adding_property = false;\n  },\n  toggleAddProperty: function() {\n    if(this.adding_property) this.hideAddProperty();\n    else this.showAddProperty();\n  },\n  removeObjectProperty: function(property) {\n    if(this.editors[property]) {\n        this.editors[property].unregister();\n        delete this.editors[property];\n\n      this.refreshValue();\n      this.layoutEditors();\n    }\n  },\n  addObjectProperty: function(name, prebuild_only) {\n    var self = this;\n\n    // Property is already added\n    if(this.editors[name]) return;\n\n    // Property was added before and is cached\n    if(this.cached_editors[name]) {\n      this.editors[name] = this.cached_editors[name];\n      if(prebuild_only) return;\n      this.editors[name].register();\n    }\n    // New property\n    else {\n      if(!this.canHaveAdditionalProperties() && (!this.schema.properties || !this.schema.properties[name])) {\n        return;\n      }\n\n      var schema = self.getPropertySchema(name);\n      if(typeof schema.propertyOrder !== 'number'){\n        // if the propertyOrder undefined, then set a smart default value.\n        schema.propertyOrder = Object.keys(self.editors).length + 1000;\n      }\n\n\n      // Add the property\n      var editor = self.jsoneditor.getEditorClass(schema);\n\n      self.editors[name] = self.jsoneditor.createEditor(editor,{\n        jsoneditor: self.jsoneditor,\n        schema: schema,\n        path: self.path+'.'+name,\n        parent: self\n      });\n      self.editors[name].preBuild();\n\n      if(!prebuild_only) {\n        var holder = self.theme.getChildEditorHolder();\n        self.editor_holder.appendChild(holder);\n        self.editors[name].setContainer(holder);\n        self.editors[name].build();\n        self.editors[name].postBuild();\n        self.editors[name].setOptInCheckbox(editor.header);\n        self.editors[name].activate();\n      }\n\n      self.cached_editors[name] = self.editors[name];\n    }\n\n    // If we're only prebuilding the editors, don't refresh values\n    if(!prebuild_only) {\n      self.refreshValue();\n      self.layoutEditors();\n    }\n  },\n  onChildEditorChange: function(editor) {\n    this.refreshValue();\n    this._super(editor);\n  },\n  canHaveAdditionalProperties: function() {\n    if (typeof this.schema.additionalProperties === \"boolean\") {\n      return this.schema.additionalProperties;\n    }\n    return !this.jsoneditor.options.no_additional_properties;\n  },\n  destroy: function() {\n    $each(this.cached_editors, function(i,el) {\n      el.destroy();\n    });\n    if(this.editor_holder) this.editor_holder.innerHTML = '';\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n    if(this.error_holder && this.error_holder.parentNode) this.error_holder.parentNode.removeChild(this.error_holder);\n\n    this.editors = null;\n    this.cached_editors = null;\n    if(this.editor_holder && this.editor_holder.parentNode) this.editor_holder.parentNode.removeChild(this.editor_holder);\n    this.editor_holder = null;\n\n    this._super();\n  },\n  getValue: function() {\n    if (!this.dependenciesFulfilled) {\n      return undefined;\n    }\n    var result = this._super();\n    if(this.jsoneditor.options.remove_empty_properties || this.options.remove_empty_properties) {\n      for (var i in result) {\n        if (result.hasOwnProperty(i)) {\n          if (typeof result[i] === 'undefined' || result[i] === '' || result[i] === Object(result[i]) && Object.keys(result[i]).length == 0 && result[i].constructor == Object) {\n            delete result[i];\n          }\n        }\n      }\n    }\n\n    return result;\n  },\n  refreshValue: function() {\n    this.value = {};\n    var self = this;\n\n    for(var i in this.editors) {\n      if(!this.editors.hasOwnProperty(i)) continue;\n      if (this.editors[i].isActive()) {\n        this.value[i] = this.editors[i].getValue();\n      }\n    }\n\n    if(this.adding_property) this.refreshAddProperties();\n  },\n  refreshAddProperties: function() {\n    if(this.options.disable_properties || (this.options.disable_properties !== false && this.jsoneditor.options.disable_properties)) {\n      this.addproperty_controls.style.display = 'none';\n      return;\n    }\n\n    var can_add = false, can_remove = false, num_props = 0, i, show_modal = false;\n\n    // Get number of editors\n    for(i in this.editors) {\n      if(!this.editors.hasOwnProperty(i)) continue;\n      num_props++;\n    }\n\n    // Determine if we can add back removed properties\n    can_add = this.canHaveAdditionalProperties() && !(typeof this.schema.maxProperties !== \"undefined\" && num_props >= this.schema.maxProperties);\n\n    if(this.addproperty_checkboxes) {\n      this.addproperty_list.innerHTML = '';\n    }\n    this.addproperty_checkboxes = {};\n\n    // Check for which editors can't be removed or added back\n    for(i in this.cached_editors) {\n      if(!this.cached_editors.hasOwnProperty(i)) continue;\n\n      this.addPropertyCheckbox(i);\n\n      if(this.isRequired(this.cached_editors[i]) && i in this.editors) {\n        this.addproperty_checkboxes[i].disabled = true;\n      }\n\n      if(typeof this.schema.minProperties !== \"undefined\" && num_props <= this.schema.minProperties) {\n        this.addproperty_checkboxes[i].disabled = this.addproperty_checkboxes[i].checked;\n        if(!this.addproperty_checkboxes[i].checked) show_modal = true;\n      }\n      else if(!(i in this.editors)) {\n        if(!can_add  && !this.schema.properties.hasOwnProperty(i)) {\n          this.addproperty_checkboxes[i].disabled = true;\n        }\n        else {\n          this.addproperty_checkboxes[i].disabled = false;\n          show_modal = true;\n        }\n      }\n      else {\n        show_modal = true;\n        can_remove = true;\n      }\n    }\n\n    if(this.canHaveAdditionalProperties()) {\n      show_modal = true;\n    }\n\n    // Additional addproperty checkboxes not tied to a current editor\n    for(i in this.schema.properties) {\n      if(!this.schema.properties.hasOwnProperty(i)) continue;\n      if(this.cached_editors[i]) continue;\n      show_modal = true;\n      this.addPropertyCheckbox(i);\n    }\n\n    // If no editors can be added or removed, hide the modal button\n    if(!show_modal) {\n      this.hideAddProperty();\n      this.addproperty_controls.style.display = 'none';\n    }\n    // If additional properties are disabled\n    else if(!this.canHaveAdditionalProperties()) {\n      this.addproperty_add.style.display = 'none';\n      this.addproperty_input.style.display = 'none';\n    }\n    // If no new properties can be added\n    else if(!can_add) {\n      this.addproperty_add.disabled = true;\n    }\n    // If new properties can be added\n    else {\n      this.addproperty_add.disabled = false;\n    }\n  },\n  isRequired: function(editor) {\n    if (!editor) {\n      return;\n    }\n    if(typeof editor.schema.required === \"boolean\") return editor.schema.required;\n    else if(Array.isArray(this.schema.required)) return this.schema.required.indexOf(editor.key) > -1;\n    else if(this.jsoneditor.options.required_by_default) return true;\n    else return false;\n  },\n  setValue: function(value, initial) {\n    var self = this;\n    value = value || {};\n\n    if(typeof value !== \"object\" || Array.isArray(value)) value = {};\n\n    // First, set the values for all of the defined properties\n    $each(this.cached_editors, function(i,editor) {\n      // Value explicitly set\n      if(typeof value[i] !== \"undefined\") {\n        self.addObjectProperty(i);\n        editor.setValue(value[i],initial);\n      }\n      // Otherwise, remove value unless this is the initial set or it's required\n      else if(!initial && !self.isRequired(editor)) {\n        self.removeObjectProperty(i);\n      }\n      // Otherwise, set the value to the default\n      else {\n        editor.setValue(editor.getDefault(),initial);\n      }\n    });\n\n    $each(value, function(i,val) {\n      if(!self.cached_editors[i]) {\n        self.addObjectProperty(i);\n        if(self.editors[i]) self.editors[i].setValue(val,initial);\n      }\n    });\n\n    this.refreshValue();\n    this.layoutEditors();\n    this.onChange();\n  },\n  showValidationErrors: function(errors) {\n    var self = this;\n\n    // Get all the errors that pertain to this editor\n    var my_errors = [];\n    var other_errors = [];\n    $each(errors, function(i,error) {\n      if(error.path === self.path) {\n        my_errors.push(error);\n      }\n      else {\n        other_errors.push(error);\n      }\n    });\n\n    // Show errors for this editor\n    if(this.error_holder) {\n      if(my_errors.length) {\n        var message = [];\n        this.error_holder.innerHTML = '';\n        this.error_holder.style.display = '';\n        $each(my_errors, function(i,error) {\n          self.error_holder.appendChild(self.theme.getErrorMessage(error.message));\n        });\n      }\n      // Hide error area\n      else {\n        this.error_holder.style.display = 'none';\n      }\n    }\n\n    // Show error for the table row if this is inside a table\n    if(this.options.table_row) {\n      if(my_errors.length) {\n        this.theme.addTableRowError(this.container);\n      }\n      else {\n        this.theme.removeTableRowError(this.container);\n      }\n    }\n\n    // Show errors for child editors\n    $each(this.editors, function(i,editor) {\n      editor.showValidationErrors(other_errors);\n    });\n  }\n});\n","JSONEditor.defaults.editors.array = JSONEditor.AbstractEditor.extend({\n  askConfirmation: function() {\n    if (this.jsoneditor.options.prompt_before_delete === true) {\n      if (confirm(\"Are you sure you want to remove this node?\") === false) {\n        return false;\n      }\n    }\n    return true;\n  },\n  getDefault: function() {\n    return this.schema[\"default\"] || [];\n  },\n  register: function() {\n    this._super();\n    if(this.rows) {\n      for(var i=0; i<this.rows.length; i++) {\n        this.rows[i].register();\n      }\n    }\n  },\n  unregister: function() {\n    this._super();\n    if(this.rows) {\n      for(var i=0; i<this.rows.length; i++) {\n        this.rows[i].unregister();\n      }\n    }\n  },\n  getNumColumns: function() {\n    var info = this.getItemInfo(0);\n    // Tabs require extra horizontal space\n    if(this.tabs_holder && this.schema.format !== 'tabs-top') {\n      return Math.max(Math.min(12,info.width+2),4);\n    }\n    else {\n      return info.width;\n    }\n  },\n  enable: function() {\n    if(!this.always_disabled) {\n      if(this.add_row_button) this.add_row_button.disabled = false;\n      if(this.remove_all_rows_button) this.remove_all_rows_button.disabled = false;\n      if(this.delete_last_row_button) this.delete_last_row_button.disabled = false;\n\n      if(this.rows) {\n        for(var i=0; i<this.rows.length; i++) {\n          this.rows[i].enable();\n\n          if(this.rows[i].moveup_button) this.rows[i].moveup_button.disabled = false;\n          if(this.rows[i].movedown_button) this.rows[i].movedown_button.disabled = false;\n          if(this.rows[i].delete_button) this.rows[i].delete_button.disabled = false;\n        }\n      }\n      this._super();\n    }\n  },\n  disable: function(always_disabled) {\n    if(always_disabled) this.always_disabled = true;\n    if(this.add_row_button) this.add_row_button.disabled = true;\n    if(this.remove_all_rows_button) this.remove_all_rows_button.disabled = true;\n    if(this.delete_last_row_button) this.delete_last_row_button.disabled = true;\n\n    if(this.rows) {\n      for(var i=0; i<this.rows.length; i++) {\n        this.rows[i].disable(always_disabled);\n\n        if(this.rows[i].moveup_button) this.rows[i].moveup_button.disabled = true;\n        if(this.rows[i].movedown_button) this.rows[i].movedown_button.disabled = true;\n        if(this.rows[i].delete_button) this.rows[i].delete_button.disabled = true;\n      }\n    }\n    this._super();\n  },\n  preBuild: function() {\n    this._super();\n\n    this.rows = [];\n    this.row_cache = [];\n\n    this.hide_delete_buttons = this.options.disable_array_delete || this.jsoneditor.options.disable_array_delete;\n    this.hide_delete_all_rows_buttons = this.hide_delete_buttons || this.options.disable_array_delete_all_rows || this.jsoneditor.options.disable_array_delete_all_rows;\n    this.hide_delete_last_row_buttons = this.hide_delete_buttons || this.options.disable_array_delete_last_row || this.jsoneditor.options.disable_array_delete_last_row;\n    this.hide_move_buttons = this.options.disable_array_reorder || this.jsoneditor.options.disable_array_reorder;\n    this.hide_add_button = this.options.disable_array_add || this.jsoneditor.options.disable_array_add;\n    this.show_copy_button = this.options.enable_array_copy || this.jsoneditor.options.enable_array_copy;\n    this.array_controls_top = this.options.array_controls_top || this.jsoneditor.options.array_controls_top;\n  },\n  build: function() {\n    var self = this;\n\n    if(!this.options.compact) {\n      this.header = document.createElement('label');\n      this.header.textContent = this.getTitle();\n      this.title = this.theme.getHeader(this.header);\n      this.container.appendChild(this.title);\n      this.title_controls = this.theme.getHeaderButtonHolder();\n      this.title.appendChild(this.title_controls);\n      if(this.schema.description) {\n        this.description = this.theme.getDescription(this.schema.description);\n        this.container.appendChild(this.description);\n      }\n      this.error_holder = document.createElement('div');\n      this.container.appendChild(this.error_holder);\n\n      if(this.schema.format === 'tabs-top') {\n        this.controls = this.theme.getHeaderButtonHolder();\n        this.title.appendChild(this.controls);\n        this.tabs_holder = this.theme.getTopTabHolder(this.getValidId(this.getItemTitle()));\n        this.container.appendChild(this.tabs_holder);\n        this.row_holder = this.theme.getTopTabContentHolder(this.tabs_holder);\n\n        this.active_tab = null;\n      }\n      else if(this.schema.format === 'tabs') {\n        this.controls = this.theme.getHeaderButtonHolder();\n        this.title.appendChild(this.controls);\n        this.tabs_holder = this.theme.getTabHolder(this.getValidId(this.getItemTitle()));\n        this.container.appendChild(this.tabs_holder);\n        this.row_holder = this.theme.getTabContentHolder(this.tabs_holder);\n\n        this.active_tab = null;\n      }\n      else {\n        this.panel = this.theme.getIndentedPanel();\n        this.container.appendChild(this.panel);\n        this.row_holder = document.createElement('div');\n        this.panel.appendChild(this.row_holder);\n        this.controls = this.theme.getButtonHolder();\n        if (this.array_controls_top) {\n          this.title.appendChild(this.controls);\n        }\n        else {\n          this.panel.appendChild(this.controls);\n        }\n      }\n    }\n    else {\n        this.panel = this.theme.getIndentedPanel();\n        this.container.appendChild(this.panel);\n        this.title_controls = this.theme.getHeaderButtonHolder();\n        this.panel.appendChild(this.title_controls);\n        this.controls = this.theme.getButtonHolder();\n        this.panel.appendChild(this.controls);\n        this.row_holder = document.createElement('div');\n        this.panel.appendChild(this.row_holder);\n    }\n\n    // Add controls\n    this.addControls();\n  },\n  onChildEditorChange: function(editor) {\n    this.refreshValue();\n    this.refreshTabs(true);\n    this._super(editor);\n  },\n  getItemTitle: function() {\n    if(!this.item_title) {\n      if(this.schema.items && !Array.isArray(this.schema.items)) {\n        var tmp = this.jsoneditor.expandRefs(this.schema.items);\n        this.item_title = tmp.title || 'item';\n      }\n      else {\n        this.item_title = 'item';\n      }\n    }\n    return this.cleanText(this.item_title);\n  },\n  getItemSchema: function(i) {\n    if(Array.isArray(this.schema.items)) {\n      if(i >= this.schema.items.length) {\n        if(this.schema.additionalItems===true) {\n          return {};\n        }\n        else if(this.schema.additionalItems) {\n          return $extend({},this.schema.additionalItems);\n        }\n      }\n      else {\n        return $extend({},this.schema.items[i]);\n      }\n    }\n    else if(this.schema.items) {\n      return $extend({},this.schema.items);\n    }\n    else {\n      return {};\n    }\n  },\n  getItemInfo: function(i) {\n    var schema = this.getItemSchema(i);\n\n    // Check if it's cached\n    this.item_info = this.item_info || {};\n    var stringified = JSON.stringify(schema);\n    if(typeof this.item_info[stringified] !== \"undefined\") return this.item_info[stringified];\n\n    // Get the schema for this item\n    schema = this.jsoneditor.expandRefs(schema);\n\n    this.item_info[stringified] = {\n      title: schema.title || \"item\",\n      'default': schema[\"default\"],\n      width: 12,\n      child_editors: schema.properties || schema.items\n    };\n\n    return this.item_info[stringified];\n  },\n  getElementEditor: function(i) {\n    var item_info = this.getItemInfo(i);\n    var schema = this.getItemSchema(i);\n    schema = this.jsoneditor.expandRefs(schema);\n    schema.title = item_info.title+' '+(i+1);\n\n    var editor = this.jsoneditor.getEditorClass(schema);\n\n    var holder;\n    if(this.tabs_holder) {\n      if(this.schema.format === 'tabs-top') {\n        holder = this.theme.getTopTabContent();\n      }\n      else {\n        holder = this.theme.getTabContent();\n      }\n      holder.id = this.path+'.'+i;\n    }\n    else if(item_info.child_editors) {\n      holder = this.theme.getChildEditorHolder();\n    }\n    else {\n      holder = this.theme.getIndentedPanel();\n    }\n\n    this.row_holder.appendChild(holder);\n\n    var ret = this.jsoneditor.createEditor(editor,{\n      jsoneditor: this.jsoneditor,\n      schema: schema,\n      container: holder,\n      path: this.path+'.'+i,\n      parent: this,\n      required: true\n    });\n    ret.preBuild();\n    ret.build();\n    ret.postBuild();\n\n    if(!ret.title_controls) {\n      ret.array_controls = this.theme.getButtonHolder();\n      holder.appendChild(ret.array_controls);\n    }\n\n    return ret;\n  },\n  destroy: function() {\n    this.empty(true);\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n    if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n    if(this.row_holder && this.row_holder.parentNode) this.row_holder.parentNode.removeChild(this.row_holder);\n    if(this.controls && this.controls.parentNode) this.controls.parentNode.removeChild(this.controls);\n    if(this.panel && this.panel.parentNode) this.panel.parentNode.removeChild(this.panel);\n\n    this.rows = this.row_cache = this.title = this.description = this.row_holder = this.panel = this.controls = null;\n\n    this._super();\n  },\n  empty: function(hard) {\n    if(!this.rows) return;\n    var self = this;\n    $each(this.rows,function(i,row) {\n      if(hard) {\n        if(row.tab && row.tab.parentNode) row.tab.parentNode.removeChild(row.tab);\n        self.destroyRow(row,true);\n        self.row_cache[i] = null;\n      }\n      self.rows[i] = null;\n    });\n    self.rows = [];\n    if(hard) self.row_cache = [];\n  },\n  destroyRow: function(row,hard) {\n    var holder = row.container;\n    if(hard) {\n      row.destroy();\n      if(holder.parentNode) holder.parentNode.removeChild(holder);\n      if(row.tab && row.tab.parentNode) row.tab.parentNode.removeChild(row.tab);\n    }\n    else {\n      if(row.tab) row.tab.style.display = 'none';\n      holder.style.display = 'none';\n      row.unregister();\n    }\n  },\n  getMax: function() {\n    if((Array.isArray(this.schema.items)) && this.schema.additionalItems === false) {\n      return Math.min(this.schema.items.length,this.schema.maxItems || Infinity);\n    }\n    else {\n      return this.schema.maxItems || Infinity;\n    }\n  },\n  refreshTabs: function(refresh_headers) {\n    var self = this;\n    $each(this.rows, function(i,row) {\n      if(!row.tab) return;\n\n      if(refresh_headers) {\n        row.tab_text.textContent = row.getHeaderText();\n      }\n      else {\n        if(row.tab === self.active_tab) {\n          self.theme.markTabActive(row);\n        }\n        else {\n          self.theme.markTabInactive(row);\n        }\n      }\n    });\n  },\n  setValue: function(value, initial) {\n    // Update the array's value, adding/removing rows when necessary\n    value = value || [];\n\n    if(!(Array.isArray(value))) value = [value];\n\n    var serialized = JSON.stringify(value);\n    if(serialized === this.serialized) return;\n\n    // Make sure value has between minItems and maxItems items in it\n    if(this.schema.minItems) {\n      while(value.length < this.schema.minItems) {\n        value.push(this.getItemInfo(value.length)[\"default\"]);\n      }\n    }\n    if(this.getMax() && value.length > this.getMax()) {\n      value = value.slice(0,this.getMax());\n    }\n\n    var self = this;\n    $each(value,function(i,val) {\n      if(self.rows[i]) {\n        // TODO: don't set the row's value if it hasn't changed\n        self.rows[i].setValue(val,initial);\n      }\n      else if(self.row_cache[i]) {\n        self.rows[i] = self.row_cache[i];\n        self.rows[i].setValue(val,initial);\n        self.rows[i].container.style.display = '';\n        if(self.rows[i].tab) self.rows[i].tab.style.display = '';\n        self.rows[i].register();\n      }\n      else {\n        self.addRow(val,initial);\n      }\n    });\n\n    for(var j=value.length; j<self.rows.length; j++) {\n      self.destroyRow(self.rows[j]);\n      self.rows[j] = null;\n    }\n    self.rows = self.rows.slice(0,value.length);\n\n    // Set the active tab\n    var new_active_tab = null;\n    $each(self.rows, function(i,row) {\n      if(row.tab === self.active_tab) {\n        new_active_tab = row.tab;\n        return false;\n      }\n    });\n    if(!new_active_tab && self.rows.length) new_active_tab = self.rows[0].tab;\n\n    self.active_tab = new_active_tab;\n\n    self.refreshValue(initial);\n    self.refreshTabs(true);\n    self.refreshTabs();\n\n    self.onChange();\n\n    // TODO: sortable\n  },\n  refreshValue: function(force) {\n    var self = this;\n    var oldi = this.value? this.value.length : 0;\n    this.value = [];\n\n    $each(this.rows,function(i,editor) {\n      // Get the value for this editor\n      self.value[i] = editor.getValue();\n    });\n\n    if(oldi !== this.value.length || force) {\n      // If we currently have minItems items in the array\n      var minItems = this.schema.minItems && this.schema.minItems >= this.rows.length;\n\n      $each(this.rows,function(i,editor) {\n        // Hide the move down button for the last row\n        if(editor.movedown_button) {\n          if(i === self.rows.length - 1) {\n            editor.movedown_button.style.display = 'none';\n          }\n          else {\n            editor.movedown_button.style.display = '';\n          }\n        }\n\n        // Hide the delete button if we have minItems items\n        if(editor.delete_button) {\n          if(minItems) {\n            editor.delete_button.style.display = 'none';\n          }\n          else {\n            editor.delete_button.style.display = '';\n          }\n        }\n\n        // Get the value for this editor\n        self.value[i] = editor.getValue();\n      });\n\n      var controls_needed = false;\n\n      if(!this.value.length) {\n        this.delete_last_row_button.style.display = 'none';\n        this.remove_all_rows_button.style.display = 'none';\n      }\n      else if(this.value.length === 1) {\n        this.remove_all_rows_button.style.display = 'none';\n\n        // If there are minItems items in the array, or configured to hide the delete_last_row button, hide the delete button beneath the rows\n        if(minItems || this.hide_delete_last_row_buttons) {\n          this.delete_last_row_button.style.display = 'none';\n        }\n        else {\n          this.delete_last_row_button.style.display = '';\n          controls_needed = true;\n        }\n      }\n      else {\n        if(minItems || this.hide_delete_last_row_buttons) {\n          this.delete_last_row_button.style.display = 'none';\n        }\n        else {\n          this.delete_last_row_button.style.display = '';\n          controls_needed = true;\n        }\n\n        if(minItems || this.hide_delete_all_rows_buttons) {\n          this.remove_all_rows_button.style.display = 'none';\n        }\n        else {\n          this.remove_all_rows_button.style.display = '';\n          controls_needed = true;\n        }\n      }\n\n      // If there are maxItems in the array, hide the add button beneath the rows\n      if((this.getMax() && this.getMax() <= this.rows.length) || this.hide_add_button){\n        this.add_row_button.style.display = 'none';\n      }\n      else {\n        this.add_row_button.style.display = '';\n        controls_needed = true;\n      }\n\n      if(!this.collapsed && controls_needed) {\n        this.controls.style.display = 'inline-block';\n      }\n      else {\n        this.controls.style.display = 'none';\n      }\n    }\n  },\n  addRow: function(value, initial) {\n    var self = this;\n    var i = this.rows.length;\n\n    self.rows[i] = this.getElementEditor(i);\n    self.row_cache[i] = self.rows[i];\n\n    if(self.tabs_holder) {\n      self.rows[i].tab_text = document.createElement('span');\n      self.rows[i].tab_text.textContent = self.rows[i].getHeaderText();\n      if(self.schema.format === 'tabs-top'){\n        self.rows[i].tab = self.theme.getTopTab(self.rows[i].tab_text,this.getValidId(self.rows[i].path));\n        self.theme.addTopTab(self.tabs_holder, self.rows[i].tab);\n      }\n      else {\n        self.rows[i].tab = self.theme.getTab(self.rows[i].tab_text,this.getValidId(self.rows[i].path));\n        self.theme.addTab(self.tabs_holder, self.rows[i].tab);\n      }\n      self.rows[i].tab.addEventListener('click', function(e) {\n        self.active_tab = self.rows[i].tab;\n        self.refreshTabs();\n        e.preventDefault();\n        e.stopPropagation();\n      });\n\n    }\n\n    var controls_holder = self.rows[i].title_controls || self.rows[i].array_controls;\n\n    // Buttons to delete row, move row up, and move row down\n    if(!self.hide_delete_buttons) {\n      self.rows[i].delete_button = this.getButton(self.getItemTitle(),'delete',this.translate('button_delete_row_title',[self.getItemTitle()]));\n      self.rows[i].delete_button.classList.add('delete', 'json-editor-btntype-delete');\n      self.rows[i].delete_button.setAttribute('data-i',i);\n      self.rows[i].delete_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!self.askConfirmation()) {\n          return false;\n        }\n\n        var i = this.getAttribute('data-i')*1;\n        var value = self.getValue();\n        var newval = [];\n        var new_active_tab = null;\n\n        $each(value,function(j,row) {\n          if(j !== i) {\n            newval.push(row);\n          }\n        });\n\n        self.empty(true);\n        self.setValue(newval);\n\n        if (self.rows[i]) {\n          new_active_tab = self.rows[i].tab;\n        } else if (self.rows[i-1]) {\n          new_active_tab = self.rows[i-1].tab;\n        }\n\n        if(new_active_tab) {\n          self.active_tab = new_active_tab;\n          self.refreshTabs();\n        }\n\n        self.onChange(true);\n        self.jsoneditor.trigger('deleteRow');\n      });\n\n      if(controls_holder) {\n        controls_holder.appendChild(self.rows[i].delete_button);\n      }\n    }\n\n\t//Button to copy an array element and add it as last element\n\tif(self.show_copy_button){\n        self.rows[i].copy_button = this.getButton(self.getItemTitle(),'copy','Copy '+self.getItemTitle());\n        self.rows[i].copy_button.classList.add('copy', 'json-editor-btntype-copy');\n        self.rows[i].copy_button.setAttribute('data-i',i);\n        self.rows[i].copy_button.addEventListener('click',function(e) {\n            var value = self.getValue();\n            e.preventDefault();\n            e.stopPropagation();\n            var i = this.getAttribute('data-i')*1;\n\n            $each(value,function(j,row) {\n              if(j===i) {\n                value.push(row);\n              }\n            });\n\n            self.setValue(value);\n            self.refreshValue(true);\n            self.onChange(true);\n\n        });\n\n        controls_holder.appendChild(self.rows[i].copy_button);\n    }\n\n\n    if(i && !self.hide_move_buttons) {\n      self.rows[i].moveup_button = this.getButton('','moveup',this.translate('button_move_up_title'));\n      self.rows[i].moveup_button.classList.add('moveup', 'json-editor-btntype-move');\n      self.rows[i].moveup_button.setAttribute('data-i',i);\n      self.rows[i].moveup_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var i = this.getAttribute('data-i')*1;\n\n        if(i<=0) return;\n        var rows = self.getValue();\n        var tmp = rows[i-1];\n        rows[i-1] = rows[i];\n        rows[i] = tmp;\n\n        self.setValue(rows);\n        self.active_tab = self.rows[i-1].tab;\n        self.refreshTabs();\n\n        self.onChange(true);\n\n        self.jsoneditor.trigger('moveRow');\n      });\n\n      if(controls_holder) {\n        controls_holder.appendChild(self.rows[i].moveup_button);\n      }\n    }\n\n    if(!self.hide_move_buttons) {\n      self.rows[i].movedown_button = this.getButton('','movedown',this.translate('button_move_down_title'));\n      self.rows[i].movedown_button.classList.add('movedown', 'json-editor-btntype-move');\n      self.rows[i].movedown_button.setAttribute('data-i',i);\n      self.rows[i].movedown_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var i = this.getAttribute('data-i')*1;\n\n        var rows = self.getValue();\n        if(i>=rows.length-1) return;\n        var tmp = rows[i+1];\n        rows[i+1] = rows[i];\n        rows[i] = tmp;\n\n        self.setValue(rows);\n        self.active_tab = self.rows[i+1].tab;\n        self.refreshTabs();\n        self.onChange(true);\n\n        self.jsoneditor.trigger('moveRow');\n      });\n\n      if(controls_holder) {\n        controls_holder.appendChild(self.rows[i].movedown_button);\n      }\n    }\n\n    if(value) self.rows[i].setValue(value, initial);\n    self.refreshTabs();\n  },\n  addControls: function() {\n    var self = this;\n\n    this.collapsed = false;\n    this.toggle_button = this.getButton('','collapse',this.translate('button_collapse'));\n    this.toggle_button.classList.add('json-editor-btntype-toggle');\n    this.title_controls.appendChild(this.toggle_button);\n    var row_holder_display = self.row_holder.style.display;\n    var controls_display = self.controls.style.display;\n    this.toggle_button.addEventListener('click',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      if(self.collapsed) {\n        self.collapsed = false;\n        if(self.panel) self.panel.style.display = '';\n        self.row_holder.style.display = row_holder_display;\n        if(self.tabs_holder) self.tabs_holder.style.display = '';\n        self.controls.style.display = controls_display;\n        self.setButtonText(this,'','collapse',self.translate('button_collapse'));\n      }\n      else {\n        self.collapsed = true;\n        self.row_holder.style.display = 'none';\n        if(self.tabs_holder) self.tabs_holder.style.display = 'none';\n        self.controls.style.display = 'none';\n        if(self.panel) self.panel.style.display = 'none';\n        self.setButtonText(this,'','expand',self.translate('button_expand'));\n      }\n    });\n\n    // If it should start collapsed\n    if(this.options.collapsed) {\n      $trigger(this.toggle_button,'click');\n    }\n\n    // Collapse button disabled\n    if(this.schema.options && typeof this.schema.options.disable_collapse !== \"undefined\") {\n      if(this.schema.options.disable_collapse) this.toggle_button.style.display = 'none';\n    }\n    else if(this.jsoneditor.options.disable_collapse) {\n      this.toggle_button.style.display = 'none';\n    }\n\n    // Add \"new row\" and \"delete last\" buttons below editor\n    this.add_row_button = this.getButton(this.getItemTitle(),'add',this.translate('button_add_row_title',[this.getItemTitle()]));\n    this.add_row_button.classList.add('json-editor-btntype-add');\n    this.add_row_button.addEventListener('click',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var i = self.rows.length;\n      if(self.row_cache[i]) {\n        self.rows[i] = self.row_cache[i];\n        self.rows[i].setValue(self.rows[i].getDefault(), true);\n        self.rows[i].container.style.display = '';\n        if(self.rows[i].tab) self.rows[i].tab.style.display = '';\n        self.rows[i].register();\n      }\n      else {\n        self.addRow();\n      }\n      self.active_tab = self.rows[i].tab;\n      self.refreshTabs();\n      self.refreshValue();\n      self.onChange(true);\n      self.jsoneditor.trigger('addRow');\n    });\n    self.controls.appendChild(this.add_row_button);\n\n    this.delete_last_row_button = this.getButton(this.translate('button_delete_last',[this.getItemTitle()]),'delete',this.translate('button_delete_last_title',[this.getItemTitle()]));\n    this.delete_last_row_button.classList.add('json-editor-btntype-deletelast');\n    this.delete_last_row_button.addEventListener('click',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (!self.askConfirmation()) {\n        return false;\n      }\n\n      var rows = self.getValue();\n      var new_active_tab = null;\n\n      rows.pop();\n      self.empty(true);\n      self.setValue(rows);\n\n      if (self.rows[self.rows.length-1]) {\n        new_active_tab = self.rows[self.rows.length-1].tab;\n      }\n\n      if(new_active_tab) {\n        self.active_tab = new_active_tab;\n        self.refreshTabs();\n      }\n\n      self.onChange(true);\n      self.jsoneditor.trigger('deleteRow');\n    });\n    self.controls.appendChild(this.delete_last_row_button);\n\n    this.remove_all_rows_button = this.getButton(this.translate('button_delete_all'),'delete',this.translate('button_delete_all_title'));\n    this.remove_all_rows_button.classList.add('json-editor-btntype-deleteall');\n    this.remove_all_rows_button.addEventListener('click',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (!self.askConfirmation()) {\n        return false;\n      }\n\n      self.empty(true);\n      self.setValue([]);\n      self.onChange(true);\n      self.jsoneditor.trigger('deleteAllRows');\n    });\n    self.controls.appendChild(this.remove_all_rows_button);\n\n    if(self.tabs) {\n      this.add_row_button.style.width = '100%';\n      this.add_row_button.style.textAlign = 'left';\n      this.add_row_button.style.marginBottom = '3px';\n\n      this.delete_last_row_button.style.width = '100%';\n      this.delete_last_row_button.style.textAlign = 'left';\n      this.delete_last_row_button.style.marginBottom = '3px';\n\n      this.remove_all_rows_button.style.width = '100%';\n      this.remove_all_rows_button.style.textAlign = 'left';\n      this.remove_all_rows_button.style.marginBottom = '3px';\n    }\n  },\n  showValidationErrors: function(errors) {\n    var self = this;\n\n    // Get all the errors that pertain to this editor\n    var my_errors = [];\n    var other_errors = [];\n    $each(errors, function(i,error) {\n      if(error.path === self.path) {\n        my_errors.push(error);\n      }\n      else {\n        other_errors.push(error);\n      }\n    });\n\n    // Show errors for this editor\n    if(this.error_holder) {\n      if(my_errors.length) {\n        var message = [];\n        this.error_holder.innerHTML = '';\n        this.error_holder.style.display = '';\n        $each(my_errors, function(i,error) {\n          self.error_holder.appendChild(self.theme.getErrorMessage(error.message));\n        });\n      }\n      // Hide error area\n      else {\n        this.error_holder.style.display = 'none';\n      }\n    }\n\n    // Show errors for child editors\n    $each(this.rows, function(i,row) {\n      row.showValidationErrors(other_errors);\n    });\n  }\n});\n","JSONEditor.defaults.editors.table = JSONEditor.defaults.editors.array.extend({\n  register: function() {\n    this._super();\n    if(this.rows) {\n      for(var i=0; i<this.rows.length; i++) {\n        this.rows[i].register();\n      }\n    }\n  },\n  unregister: function() {\n    this._super();\n    if(this.rows) {\n      for(var i=0; i<this.rows.length; i++) {\n        this.rows[i].unregister();\n      }\n    }\n  },\n  getNumColumns: function() {\n    return Math.max(Math.min(12,this.width),3);\n  },\n  preBuild: function() {\n    var item_schema = this.jsoneditor.expandRefs(this.schema.items || {});\n\n    this.item_title = item_schema.title || 'row';\n    this.item_default = item_schema[\"default\"] || null;\n    this.item_has_child_editors = item_schema.properties || item_schema.items;\n    this.width = 12;\n    this._super();\n  },\n  build: function() {\n    var self = this;\n    this.table = this.theme.getTable();\n    this.container.appendChild(this.table);\n    this.thead = this.theme.getTableHead();\n    this.table.appendChild(this.thead);\n    this.header_row = this.theme.getTableRow();\n    this.thead.appendChild(this.header_row);\n    this.row_holder = this.theme.getTableBody();\n    this.table.appendChild(this.row_holder);\n\n    // Determine the default value of array element\n    var tmp = this.getElementEditor(0,true);\n    this.item_default = tmp.getDefault();\n    this.width = tmp.getNumColumns() + 2;\n\n    if(!this.options.compact) {\n      this.title = this.theme.getHeader(this.getTitle());\n      this.container.appendChild(this.title);\n      this.title_controls = this.theme.getHeaderButtonHolder();\n      this.title.appendChild(this.title_controls);\n      if(this.schema.description) {\n        this.description = this.theme.getDescription(this.schema.description);\n        this.container.appendChild(this.description);\n      }\n      this.panel = this.theme.getIndentedPanel();\n      this.container.appendChild(this.panel);\n      this.error_holder = document.createElement('div');\n      this.panel.appendChild(this.error_holder);\n    }\n    else {\n      this.panel = document.createElement('div');\n      this.container.appendChild(this.panel);\n    }\n\n    this.panel.appendChild(this.table);\n    this.controls = this.theme.getButtonHolder();\n    this.panel.appendChild(this.controls);\n\n    if(this.item_has_child_editors) {\n      var ce = tmp.getChildEditors();\n      var order = tmp.property_order || Object.keys(ce);\n      for(var i=0; i<order.length; i++) {\n        var th = self.theme.getTableHeaderCell(ce[order[i]].getTitle());\n        if(ce[order[i]].options.hidden) th.style.display = 'none';\n        self.header_row.appendChild(th);\n      }\n    }\n    else {\n      self.header_row.appendChild(self.theme.getTableHeaderCell(this.item_title));\n    }\n\n    tmp.destroy();\n    this.row_holder.innerHTML = '';\n\n    // Row Controls column\n    this.controls_header_cell = self.theme.getTableHeaderCell(\" \");\n    self.header_row.appendChild(this.controls_header_cell);\n\n    // Add controls\n    this.addControls();\n  },\n  onChildEditorChange: function(editor) {\n    this.refreshValue();\n    this._super();\n  },\n  getItemDefault: function() {\n    return $extend({},{\"default\":this.item_default})[\"default\"];\n  },\n  getItemTitle: function() {\n    return this.item_title;\n  },\n  getElementEditor: function(i,ignore) {\n    var schema_copy = $extend({},this.schema.items);\n    var editor = this.jsoneditor.getEditorClass(schema_copy, this.jsoneditor);\n    var row = this.row_holder.appendChild(this.theme.getTableRow());\n    var holder = row;\n    if(!this.item_has_child_editors) {\n      holder = this.theme.getTableCell();\n      row.appendChild(holder);\n    }\n\n    var ret = this.jsoneditor.createEditor(editor,{\n      jsoneditor: this.jsoneditor,\n      schema: schema_copy,\n      container: holder,\n      path: this.path+'.'+i,\n      parent: this,\n      compact: true,\n      table_row: true\n    });\n\n    ret.preBuild();\n    if(!ignore) {\n      ret.build();\n      ret.postBuild();\n\n      ret.controls_cell = row.appendChild(this.theme.getTableCell());\n      ret.row = row;\n      ret.table_controls = this.theme.getButtonHolder();\n      ret.controls_cell.appendChild(ret.table_controls);\n      ret.table_controls.style.margin = 0;\n      ret.table_controls.style.padding = 0;\n    }\n\n    return ret;\n  },\n  destroy: function() {\n    this.innerHTML = '';\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n    if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n    if(this.row_holder && this.row_holder.parentNode) this.row_holder.parentNode.removeChild(this.row_holder);\n    if(this.table && this.table.parentNode) this.table.parentNode.removeChild(this.table);\n    if(this.panel && this.panel.parentNode) this.panel.parentNode.removeChild(this.panel);\n\n    this.rows = this.title = this.description = this.row_holder = this.table = this.panel = null;\n\n    this._super();\n  },\n  setValue: function(value, initial) {\n    // Update the array's value, adding/removing rows when necessary\n    value = value || [];\n\n    // Make sure value has between minItems and maxItems items in it\n    if(this.schema.minItems) {\n      while(value.length < this.schema.minItems) {\n        value.push(this.getItemDefault());\n      }\n    }\n    if(this.schema.maxItems && value.length > this.schema.maxItems) {\n      value = value.slice(0,this.schema.maxItems);\n    }\n\n    var serialized = JSON.stringify(value);\n    if(serialized === this.serialized) return;\n\n    var numrows_changed = false;\n\n    var self = this;\n    $each(value,function(i,val) {\n      if(self.rows[i]) {\n        // TODO: don't set the row's value if it hasn't changed\n        self.rows[i].setValue(val);\n      }\n      else {\n        self.addRow(val);\n        numrows_changed = true;\n      }\n    });\n\n    for(var j=value.length; j<self.rows.length; j++) {\n      var holder = self.rows[j].container;\n      if(!self.item_has_child_editors) {\n        self.rows[j].row.parentNode.removeChild(self.rows[j].row);\n      }\n      self.rows[j].destroy();\n      if(holder.parentNode) holder.parentNode.removeChild(holder);\n      self.rows[j] = null;\n      numrows_changed = true;\n    }\n    self.rows = self.rows.slice(0,value.length);\n\n    self.refreshValue();\n    if(numrows_changed || initial) self.refreshRowButtons();\n\n    self.onChange();\n\n    // TODO: sortable\n  },\n  refreshRowButtons: function() {\n    var self = this;\n\n    // If we currently have minItems items in the array\n    var minItems = this.schema.minItems && this.schema.minItems >= this.rows.length;\n\n    var need_row_buttons = false;\n    $each(this.rows,function(i,editor) {\n      // Hide the move down button for the last row\n      if(editor.movedown_button) {\n        if(i === self.rows.length - 1) {\n          editor.movedown_button.style.display = 'none';\n        }\n        else {\n          need_row_buttons = true;\n          editor.movedown_button.style.display = '';\n        }\n      }\n\n      // Hide the delete button if we have minItems items\n      if(editor.delete_button) {\n        if(minItems) {\n          editor.delete_button.style.display = 'none';\n        }\n        else {\n          need_row_buttons = true;\n          editor.delete_button.style.display = '';\n        }\n      }\n\n      if(editor.moveup_button) {\n        need_row_buttons = true;\n      }\n    });\n\n    // Show/hide controls column in table\n    $each(this.rows,function(i,editor) {\n      if(need_row_buttons) {\n        editor.controls_cell.style.display = '';\n      }\n      else {\n        editor.controls_cell.style.display = 'none';\n      }\n    });\n    if(need_row_buttons) {\n      this.controls_header_cell.style.display = '';\n    }\n    else {\n      this.controls_header_cell.style.display = 'none';\n    }\n\n    var controls_needed = false;\n\n    if(!this.value.length) {\n      this.delete_last_row_button.style.display = 'none';\n      this.remove_all_rows_button.style.display = 'none';\n      this.table.style.display = 'none';\n    }\n    else if(this.value.length === 1) {\n      this.table.style.display = '';\n      this.remove_all_rows_button.style.display = 'none';\n\n      // If there are minItems items in the array, or configured to hide the delete_last_row button, hide the delete button beneath the rows\n      if(minItems || this.hide_delete_last_row_buttons) {\n        this.delete_last_row_button.style.display = 'none';\n      }\n      else {\n        this.delete_last_row_button.style.display = '';\n        controls_needed = true;\n      }\n    }\n    else {\n      this.table.style.display = '';\n\n      if(minItems || this.hide_delete_last_row_buttons) {\n        this.delete_last_row_button.style.display = 'none';\n      }\n      else {\n        this.delete_last_row_button.style.display = '';\n        controls_needed = true;\n      }\n\n      if(minItems || this.hide_delete_all_rows_buttons) {\n        this.remove_all_rows_button.style.display = 'none';\n      }\n      else {\n        this.remove_all_rows_button.style.display = '';\n        controls_needed = true;\n      }\n    }\n\n    // If there are maxItems in the array, hide the add button beneath the rows\n    if((this.schema.maxItems && this.schema.maxItems <= this.rows.length) || this.hide_add_button) {\n      this.add_row_button.style.display = 'none';\n    }\n    else {\n      this.add_row_button.style.display = '';\n      controls_needed = true;\n    }\n\n    if(!controls_needed) {\n      this.controls.style.display = 'none';\n    }\n    else {\n      this.controls.style.display = '';\n    }\n  },\n  refreshValue: function() {\n    var self = this;\n    this.value = [];\n\n    $each(this.rows,function(i,editor) {\n      // Get the value for this editor\n      self.value[i] = editor.getValue();\n    });\n    this.serialized = JSON.stringify(this.value);\n  },\n  addRow: function(value) {\n    var self = this;\n    var i = this.rows.length;\n\n    self.rows[i] = this.getElementEditor(i);\n\n    var controls_holder = self.rows[i].table_controls;\n\n    // Buttons to delete row, move row up, and move row down\n    if(!this.hide_delete_buttons) {\n      self.rows[i].delete_button = this.getButton('','delete',this.translate('button_delete_row_title_short'));\n      self.rows[i].delete_button.classList.add('delete','json-editor-btntype-delete');\n      self.rows[i].delete_button.setAttribute('data-i',i);\n      self.rows[i].delete_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!self.askConfirmation()) {\n          return false;\n        }\n\n        var i = this.getAttribute('data-i')*1;\n\n        var value = self.getValue();\n\n        var newval = [];\n        $each(value,function(j,row) {\n          if(j===i) return; // If this is the one we're deleting\n          newval.push(row);\n        });\n        self.setValue(newval);\n        self.onChange(true);\n      });\n      controls_holder.appendChild(self.rows[i].delete_button);\n    }\n\n\n    if(i && !this.hide_move_buttons) {\n      self.rows[i].moveup_button = this.getButton('','moveup',this.translate('button_move_up_title'));\n      self.rows[i].moveup_button.classList.add('moveup','json-editor-btntype-move');\n      self.rows[i].moveup_button.setAttribute('data-i',i);\n      self.rows[i].moveup_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var i = this.getAttribute('data-i')*1;\n\n        if(i<=0) return;\n        var rows = self.getValue();\n        var tmp = rows[i-1];\n        rows[i-1] = rows[i];\n        rows[i] = tmp;\n\n        self.setValue(rows);\n        self.onChange(true);\n      });\n      controls_holder.appendChild(self.rows[i].moveup_button);\n    }\n\n    if(!this.hide_move_buttons) {\n      self.rows[i].movedown_button = this.getButton('','movedown',this.translate('button_move_down_title'));\n      self.rows[i].movedown_button.classList.add('movedown','json-editor-btntype-move');\n      self.rows[i].movedown_button.setAttribute('data-i',i);\n      self.rows[i].movedown_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var i = this.getAttribute('data-i')*1;\n        var rows = self.getValue();\n        if(i>=rows.length-1) return;\n        var tmp = rows[i+1];\n        rows[i+1] = rows[i];\n        rows[i] = tmp;\n\n        self.setValue(rows);\n        self.onChange(true);\n      });\n      controls_holder.appendChild(self.rows[i].movedown_button);\n    }\n\n    if(value) self.rows[i].setValue(value);\n  },\n  addControls: function() {\n    var self = this;\n\n    this.collapsed = false;\n    this.toggle_button = this.getButton('','collapse',this.translate('button_collapse'));\n    this.toggle_button.classList.add('json-editor-btntype-toggle');\n    if(this.title_controls) {\n      this.title_controls.appendChild(this.toggle_button);\n      this.toggle_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if(self.collapsed) {\n          self.collapsed = false;\n          self.panel.style.display = '';\n          self.setButtonText(this,'','collapse',self.translate('button_collapse'));\n        }\n        else {\n          self.collapsed = true;\n          self.panel.style.display = 'none';\n          self.setButtonText(this,'','expand',self.translate('button_expand'));\n        }\n      });\n\n      // If it should start collapsed\n      if(this.options.collapsed) {\n        $trigger(this.toggle_button,'click');\n      }\n\n      // Collapse button disabled\n      if(this.schema.options && typeof this.schema.options.disable_collapse !== \"undefined\") {\n        if(this.schema.options.disable_collapse) this.toggle_button.style.display = 'none';\n      }\n      else if(this.jsoneditor.options.disable_collapse) {\n        this.toggle_button.style.display = 'none';\n      }\n    }\n\n    // Add \"new row\" and \"delete last\" buttons below editor\n    this.add_row_button = this.getButton(this.getItemTitle(),'add',this.translate('button_add_row_title',[this.getItemTitle()]));\n    this.add_row_button.classList.add('json-editor-btntype-add');\n    this.add_row_button.addEventListener('click',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      self.addRow();\n      self.refreshValue();\n      self.refreshRowButtons();\n      self.onChange(true);\n    });\n    self.controls.appendChild(this.add_row_button);\n\n    this.delete_last_row_button = this.getButton(this.translate('button_delete_last',[this.getItemTitle()]),'delete',this.translate('button_delete_last_title',[this.getItemTitle()]));\n    this.delete_last_row_button.classList.add('json-editor-btntype-deletelast');\n    this.delete_last_row_button.addEventListener('click',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (!self.askConfirmation()) {\n        return false;\n      }\n\n      var rows = self.getValue();\n      rows.pop();\n      self.setValue(rows);\n      self.onChange(true);\n    });\n    self.controls.appendChild(this.delete_last_row_button);\n\n    this.remove_all_rows_button = this.getButton(this.translate('button_delete_all'),'delete',this.translate('button_delete_all_title'));\n    this.remove_all_rows_button.classList.add('json-editor-btntype-deleteall');\n    this.remove_all_rows_button.addEventListener('click',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (!self.askConfirmation()) {\n        return false;\n      }\n\n      self.setValue([]);\n      self.onChange(true);\n    });\n    self.controls.appendChild(this.remove_all_rows_button);\n  }\n});\n","// Multiple Editor (for when `type` is an array, also when `oneOf` is present)\nJSONEditor.defaults.editors.multiple = JSONEditor.AbstractEditor.extend({\n  register: function() {\n    if(this.editors) {\n      for(var i=0; i<this.editors.length; i++) {\n        if(!this.editors[i]) continue;\n        this.editors[i].unregister();\n      }\n      if(this.editors[this.type]) this.editors[this.type].register();\n    }\n    this._super();\n  },\n  unregister: function() {\n    this._super();\n    if(this.editors) {\n      for(var i=0; i<this.editors.length; i++) {\n        if(!this.editors[i]) continue;\n        this.editors[i].unregister();\n      }\n    }\n  },\n  getNumColumns: function() {\n    if(!this.editors[this.type]) return 4;\n    return Math.max(this.editors[this.type].getNumColumns(),4);\n  },\n  enable: function() {\n    if(!this.always_disabled) {\n      if(this.editors) {\n        for(var i=0; i<this.editors.length; i++) {\n          if(!this.editors[i]) continue;\n          this.editors[i].enable();\n        }\n      }\n      this.switcher.disabled = false;\n      this._super();\n    }\n  },\n  disable: function(always_disabled) {\n    if(always_disabled) this.always_disabled = true;\n    if(this.editors) {\n      for(var i=0; i<this.editors.length; i++) {\n        if(!this.editors[i]) continue;\n        this.editors[i].disable(always_disabled);\n      }\n    }\n    this.switcher.disabled = true;\n    this._super();\n  },\n  switchEditor: function(i) {\n    var self = this;\n\n    if(!this.editors[i]) {\n      this.buildChildEditor(i);\n    }\n    \n    var current_value = self.getValue();\n\n    self.type = i;\n\n    self.register();\n\n    $each(self.editors,function(type,editor) {\n      if(!editor) return;\n      if(self.type === type) {\n        if(self.keep_values) editor.setValue(current_value,true);\n        editor.container.style.display = '';\n      }\n      else editor.container.style.display = 'none';\n    });\n    self.refreshValue();\n    self.refreshHeaderText();\n  },\n  buildChildEditor: function(i) {\n    var self = this;\n    var type = this.types[i];\n    var holder = self.theme.getChildEditorHolder();\n    self.editor_holder.appendChild(holder);\n\n    var schema;\n\n    if(typeof type === \"string\") {\n      schema = $extend({},self.schema);\n      schema.type = type;\n    }\n    else {\n      schema = $extend({},self.schema,type);\n      schema = self.jsoneditor.expandRefs(schema);\n\n      // If we need to merge `required` arrays\n      if(type && type.required && Array.isArray(type.required) && self.schema.required && Array.isArray(self.schema.required)) {\n        schema.required = self.schema.required.concat(type.required);\n      }\n    }\n\n    var editor = self.jsoneditor.getEditorClass(schema);\n\n    self.editors[i] = self.jsoneditor.createEditor(editor,{\n      jsoneditor: self.jsoneditor,\n      schema: schema,\n      container: holder,\n      path: self.path,\n      parent: self,\n      required: true\n    });\n    self.editors[i].preBuild();\n    self.editors[i].build();\n    self.editors[i].postBuild();\n\n    if(self.editors[i].header) self.editors[i].header.style.display = 'none';\n\n    self.editors[i].option = self.switcher_options[i];\n\n    holder.addEventListener('change_header_text',function() {\n      self.refreshHeaderText();\n    });\n\n    if(i !== self.type) holder.style.display = 'none';\n  },\n  preBuild: function() {\n    var self = this;\n\n    this.types = [];\n    this.type = 0;\n    this.editors = [];\n    this.validators = [];\n\n    this.keep_values = true;\n    if(typeof this.jsoneditor.options.keep_oneof_values !== \"undefined\") this.keep_values = this.jsoneditor.options.keep_oneof_values;\n    if(typeof this.options.keep_oneof_values !== \"undefined\") this.keep_values = this.options.keep_oneof_values;\n\n    if(this.schema.oneOf) {\n      this.oneOf = true;\n      this.types = this.schema.oneOf;\n      delete this.schema.oneOf;\n    }\n    else if(this.schema.anyOf) {\n      this.anyOf = true;\n      this.types = this.schema.anyOf;\n      delete this.schema.anyOf;\n    }\n    else {\n      if(!this.schema.type || this.schema.type === \"any\") {\n        this.types = ['string','number','integer','boolean','object','array','null'];\n\n        // If any of these primitive types are disallowed\n        if(this.schema.disallow) {\n          var disallow = this.schema.disallow;\n          if(typeof disallow !== 'object' || !(Array.isArray(disallow))) {\n            disallow = [disallow];\n          }\n          var allowed_types = [];\n          $each(this.types,function(i,type) {\n            if(disallow.indexOf(type) === -1) allowed_types.push(type);\n          });\n          this.types = allowed_types;\n        }\n      }\n      else if(Array.isArray(this.schema.type)) {\n        this.types = this.schema.type;\n      }\n      else {\n        this.types = [this.schema.type];\n      }\n      delete this.schema.type;\n    }\n\n    this.display_text = this.getDisplayText(this.types);\n  },\n  build: function() {\n    var self = this;\n    var container = this.container;\n\n    this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    this.container.appendChild(this.header);\n\n    this.switcher = this.theme.getSwitcher(this.display_text);\n    container.appendChild(this.switcher);\n    this.switcher.addEventListener('change',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      self.switchEditor(self.display_text.indexOf(this.value));\n      self.onChange(true);\n    });\n\n    this.editor_holder = document.createElement('div');\n    container.appendChild(this.editor_holder);\n    \n      \n    var validator_options = {};\n    if(self.jsoneditor.options.custom_validators) {\n      validator_options.custom_validators = self.jsoneditor.options.custom_validators;\n    }\n\n    this.switcher_options = this.theme.getSwitcherOptions(this.switcher);\n    $each(this.types,function(i,type) {\n      self.editors[i] = false;\n\n      var schema;\n\n      if(typeof type === \"string\") {\n        schema = $extend({},self.schema);\n        schema.type = type;\n      }\n      else {\n        schema = $extend({},self.schema,type);\n\n        // If we need to merge `required` arrays\n        if(type.required && Array.isArray(type.required) && self.schema.required && Array.isArray(self.schema.required)) {\n          schema.required = self.schema.required.concat(type.required);\n        }\n      }\n\n      self.validators[i] = new JSONEditor.Validator(self.jsoneditor,schema,validator_options);\n    });\n\n    this.switchEditor(0);\n  },\n  onChildEditorChange: function(editor) {\n    if(this.editors[this.type]) {\n      this.refreshValue();\n      this.refreshHeaderText();\n    }\n\n    this._super();\n  },\n  refreshHeaderText: function() {\n    var display_text = this.getDisplayText(this.types);\n    $each(this.switcher_options, function(i,option) {\n      option.textContent = display_text[i];\n    });\n  },\n  refreshValue: function() {\n    this.value = this.editors[this.type].getValue();\n  },\n  setValue: function(val,initial) {\n    // Determine type by getting the first one that validates\n    var self = this;\n    var prev_type = this.type;\n    $each(this.validators, function(i,validator) {\n      if(!validator.validate(val).length) {\n        self.type = i;\n        self.switcher.value = self.display_text[i];\n        return false;\n      }\n    });\n\n    var type_changed = this.type != prev_type;\n    if (type_changed) {\n\tthis.switchEditor(this.type);\n    }\n\n    this.editors[this.type].setValue(val,initial);\n\n    this.refreshValue();\n    self.onChange(type_changed);\n  },\n  destroy: function() {\n    $each(this.editors, function(type,editor) {\n      if(editor) editor.destroy();\n    });\n    if(this.editor_holder && this.editor_holder.parentNode) this.editor_holder.parentNode.removeChild(this.editor_holder);\n    if(this.switcher && this.switcher.parentNode) this.switcher.parentNode.removeChild(this.switcher);\n    this._super();\n  },\n  showValidationErrors: function(errors) {\n    var self = this;\n\n    // oneOf and anyOf error paths need to remove the oneOf[i] part before passing to child editors\n    if(this.oneOf || this.anyOf) {\n      var check_part = this.oneOf? 'oneOf' : 'anyOf';\n      $each(this.editors,function(i,editor) {\n        if(!editor) return;\n        var check = self.path+'.'+check_part+'['+i+']';\n        var new_errors = [];\n        $each(errors, function(j,error) {\n          if(error.path.substr(0,check.length)===check) {\n            var new_error = $extend({},error);\n            new_error.path = self.path+new_error.path.substr(check.length);\n            new_errors.push(new_error);\n          }\n        });\n\n        editor.showValidationErrors(new_errors);\n      });\n    }\n    else {\n      $each(this.editors,function(type,editor) {\n        if(!editor) return;\n        editor.showValidationErrors(errors);\n      });\n    }\n  }\n});\n","// Enum Editor (used for objects and arrays with enumerated values)\nJSONEditor.defaults.editors[\"enum\"] = JSONEditor.AbstractEditor.extend({\n  getNumColumns: function() {\n    return 4;\n  },\n  build: function() {\n    var container = this.container;\n    this.title = this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    this.container.appendChild(this.title);\n\n    this.options.enum_titles = this.options.enum_titles || [];\n\n    this[\"enum\"] = this.schema[\"enum\"];\n    this.selected = 0;\n    this.select_options = [];\n    this.html_values = [];\n\n    var self = this;\n    for(var i=0; i<this[\"enum\"].length; i++) {\n      this.select_options[i] = this.options.enum_titles[i] || \"Value \"+(i+1);\n      this.html_values[i] = this.getHTML(this[\"enum\"][i]);\n    }\n\n    // Switcher\n    this.switcher = this.theme.getSwitcher(this.select_options);\n    this.container.appendChild(this.switcher);\n\n    // Display area\n    this.display_area = this.theme.getIndentedPanel();\n    this.container.appendChild(this.display_area);\n\n    if(this.options.hide_display) this.display_area.style.display = \"none\";\n\n    this.switcher.addEventListener('change',function() {\n      self.selected = self.select_options.indexOf(this.value);\n      self.value = self[\"enum\"][self.selected];\n      self.refreshValue();\n      self.onChange(true);\n    });\n    this.value = this[\"enum\"][0];\n    this.refreshValue();\n\n    if(this[\"enum\"].length === 1) this.switcher.style.display = 'none';\n  },\n  refreshValue: function() {\n    var self = this;\n    self.selected = -1;\n    var stringified = JSON.stringify(this.value);\n    $each(this[\"enum\"], function(i, el) {\n      if(stringified === JSON.stringify(el)) {\n        self.selected = i;\n        return false;\n      }\n    });\n\n    if(self.selected<0) {\n      self.setValue(self[\"enum\"][0]);\n      return;\n    }\n\n    this.switcher.value = this.select_options[this.selected];\n    this.display_area.innerHTML = this.html_values[this.selected];\n  },\n  enable: function() {\n    if(!this.always_disabled) {\n      this.switcher.disabled = false;\n      this._super();\n    }\n  },\n  disable: function(always_disabled) {\n    if(always_disabled) this.always_disabled = true;\n    this.switcher.disabled = true;\n    this._super();\n  },\n  getHTML: function(el) {\n    var self = this;\n\n    if(el === null) {\n      return '<em>null</em>';\n    }\n    // Array or Object\n    else if(typeof el === \"object\") {\n      // TODO: use theme\n      var ret = '';\n\n      $each(el,function(i,child) {\n        var html = self.getHTML(child);\n\n        // Add the keys to object children\n        if(!(Array.isArray(el))) {\n          // TODO: use theme\n          html = '<div><em>'+i+'</em>: '+html+'</div>';\n        }\n\n        // TODO: use theme\n        ret += '<li>'+html+'</li>';\n      });\n\n      if(Array.isArray(el)) ret = '<ol>'+ret+'</ol>';\n      else ret = \"<ul style='margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;'>\"+ret+'</ul>';\n\n      return ret;\n    }\n    // Boolean\n    else if(typeof el === \"boolean\") {\n      return el? 'true' : 'false';\n    }\n    // String\n    else if(typeof el === \"string\") {\n      return el.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');\n    }\n    // Number\n    else {\n      return el;\n    }\n  },\n  setValue: function(val) {\n    if(this.value !== val) {\n      this.value = val;\n      this.refreshValue();\n      this.onChange();\n    }\n  },\n  destroy: function() {\n    if(this.display_area && this.display_area.parentNode) this.display_area.parentNode.removeChild(this.display_area);\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n    if(this.switcher && this.switcher.parentNode) this.switcher.parentNode.removeChild(this.switcher);\n\n    this._super();\n  }\n});\n","JSONEditor.defaults.editors.select = JSONEditor.AbstractEditor.extend({\n  setValue: function(value,initial) {\n    value = this.typecast(value||'');\n\n    // Sanitize value before setting it\n    var sanitized = value;\n    if(this.enum_values.indexOf(sanitized) < 0) {\n      sanitized = this.enum_values[0];\n    }\n\n    if(this.value === sanitized) {\n      return;\n    }\n\n    if(initial) this.is_dirty = false;\n    else if(this.jsoneditor.options.show_errors === \"change\") this.is_dirty = true;\n\n    this.input.value = this.enum_options[this.enum_values.indexOf(sanitized)];\n    if(this.select2) {\n      if(this.select2v4)\n        this.select2.val(this.input.value).trigger(\"change\");\n      else\n        this.select2.select2('val',this.input.value);\n    }\n    this.value = sanitized;\n    this.onChange();\n    this.change();\n  },\n  register: function() {\n    this._super();\n    if(!this.input) return;\n    this.input.setAttribute('name',this.formname);\n  },\n  unregister: function() {\n    this._super();\n    if(!this.input) return;\n    this.input.removeAttribute('name');\n  },\n  getNumColumns: function() {\n    if(!this.enum_options) return 3;\n    var longest_text = this.getTitle().length;\n    for(var i=0; i<this.enum_options.length; i++) {\n      longest_text = Math.max(longest_text,this.enum_options[i].length+4);\n    }\n    return Math.min(12,Math.max(longest_text/7,2));\n  },\n  typecast: function(value) {\n    if(this.schema.type === \"boolean\") {\n      return !!value;\n    }\n    else if(this.schema.type === \"number\") {\n      return 1*value;\n    }\n    else if(this.schema.type === \"integer\") {\n      return Math.floor(value*1);\n    }\n    else {\n      return \"\"+value;\n    }\n  },\n  getValue: function() {\n    if (!this.dependenciesFulfilled) {\n      return undefined;\n    }\n    return this.typecast(this.value);\n  },\n  preBuild: function() {\n    var self = this;\n    this.input_type = 'select';\n    this.enum_options = [];\n    this.enum_values = [];\n    this.enum_display = [];\n    var i;\n\n    // Enum options enumerated\n    if(this.schema[\"enum\"]) {\n      var display = this.schema.options && this.schema.options.enum_titles || [];\n\n      $each(this.schema[\"enum\"],function(i,option) {\n        self.enum_options[i] = \"\"+option;\n        self.enum_display[i] = \"\"+(display[i] || option);\n        self.enum_values[i] = self.typecast(option);\n      });\n\n      if(!this.isRequired()){\n        self.enum_display.unshift(' ');\n        self.enum_options.unshift('undefined');\n        self.enum_values.unshift(undefined);\n      }\n\n    }\n    // Boolean\n    else if(this.schema.type === \"boolean\") {\n      self.enum_display = this.schema.options && this.schema.options.enum_titles || ['true','false'];\n      self.enum_options = ['1',''];\n      self.enum_values = [true,false];\n\n      if(!this.isRequired()){\n        self.enum_display.unshift(' ');\n        self.enum_options.unshift('undefined');\n        self.enum_values.unshift(undefined);\n      }\n\n    }\n    // Dynamic Enum\n    else if(this.schema.enumSource) {\n      this.enumSource = [];\n      this.enum_display = [];\n      this.enum_options = [];\n      this.enum_values = [];\n\n      // Shortcut declaration for using a single array\n      if(!(Array.isArray(this.schema.enumSource))) {\n        if(this.schema.enumValue) {\n          this.enumSource = [\n            {\n              source: this.schema.enumSource,\n              value: this.schema.enumValue\n            }\n          ];\n        }\n        else {\n          this.enumSource = [\n            {\n              source: this.schema.enumSource\n            }\n          ];\n        }\n      }\n      else {\n        for(i=0; i<this.schema.enumSource.length; i++) {\n          // Shorthand for watched variable\n          if(typeof this.schema.enumSource[i] === \"string\") {\n            this.enumSource[i] = {\n              source: this.schema.enumSource[i]\n            };\n          }\n          // Make a copy of the schema\n          else if(!(Array.isArray(this.schema.enumSource[i]))) {\n            this.enumSource[i] = $extend({},this.schema.enumSource[i]);\n          }\n          else {\n            this.enumSource[i] = this.schema.enumSource[i];\n          }\n        }\n      }\n\n      // Now, enumSource is an array of sources\n      // Walk through this array and fix up the values\n      for(i=0; i<this.enumSource.length; i++) {\n        if(this.enumSource[i].value) {\n          this.enumSource[i].value = this.jsoneditor.compileTemplate(this.enumSource[i].value, this.template_engine);\n        }\n        if(this.enumSource[i].title) {\n          this.enumSource[i].title = this.jsoneditor.compileTemplate(this.enumSource[i].title, this.template_engine);\n        }\n        if(this.enumSource[i].filter) {\n          this.enumSource[i].filter = this.jsoneditor.compileTemplate(this.enumSource[i].filter, this.template_engine);\n        }\n      }\n    }\n    // Other, not supported\n    else {\n      throw \"'select' editor requires the enum property to be set.\";\n    }\n  },\n  build: function() {\n    var self = this;\n    if(!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    if(this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description);\n    if(this.options.infoText) this.infoButton = this.theme.getInfoButton(this.options.infoText);\n    if(this.options.compact) this.container.classList.add('compact');\n\n    this.input = this.theme.getSelectInput(this.enum_options);\n    this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display);\n\n    if(this.schema.readOnly || this.schema.readonly) {\n      this.always_disabled = true;\n      this.input.disabled = true;\n    }\n\n    // Set custom attributes on input element. Parameter is array of protected keys. Empty array if none.\n    this.setInputAttributes([]);\n\n    this.input.addEventListener('change',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      self.onInputChange();\n    });\n\n    this.control = this.theme.getFormControl(this.label, this.input, this.description, this.infoButton);\n    this.container.appendChild(this.control);\n\n    this.value = this.enum_values[0];\n  },\n  onInputChange: function() {\n    var val = this.typecast(this.input.value);\n\n    var new_val;\n    // Invalid option, use first option instead\n    if(this.enum_values.indexOf(val) === -1) {\n      new_val = this.enum_values[0];\n    }\n    else {\n      new_val = this.enum_values[this.enum_values.indexOf(val)];\n    }\n\n    // If valid hasn't changed\n    if(new_val === this.value) return;\n\n    this.is_dirty = true;\n\n    // Store new value and propogate change event\n    this.value = new_val;\n    this.onChange(true);\n  },\n  setupSelect2: function() {\n    // If the Select2 library is loaded use it when we have lots of items\n    if(window.jQuery && window.jQuery.fn && window.jQuery.fn.select2 && (this.enum_options.length > 2 || (this.enum_options.length && this.enumSource))) {\n      var options = $extend({},JSONEditor.plugins.select2);\n      if(this.schema.options && this.schema.options.select2_options) options = $extend(options,this.schema.options.select2_options);\n      this.select2 = window.jQuery(this.input).select2(options);\n      this.select2v4 = this.select2.select2.hasOwnProperty(\"amd\");\n\n      var self = this;\n      this.select2.on('select2-blur',function() {\n        if(self.select2v4)\n          self.input.value = self.select2.val();\n        else\n          self.input.value = self.select2.select2('val');\n\n        self.onInputChange();\n      });\n\n      this.select2.on('change',function() {\n        if(self.select2v4)\n          self.input.value = self.select2.val();\n        else\n          self.input.value = self.select2.select2('val');\n\n        self.onInputChange();\n      });\n    }\n    else {\n      this.select2 = null;\n    }\n  },\n  postBuild: function() {\n    this._super();\n    this.theme.afterInputReady(this.input);\n    this.setupSelect2();\n  },\n  onWatchedFieldChange: function() {\n    var self = this, vars, j;\n\n    // If this editor uses a dynamic select box\n    if(this.enumSource) {\n      vars = this.getWatchedFieldValues();\n      var select_options = [];\n      var select_titles = [];\n\n      for(var i=0; i<this.enumSource.length; i++) {\n        // Constant values\n        if(Array.isArray(this.enumSource[i])) {\n          select_options = select_options.concat(this.enumSource[i]);\n          select_titles = select_titles.concat(this.enumSource[i]);\n        }\n        else {\n          var items = [];\n          // Static list of items\n          if(Array.isArray(this.enumSource[i].source)) {\n            items = this.enumSource[i].source;\n          // A watched field\n          } else {\n            items = vars[this.enumSource[i].source];\n          }\n\n          if(items) {\n            // Only use a predefined part of the array\n            if(this.enumSource[i].slice) {\n              items = Array.prototype.slice.apply(items,this.enumSource[i].slice);\n            }\n            // Filter the items\n            if(this.enumSource[i].filter) {\n              var new_items = [];\n              for(j=0; j<items.length; j++) {\n                if(this.enumSource[i].filter({i:j,item:items[j],watched:vars})) new_items.push(items[j]);\n              }\n              items = new_items;\n            }\n\n            var item_titles = [];\n            var item_values = [];\n            for(j=0; j<items.length; j++) {\n              var item = items[j];\n\n              // Rendered value\n              if(this.enumSource[i].value) {\n                item_values[j] = this.typecast(this.enumSource[i].value({\n                  i: j,\n                  item: item\n                }));\n              }\n              // Use value directly\n              else {\n                item_values[j] = items[j];\n              }\n\n              // Rendered title\n              if(this.enumSource[i].title) {\n                item_titles[j] = this.enumSource[i].title({\n                  i: j,\n                  item: item\n                });\n              }\n              // Use value as the title also\n              else {\n                item_titles[j] = item_values[j];\n              }\n            }\n\n            // TODO: sort\n\n            select_options = select_options.concat(item_values);\n            select_titles = select_titles.concat(item_titles);\n          }\n        }\n      }\n\n      var prev_value = this.value;\n\n      this.theme.setSelectOptions(this.input, select_options, select_titles);\n      this.enum_options = select_options;\n      this.enum_display = select_titles;\n      this.enum_values = select_options;\n\n      if(this.select2) {\n        this.select2.select2('destroy');\n      }\n\n      // If the previous value is still in the new select options, stick with it\n      if(select_options.indexOf(prev_value) !== -1) {\n        this.input.value = prev_value;\n        this.value = prev_value;\n      }\n      // Otherwise, set the value to the first select option\n      else {\n        this.input.value = select_options[0];\n        this.value = this.typecast(select_options[0] || \"\");  \n        if(this.parent) this.parent.onChildEditorChange(this);\n        else this.jsoneditor.onChange();\n        this.jsoneditor.notifyWatchers(this.path);\n      }\n\n      this.setupSelect2();\n    }\n\n    this._super();\n  },\n  enable: function() {\n    if(!this.always_disabled) {\n      this.input.disabled = false;\n      if(this.select2) {\n        if(this.select2v4)\n          this.select2.prop(\"disabled\",false);\n        else\n          this.select2.select2(\"enable\",true);\n      }\n    }\n    this._super();\n  },\n  disable: function(always_disabled) {\n    if(always_disabled) this.always_disabled = true;\n    this.input.disabled = true;\n    if(this.select2) {\n      if(this.select2v4)\n        this.select2.prop(\"disabled\",true);\n      else\n        this.select2.select2(\"enable\",false);\n    }\n    this._super();\n  },\n  destroy: function() {\n    if(this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label);\n    if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n    if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\n    if(this.select2) {\n      this.select2.select2('destroy');\n      this.select2 = null;\n    }\n\n    this._super();\n  },\n  showValidationErrors: function (errors) {\n    var self = this;\n\n    if (this.jsoneditor.options.show_errors === \"always\") {}\n    else if(!this.is_dirty && this.previous_error_setting===this.jsoneditor.options.show_errors) return;\n\n    this.previous_error_setting = this.jsoneditor.options.show_errors;\n\n    var messages = [];\n    $each(errors, function (i, error) {\n      if (error.path === self.path) {\n        messages.push(error.message);\n      }\n    });\n\n    if (messages.length) {\n      this.theme.addInputError(this.input, messages.join('. ') + '.');\n    }\n    else {\n      this.theme.removeInputError(this.input);\n    }\n  }\n});\n","JSONEditor.defaults.editors.selectize = JSONEditor.AbstractEditor.extend({\n  setValue: function(value,initial) {\n    value = this.typecast(value||'');\n\n    // Sanitize value before setting it\n    var sanitized = value;\n    if(this.enum_values.indexOf(sanitized) < 0) {\n      sanitized = this.enum_values[0];\n    }\n\n    if(this.value === sanitized) {\n      return;\n    }\n\n    this.input.value = this.enum_options[this.enum_values.indexOf(sanitized)];\n\n    if(this.selectize) {\n      this.selectize[0].selectize.addItem(sanitized);\n    }\n\n    this.value = sanitized;\n    this.onChange();\n  },\n  register: function() {\n    this._super();\n    if(!this.input) return;\n    this.input.setAttribute('name',this.formname);\n  },\n  unregister: function() {\n    this._super();\n    if(!this.input) return;\n    this.input.removeAttribute('name');\n  },\n  getNumColumns: function() {\n    if(!this.enum_options) return 3;\n    var longest_text = this.getTitle().length;\n    for(var i=0; i<this.enum_options.length; i++) {\n      longest_text = Math.max(longest_text,this.enum_options[i].length+4);\n    }\n    return Math.min(12,Math.max(longest_text/7,2));\n  },\n  typecast: function(value) {\n    if(this.schema.type === \"boolean\") {\n      return !!value;\n    }\n    else if(this.schema.type === \"number\") {\n      return 1*value;\n    }\n    else if(this.schema.type === \"integer\") {\n      return Math.floor(value*1);\n    }\n    else {\n      return \"\"+value;\n    }\n  },\n  getValue: function() {\n    if (!this.dependenciesFulfilled) {\n      return undefined;\n    }\n    return this.value;\n  },\n  preBuild: function() {\n    var self = this;\n    this.input_type = 'select';\n    this.enum_options = [];\n    this.enum_values = [];\n    this.enum_display = [];\n    var i;\n\n    // Enum options enumerated\n    if(this.schema.enum) {\n      var display = this.schema.options && this.schema.options.enum_titles || [];\n\n      $each(this.schema.enum,function(i,option) {\n        self.enum_options[i] = \"\"+option;\n        self.enum_display[i] = \"\"+(display[i] || option);\n        self.enum_values[i] = self.typecast(option);\n      });\n    }\n    // Boolean\n    else if(this.schema.type === \"boolean\") {\n      self.enum_display = this.schema.options && this.schema.options.enum_titles || ['true','false'];\n      self.enum_options = ['1','0'];\n      self.enum_values = [true,false];\n    }\n    // Dynamic Enum\n    else if(this.schema.enumSource) {\n      this.enumSource = [];\n      this.enum_display = [];\n      this.enum_options = [];\n      this.enum_values = [];\n\n      // Shortcut declaration for using a single array\n      if(!(Array.isArray(this.schema.enumSource))) {\n        if(this.schema.enumValue) {\n          this.enumSource = [\n            {\n              source: this.schema.enumSource,\n              value: this.schema.enumValue\n            }\n          ];\n        }\n        else {\n          this.enumSource = [\n            {\n              source: this.schema.enumSource\n            }\n          ];\n        }\n      }\n      else {\n        for(i=0; i<this.schema.enumSource.length; i++) {\n          // Shorthand for watched variable\n          if(typeof this.schema.enumSource[i] === \"string\") {\n            this.enumSource[i] = {\n              source: this.schema.enumSource[i]\n            };\n          }\n          // Make a copy of the schema\n          else if(!(Array.isArray(this.schema.enumSource[i]))) {\n            this.enumSource[i] = $extend({},this.schema.enumSource[i]);\n          }\n          else {\n            this.enumSource[i] = this.schema.enumSource[i];\n          }\n        }\n      }\n\n      // Now, enumSource is an array of sources\n      // Walk through this array and fix up the values\n      for(i=0; i<this.enumSource.length; i++) {\n        if(this.enumSource[i].value) {\n          this.enumSource[i].value = this.jsoneditor.compileTemplate(this.enumSource[i].value, this.template_engine);\n        }\n        if(this.enumSource[i].title) {\n          this.enumSource[i].title = this.jsoneditor.compileTemplate(this.enumSource[i].title, this.template_engine);\n        }\n        if(this.enumSource[i].filter) {\n          this.enumSource[i].filter = this.jsoneditor.compileTemplate(this.enumSource[i].filter, this.template_engine);\n        }\n      }\n    }\n    // Other, not supported\n    else {\n      throw \"'select' editor requires the enum property to be set.\";\n    }\n  },\n  build: function() {\n    var self = this;\n    if(!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    if(this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description);\n    if(this.options.infoText) this.infoButton = this.theme.getInfoButton(this.options.infoText);\n\n    if(this.options.compact) this.container.classList.add('compact');\n\n    this.input = this.theme.getSelectInput(this.enum_options);\n    this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display);\n\n    if(this.schema.readOnly || this.schema.readonly) {\n      this.always_disabled = true;\n      this.input.disabled = true;\n    }\n\n    this.input.addEventListener('change',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      self.onInputChange();\n    });\n\n    this.control = this.theme.getFormControl(this.label, this.input, this.description, this.infoButton);\n    this.container.appendChild(this.control);\n\n    this.value = this.enum_values[0];\n  },\n  onInputChange: function() {\n    //console.log(\"onInputChange\");\n    var val = this.input.value;\n\n    var sanitized = val;\n    if(this.enum_options.indexOf(val) === -1) {\n      sanitized = this.enum_options[0];\n    }\n\n    //this.value = this.enum_values[this.enum_options.indexOf(val)];\n    this.value = val;\n    this.onChange(true);\n  },\n  setupSelectize: function() {\n    // If the Selectize library is loaded use it when we have lots of items\n    var self = this;\n    if(window.jQuery && window.jQuery.fn && window.jQuery.fn.selectize && (this.enum_options.length >= 2 || (this.enum_options.length && this.enumSource))) {\n      var options = $extend({},JSONEditor.plugins.selectize);\n      if(this.schema.options && this.schema.options.selectize_options) options = $extend(options,this.schema.options.selectize_options);\n      this.selectize = window.jQuery(this.input).selectize($extend(options,\n      {\n        // set the create option to true by default, or to the user specified value if defined\n        create: ( options.create === undefined ? true : options.create),\n        onChange : function() {\n          self.onInputChange();\n        }\n      }));\n    }\n    else {\n      this.selectize = null;\n    }\n  },\n  postBuild: function() {\n    this._super();\n    this.theme.afterInputReady(this.input);\n    this.setupSelectize();\n  },\n  onWatchedFieldChange: function() {\n    var self = this, vars, j;\n\n    // If this editor uses a dynamic select box\n    if(this.enumSource) {\n      vars = this.getWatchedFieldValues();\n      var select_options = [];\n      var select_titles = [];\n\n      for(var i=0; i<this.enumSource.length; i++) {\n        // Constant values\n        if(Array.isArray(this.enumSource[i])) {\n          select_options = select_options.concat(this.enumSource[i]);\n          select_titles = select_titles.concat(this.enumSource[i]);\n        }\n        // A watched field\n        else if(vars[this.enumSource[i].source]) {\n          var items = vars[this.enumSource[i].source];\n\n          // Only use a predefined part of the array\n          if(this.enumSource[i].slice) {\n            items = Array.prototype.slice.apply(items,this.enumSource[i].slice);\n          }\n          // Filter the items\n          if(this.enumSource[i].filter) {\n            var new_items = [];\n            for(j=0; j<items.length; j++) {\n              if(this.enumSource[i].filter({i:j,item:items[j]})) new_items.push(items[j]);\n            }\n            items = new_items;\n          }\n\n          var item_titles = [];\n          var item_values = [];\n          for(j=0; j<items.length; j++) {\n            var item = items[j];\n\n            // Rendered value\n            if(this.enumSource[i].value) {\n              item_values[j] = this.enumSource[i].value({\n                i: j,\n                item: item\n              });\n            }\n            // Use value directly\n            else {\n              item_values[j] = items[j];\n            }\n\n            // Rendered title\n            if(this.enumSource[i].title) {\n              item_titles[j] = this.enumSource[i].title({\n                i: j,\n                item: item\n              });\n            }\n            // Use value as the title also\n            else {\n              item_titles[j] = item_values[j];\n            }\n          }\n\n          // TODO: sort\n\n          select_options = select_options.concat(item_values);\n          select_titles = select_titles.concat(item_titles);\n        }\n      }\n\n      var prev_value = this.value;\n\n      // Check to see if this item is in the list\n      // Note: We have to skip empty string for watch lists to work properly\n      if ((prev_value !== undefined) && (prev_value !== \"\") && (select_options.indexOf(prev_value) === -1)) {\n        // item is not in the list. Add it.\n        select_options = select_options.concat(prev_value);\n        select_titles = select_titles.concat(prev_value);\n      }\n\n      this.theme.setSelectOptions(this.input, select_options, select_titles);\n      this.enum_options = select_options;\n      this.enum_display = select_titles;\n      this.enum_values = select_options;\n\n      // If the previous value is still in the new select options, stick with it\n      if(select_options.indexOf(prev_value) !== -1) {\n        this.input.value = prev_value;\n        this.value = prev_value;\n      }\n\n      // Otherwise, set the value to the first select option\n      else {\n        this.input.value = select_options[0];\n        this.value = select_options[0] || \"\";\n        if(this.parent) this.parent.onChildEditorChange(this);\n        else this.jsoneditor.onChange();\n        this.jsoneditor.notifyWatchers(this.path);\n      }\n\n      if(this.selectize) {\n        // Update the Selectize options\n        this.updateSelectizeOptions(select_options);\n      }\n      else {\n        this.setupSelectize();\n      }\n\n      this._super();\n    }\n  },\n  updateSelectizeOptions: function(select_options) {\n    var selectized = this.selectize[0].selectize,\n        self = this;\n\n    selectized.off();\n    selectized.clearOptions();\n    for(var n in select_options) {\n      selectized.addOption({value:select_options[n],text:select_options[n]});\n    }\n    selectized.addItem(this.value);\n    selectized.on('change',function() {\n      self.onInputChange();\n    });\n  },\n  enable: function() {\n    if(!this.always_disabled) {\n      this.input.disabled = false;\n      if(this.selectize) {\n        this.selectize[0].selectize.unlock();\n      }\n      this._super();\n    }\n  },\n  disable: function(always_disabled) {\n    if(always_disabled) this.always_disabled = true;\n    this.input.disabled = true;\n    if(this.selectize) {\n      this.selectize[0].selectize.lock();\n    }\n    this._super();\n  },\n  destroy: function() {\n    if(this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label);\n    if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n    if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\n    if(this.selectize) {\n      this.selectize[0].selectize.destroy();\n      this.selectize = null;\n    }\n    this._super();\n  }\n});\n","JSONEditor.defaults.editors.multiselect = JSONEditor.AbstractEditor.extend({\n  preBuild: function() {\n    this._super();\n    var i;\n\n    this.select_options = {};\n    this.select_values = {};\n\n    var items_schema = this.jsoneditor.expandRefs(this.schema.items || {});\n\n    var e = items_schema[\"enum\"] || [];\n    var t = items_schema.options? items_schema.options.enum_titles || [] : [];\n    this.option_keys = [];\n    this.option_titles = [];\n    for(i=0; i<e.length; i++) {\n      // If the sanitized value is different from the enum value, don't include it\n      if(this.sanitize(e[i]) !== e[i]) continue;\n\n      this.option_keys.push(e[i]+\"\");\n      this.option_titles.push((t[i]||e[i])+\"\");\n      this.select_values[e[i]+\"\"] = e[i];\n    }\n  },\n  build: function() {\n    var self = this, i;\n    if(!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    if(this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description);\n\n    if((!this.schema.format && this.option_keys.length < 8) || this.schema.format === \"checkbox\") {\n      this.input_type = 'checkboxes';\n\n      this.inputs = {};\n      this.controls = {};\n      for(i=0; i<this.option_keys.length; i++) {\n        this.inputs[this.option_keys[i]] = this.theme.getCheckbox();\n        this.select_options[this.option_keys[i]] = this.inputs[this.option_keys[i]];\n        var label = this.theme.getCheckboxLabel(this.option_titles[i]);\n        this.controls[this.option_keys[i]] = this.theme.getFormControl(label, this.inputs[this.option_keys[i]]);\n      }\n\n      this.control = this.theme.getMultiCheckboxHolder(this.controls,this.label,this.description);\n    }\n    else {\n      this.input_type = 'select';\n      this.input = this.theme.getSelectInput(this.option_keys);\n      this.theme.setSelectOptions(this.input,this.option_keys,this.option_titles);\n      this.input.multiple = true;\n      this.input.size = Math.min(10,this.option_keys.length);\n\n      for(i=0; i<this.option_keys.length; i++) {\n        this.select_options[this.option_keys[i]] = this.input.children[i];\n      }\n\n      if(this.schema.readOnly || this.schema.readonly) {\n        this.always_disabled = true;\n        this.input.disabled = true;\n      }\n\n      this.control = this.theme.getFormControl(this.label, this.input, this.description);\n    }\n\n    this.container.appendChild(this.control);\n    this.control.addEventListener('change',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      var new_value = [];\n      for(i = 0; i<self.option_keys.length; i++) {\n        if(self.select_options[self.option_keys[i]].selected || self.select_options[self.option_keys[i]].checked) new_value.push(self.select_values[self.option_keys[i]]);\n      }\n\n      self.updateValue(new_value);\n      self.onChange(true);\n    });\n  },\n  setValue: function(value, initial) {\n    var i;\n    value = value || [];\n    if(typeof value !== \"object\") value = [value];\n    else if(!(Array.isArray(value))) value = [];\n\n    // Make sure we are dealing with an array of strings so we can check for strict equality\n    for(i=0; i<value.length; i++) {\n      if(typeof value[i] !== \"string\") value[i] += \"\";\n    }\n\n    // Update selected status of options\n    for(i in this.select_options) {\n      if(!this.select_options.hasOwnProperty(i)) continue;\n\n      this.select_options[i][this.input_type === \"select\"? \"selected\" : \"checked\"] = (value.indexOf(i) !== -1);\n    }\n\n    this.updateValue(value);\n    this.onChange();\n  },\n  setupSelect2: function() {\n    if(window.jQuery && window.jQuery.fn && window.jQuery.fn.select2) {\n        var options = window.jQuery.extend({},JSONEditor.plugins.select2);\n        if(this.schema.options && this.schema.options.select2_options) options = $extend(options,this.schema.options.select2_options);\n        this.select2 = window.jQuery(this.input).select2(options);\n        this.select2v4 = this.select2.select2.hasOwnProperty(\"amd\");\n\n        var self = this;\n        this.select2.on('select2-blur',function() {\n          if(self.select2v4)\n            self.value = self.select2.val();\n          else\n            self.value = self.select2.select2('val');\n\n          self.onChange(true);\n        });\n\n        this.select2.on('change',function() {\n          if(self.select2v4)\n            self.value = self.select2.val();\n          else\n            self.value = self.select2.select2('val');\n\n          self.onChange(true);\n        });\n    }\n    else {\n        this.select2 = null;\n    }\n  },\n  onInputChange: function() {\n      this.value = this.input.value;\n      this.onChange(true);\n  },\n  postBuild: function() {\n      this._super();\n      this.setupSelect2();\n  },\n  register: function() {\n    this._super();\n    if(!this.input) return;\n    this.input.setAttribute('name',this.formname);\n  },\n  unregister: function() {\n    this._super();\n    if(!this.input) return;\n    this.input.removeAttribute('name');\n  },\n  getNumColumns: function() {\n    var longest_text = this.getTitle().length;\n    for(var i in this.select_values) {\n      if(!this.select_values.hasOwnProperty(i)) continue;\n      longest_text = Math.max(longest_text,(this.select_values[i]+\"\").length+4);\n    }\n\n    return Math.min(12,Math.max(longest_text/7,2));\n  },\n  updateValue: function(value) {\n    var changed = false;\n    var new_value = [];\n    for(var i=0; i<value.length; i++) {\n      if(!this.select_options[value[i]+\"\"]) {\n        changed = true;\n        continue;\n      }\n      var sanitized = this.sanitize(this.select_values[value[i]]);\n      new_value.push(sanitized);\n      if(sanitized !== value[i]) changed = true;\n    }\n    this.value = new_value;\n\n    if(this.select2) {\n      if(this.select2v4)\n        this.select2.val(this.value).trigger(\"change\"); \n      else\n        this.select2.select2('val',this.value);\n    }\n\n    return changed;\n  },\n  sanitize: function(value) {\n    if(this.schema.items.type === \"number\") {\n      return 1*value;\n    }\n    else if(this.schema.items.type === \"integer\") {\n      return Math.floor(value*1);\n    }\n    else {\n      return \"\"+value;\n    }\n  },\n  enable: function() {\n    if(!this.always_disabled) {\n      if(this.input) {\n        this.input.disabled = false;\n      }\n      else if(this.inputs) {\n        for(var i in this.inputs) {\n          if(!this.inputs.hasOwnProperty(i)) continue;\n          this.inputs[i].disabled = false;\n        }\n      }\n      if(this.select2) {\n        if(this.select2v4)\n          this.select2.prop(\"disabled\",false);\n        else\n          this.select2.select2(\"enable\",true);\n      }\n      this._super();\n    }\n  },\n  disable: function(always_disabled) {\n    if(always_disabled) this.always_disabled = true;\n    if(this.input) {\n      this.input.disabled = true;\n    }\n    else if(this.inputs) {\n      for(var i in this.inputs) {\n        if(!this.inputs.hasOwnProperty(i)) continue;\n        this.inputs[i].disabled = true;\n      }\n    }\n    if(this.select2) {\n      if(this.select2v4)\n        this.select2.prop(\"disabled\",true);\n      else\n        this.select2.select2(\"enable\",false);\n    }\n    this._super();\n  },\n  destroy: function() {\n    if(this.select2) {\n        this.select2.select2('destroy');\n        this.select2 = null;\n    }\n    this._super();\n  }\n});\n","JSONEditor.defaults.editors.base64 = JSONEditor.AbstractEditor.extend({\n  getNumColumns: function() {\n    return 4;\n  },\n  setFileReaderListener: function (fr_multiple) {\n    var self = this;\n    fr_multiple.addEventListener(\"load\", function(event) {\n      if (self.count == self.current_item_index) {\n        // Overwrite existing file by default, leave other properties unchanged\n        self.value[self.count][self.key] = event.target.result;\n      } else {\n        var temp_object = {};\n        // Create empty object\n        for (var key in self.parent.schema.properties) {\n          temp_object[key] = \"\";\n        }\n        // Set object media file\n        temp_object[self.key] = event.target.result;\n        self.value.splice(self.count, 0, temp_object); // insert new file object\n      }\n\n      // Increment using the listener and not the 'for' loop as the listener will be processed asynchronously\n      self.count += 1;\n      // When all files have been processed, update the value of the editor\n      if (self.count == (self.total+self.current_item_index)) {\n        self.arrayEditor.setValue(self.value);\n      }\n    });\n  },\n  build: function() {\n    var self = this;\n    this.title = this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    if(this.options.infoText) this.infoButton = this.theme.getInfoButton(this.options.infoText);\n\n    // Input that holds the base64 string\n    this.input = this.theme.getFormInputField('hidden');\n    this.container.appendChild(this.input);\n\n    // Don't show uploader if this is readonly\n    if(!this.schema.readOnly && !this.schema.readonly) {\n      if(!window.FileReader) throw \"FileReader required for base64 editor\";\n\n      // File uploader\n      this.uploader = this.theme.getFormInputField('file');\n\n      // Set attribute of file input field to 'multiple' if:\n      // 'multiple' key has been set to 'true' in the schema\n      // and the parent object is of type 'object'\n      // and the parent of the parent type has been set to 'array'\n      if (self.schema.options && self.schema.options.multiple && self.schema.options.multiple == true && self.parent && self.parent.schema.type == 'object' && self.parent.parent && self.parent.parent.schema.type == 'array') {\n        this.uploader.setAttribute('multiple', '');\n      }\n\n      this.uploader.addEventListener('change',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if(this.files && this.files.length) {\n\n          // Check the amount of files uploaded.\n          // If 1, use the regular upload, otherwise use the multiple upload method\n          if (this.files.length>1 && self.schema.options && self.schema.options.multiple && self.schema.options.multiple == true && self.parent && self.parent.schema.type == 'object' && self.parent.parent && self.parent.parent.schema.type == 'array') {\n\n            // Load editor of parent.parent to get the array\n            self.arrayEditor = self.jsoneditor.getEditor(self.parent.parent.path);\n            // Check the current value of this editor\n            self.value = self.arrayEditor.getValue();\n            // Set variables for amount of files, index of current array item and\n            // count value containing current status of processed files\n            self.total = this.files.length;\n            self.current_item_index = parseInt(self.parent.key);\n            self.count = self.current_item_index;\n\n            for (var i = 0; i < self.total; i++) {\n              var fr_multiple = new FileReader();\n              self.setFileReaderListener(fr_multiple);\n              fr_multiple.readAsDataURL(this.files[i]);\n            }\n          } else {\n            var fr = new FileReader();\n            fr.onload = function(evt) {\n              self.value = evt.target.result;\n              self.refreshPreview();\n              self.onChange(true);\n              fr = null;\n            };\n            fr.readAsDataURL(this.files[0]);\n          }\n        }\n      });\n    }\n\n    this.preview = this.theme.getFormInputDescription(this.schema.description);\n    this.container.appendChild(this.preview);\n\n    this.control = this.theme.getFormControl(this.label, this.uploader||this.input, this.preview, this.infoButton);\n    this.container.appendChild(this.control);\n  },\n  refreshPreview: function() {\n    if(this.last_preview === this.value) return;\n    this.last_preview = this.value;\n\n    this.preview.innerHTML = '';\n\n    if(!this.value) return;\n\n    var mime = this.value.match(/^data:([^;,]+)[;,]/);\n    if(mime) mime = mime[1];\n\n    if(!mime) {\n      this.preview.innerHTML = '<em>Invalid data URI</em>';\n    }\n    else {\n      this.preview.innerHTML = '<strong>Type:</strong> '+mime+', <strong>Size:</strong> '+Math.floor((this.value.length-this.value.split(',')[0].length-1)/1.33333)+' bytes';\n      if(mime.substr(0,5)===\"image\") {\n        this.preview.innerHTML += '<br>';\n        var img = document.createElement('img');\n        img.style.maxWidth = '100%';\n        img.style.maxHeight = '100px';\n        img.src = this.value;\n        this.preview.appendChild(img);\n      }\n    }\n  },\n  enable: function() {\n    if(!this.always_disabled) {\n      if(this.uploader) this.uploader.disabled = false;\n      this._super();\n    }\n  },\n  disable: function(always_disabled) {\n    if(always_disabled) this.always_disabled = true;\n    if(this.uploader) this.uploader.disabled = true;\n    this._super();\n  },\n  setValue: function(val) {\n    if(this.value !== val) {\n      this.value = val;\n      this.input.value = this.value;\n      this.refreshPreview();\n      this.onChange();\n    }\n  },\n  destroy: function() {\n    if(this.preview && this.preview.parentNode) this.preview.parentNode.removeChild(this.preview);\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n    if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\n    if(this.uploader && this.uploader.parentNode) this.uploader.parentNode.removeChild(this.uploader);\n\n    this._super();\n  }\n});\n","JSONEditor.defaults.editors.upload = JSONEditor.AbstractEditor.extend({\n  getNumColumns: function() {\n    return 4;\n  },\n  build: function() {    \n    var self = this;\n    this.title = this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n\n    // Input that holds the base64 string\n    this.input = this.theme.getFormInputField('hidden');\n    this.container.appendChild(this.input);\n    \n    // Don't show uploader if this is readonly\n    if(!this.schema.readOnly && !this.schema.readonly) {\n\n      if(!this.jsoneditor.options.upload) throw \"Upload handler required for upload editor\";\n\n      // File uploader\n      this.uploader = this.theme.getFormInputField('file');\n      \n      this.uploader.addEventListener('change',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        \n        if(this.files && this.files.length) {\n          var fr = new FileReader();\n          fr.onload = function(evt) {\n            self.preview_value = evt.target.result;\n            self.refreshPreview();\n            self.onChange(true);\n            fr = null;\n          };\n          fr.readAsDataURL(this.files[0]);\n        }\n      });\n    }\n\n    var description = this.schema.description;\n    if (!description) description = '';\n\n    this.preview = this.theme.getFormInputDescription(description);\n    this.container.appendChild(this.preview);\n\n    this.control = this.theme.getFormControl(this.label, this.uploader||this.input, this.preview);\n    this.container.appendChild(this.control);\n\n    window.requestAnimationFrame(function() {\n      if (self.value) {\n        var img = document.createElement('img');\n        img.style.maxWidth = '100%';\n        img.style.maxHeight = '100px';\n        img.onload = function (event) {\n          self.preview.appendChild(img);\n        };\n        img.onerror = function(error) {\n          console.error('upload error', error);\n        };\n        img.src = self.container.querySelector('a').href;\n      }\n    });\n\n  },\n  refreshPreview: function() {\n    if(this.last_preview === this.preview_value) return;\n    this.last_preview = this.preview_value;\n\n    this.preview.innerHTML = '';\n    \n    if(!this.preview_value) return;\n\n    var self = this;\n\n    var mime = this.preview_value.match(/^data:([^;,]+)[;,]/);\n    if(mime) mime = mime[1];\n    if(!mime) mime = 'unknown';\n\n    var file = this.uploader.files[0];\n\n    this.preview.innerHTML = '<strong>Type:</strong> '+mime+', <strong>Size:</strong> '+file.size+' bytes';\n    if(mime.substr(0,5)===\"image\") {\n      this.preview.innerHTML += '<br>';\n      var img = document.createElement('img');\n      img.style.maxWidth = '100%';\n      img.style.maxHeight = '100px';\n      img.src = this.preview_value;\n      this.preview.appendChild(img);\n    }\n\n    this.preview.innerHTML += '<br>';\n    var uploadButton = this.getButton('Upload', 'upload', 'Upload');\n    this.preview.appendChild(uploadButton);\n    uploadButton.addEventListener('click',function(event) {\n      event.preventDefault();\n\n      uploadButton.setAttribute(\"disabled\", \"disabled\");\n      self.theme.removeInputError(self.uploader);\n\n      if (self.theme.getProgressBar) {\n        self.progressBar = self.theme.getProgressBar();\n        self.preview.appendChild(self.progressBar);\n      }\n\n      self.jsoneditor.options.upload(self.path, file, {\n        success: function(url) {\n          self.setValue(url);\n\n          if(self.parent) self.parent.onChildEditorChange(self);\n          else self.jsoneditor.onChange();\n\n          if (self.progressBar) self.preview.removeChild(self.progressBar);\n          uploadButton.removeAttribute(\"disabled\");\n        },\n        failure: function(error) {\n          self.theme.addInputError(self.uploader, error);\n          if (self.progressBar) self.preview.removeChild(self.progressBar);\n          uploadButton.removeAttribute(\"disabled\");\n        },\n        updateProgress: function(progress) {\n          if (self.progressBar) {\n            if (progress) self.theme.updateProgressBar(self.progressBar, progress);\n            else self.theme.updateProgressBarUnknown(self.progressBar);\n          }\n        }\n      });\n    });\n\n    if(this.jsoneditor.options.auto_upload || this.schema.options.auto_upload) {\n      uploadButton.dispatchEvent(new MouseEvent('click'));\n      this.preview.removeChild(uploadButton);\n    }\n  },\n  enable: function() {\n    if(!this.always_disabled) {\n      if(this.uploader) this.uploader.disabled = false;\n      this._super();\n    }\n  },\n  disable: function(always_disabled) {\n    if(always_disabled) this.always_disabled = true;\n    if(this.uploader) this.uploader.disabled = true;\n    this._super();\n  },\n  setValue: function(val) {\n    if(this.value !== val) {\n      this.value = val;\n      this.input.value = this.value;\n      this.onChange();\n    }\n  },\n  destroy: function() {\n    if(this.preview && this.preview.parentNode) this.preview.parentNode.removeChild(this.preview);\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n    if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\n    if(this.uploader && this.uploader.parentNode) this.uploader.parentNode.removeChild(this.uploader);\n\n    this._super();\n  }\n});\n","JSONEditor.defaults.editors.checkbox = JSONEditor.AbstractEditor.extend({\n  setValue: function(value,initial) {\n    this.value = !!value;\n    this.input.checked = this.value;\n    this.onChange();\n  },\n  register: function() {\n    this._super();\n    if(!this.input) return;\n    this.input.setAttribute('name',this.formname);\n  },\n  unregister: function() {\n    this._super();\n    if(!this.input) return;\n    this.input.removeAttribute('name');\n  },\n  getNumColumns: function() {\n    return Math.min(12,Math.max(this.getTitle().length/7,2));\n  },\n  build: function() {\n    var self = this;\n    if(!this.options.compact) {\n      this.label = this.header = this.theme.getCheckboxLabel(this.getTitle());\n    }\n    if(this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description);\n    if(this.options.infoText) this.infoButton = this.theme.getInfoButton(this.options.infoText);\n    if(this.options.compact) this.container.classList.add('compact');\n\n    this.input = this.theme.getCheckbox();\n    this.control = this.theme.getFormControl(this.label, this.input, this.description, this.infoButton);\n\n    if(this.schema.readOnly || this.schema.readonly) {\n      this.always_disabled = true;\n      this.input.disabled = true;\n    }\n\n    this.input.addEventListener('change',function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      self.value = this.checked;\n      self.onChange(true);\n    });\n\n    this.container.appendChild(this.control);\n  },\n  enable: function() {\n    if(!this.always_disabled) {\n      this.input.disabled = false;\n      this._super();\n    }\n  },\n  disable: function(always_disabled) {\n    if(always_disabled) this.always_disabled = true;\n    this.input.disabled = true;\n    this._super();\n  },\n  destroy: function() {\n    if(this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label);\n    if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n    if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\n    this._super();\n  },\n  showValidationErrors: function (errors) {\n    var self = this;\n\n    if (this.jsoneditor.options.show_errors === \"always\") {}\n\n    else if (!this.is_dirty && this.previous_error_setting === this.jsoneditor.options.show_errors) {\n      return;\n    }\n\n    this.previous_error_setting = this.jsoneditor.options.show_errors;\n\n    var messages = [];\n    $each(errors, function (i, error) {\n      if (error.path === self.path) {\n        messages.push(error.message);\n      }\n    });\n\n    this.input.controlgroup = this.control;\n\n    if (messages.length) {\n      this.theme.addInputError(this.input, messages.join('. ') + '.');\n    }\n    else {\n      this.theme.removeInputError(this.input);\n    }\n  }\n});\n","JSONEditor.defaults.editors.arraySelectize = JSONEditor.AbstractEditor.extend({\n  preBuild: function() {\n    var self = this;\n    this.enum_options = [];\n    this.enum_values = [];\n    this.enum_display = [];\n    var i;\n\n    // Enum options enumerated\n    if(this.schema.items.enum) {\n      var display = this.schema.options && this.schema.options.enum_titles || [];\n\n      $each(this.schema.items.enum,function(i,option) {\n        self.enum_options[i] = \"\"+option;\n        self.enum_display[i] = \"\"+(display[i] || option);\n        self.enum_values[i] = self.typecast(option);\n      });\n    }\n    // Dynamic Enum for arrays is not specified in docs\n  },\n  build: function() {\n    this.title = this.theme.getFormInputLabel(this.getTitle());\n\n    this.title_controls = this.theme.getHeaderButtonHolder();\n    this.title.appendChild(this.title_controls);\n    this.error_holder = document.createElement('div');\n\n    if(this.schema.description) {\n      this.description = this.theme.getDescription(this.schema.description);\n    }\n\n    this.input = this.theme.getSelectInput(this.enum_options);\n    this.input.setAttribute('multiple', 'multiple');\n    var group = this.theme.getFormControl(this.title, this.input, this.description);\n\n    this.container.appendChild(group);\n    this.container.appendChild(this.error_holder);\n\n    //apply global options to array selectize\n    var options = $extend({},JSONEditor.plugins.selectize);\n    if(this.schema.options && this.schema.options.selectize_options) options = $extend(options,this.schema.options.selectize_options);\n    window.jQuery(this.input).selectize($extend(options,\n      {\n        delimiter: ( options.delimiter === undefined ? false : options.delimiter),\n        createOnBlur: ( options.createOnBlur === undefined ? true : options.createOnBlur),\n        create: ( options.create === undefined ? true : options.create)\n      }));\n  },\n  postBuild: function() {\n      this._super();\n      var self = this;\n      this.input.selectize.on('change', function(event) {\n          self.refreshValue();\n          self.onChange(true);\n      });\n  },\n  destroy: function() {\n    this.empty(true);\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n    if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n    if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\n\n    this._super();\n  },\n  empty: function(hard) {},\n  setValue: function(value, initial) {\n    var self = this;\n    // Update the array's value, adding/removing rows when necessary\n    value = value || [];\n    if(!(Array.isArray(value))) value = [value];\n\n    this.input.selectize.clearOptions();\n    this.input.selectize.clear(true);\n\n    if (this.schema.items.enum && this.enum_options && this.enum_options.length > 0) {\n      var titles = this.enum_titles || [];\n      this.enum_options.forEach(function(x, idx) {\n        self.input.selectize.addOption({ text: titles[idx] || x, value: x });\n      });\n    } else {\n      value.forEach(function(item) {\n        self.input.selectize.addOption({text: item, value: item});\n      });\n    }\n    \n    this.input.selectize.setValue(value);\n\n    this.refreshValue(initial);\n  },\n  refreshValue: function(force) {\n    this.value = this.input.selectize.getValue();\n  },\n  showValidationErrors: function(errors) {\n    var self = this;\n\n    // Get all the errors that pertain to this editor\n    var my_errors = [];\n    var other_errors = [];\n    $each(errors, function(i,error) {\n      if(error.path === self.path) {\n        my_errors.push(error);\n      }\n      else {\n        other_errors.push(error);\n      }\n    });\n\n    // Show errors for this editor\n    if(this.error_holder) {\n\n      if(my_errors.length) {\n        var message = [];\n        this.error_holder.innerHTML = '';\n        this.error_holder.style.display = '';\n        $each(my_errors, function(i,error) {\n          self.error_holder.appendChild(self.theme.getErrorMessage(error.message));\n        });\n      }\n      // Hide error area\n      else {\n        this.error_holder.style.display = 'none';\n      }\n    }\n  },\n  typecast: function(value) {\n    if(this.schema.type === \"boolean\") {\n      return !!value;\n    }\n    else if(this.schema.type === \"number\") {\n      return 1*value;\n    }\n    else if(this.schema.type === \"integer\") {\n      return Math.floor(value*1);\n    }\n    else {\n      return \"\"+value;\n    }\n  }\n});\n","JSONEditor.defaults.editors.starrating = JSONEditor.defaults.editors.string.extend({\n  build: function () {\n    var self = this;\n\n    if(!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    if(this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description);\n    if(this.options.infoText) this.infoButton = this.theme.getInfoButton(this.options.infoText);\n    if(this.options.compact) this.container.classList.add('compact');\n\n    this.ratingContainer = document.createElement('div');\n    this.ratingContainer.classList.add('starrating');\n\n    this.enum_values = this.schema.enum;\n    this.radioGroup =[];\n\n    var radioInputEventhandler = function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      self.setValue(this.value);\n      self.onChange(true);\n    };\n\n    for(var i = this.enum_values.length-1; i>-1; i--) {\n\n      var id = this.key + '-' + i;\n\n      // form radio elements\n      var radioInput = this.theme.getFormInputField('radio');\n      radioInput.name = this.formname + '[starrating]';\n      radioInput.value = this.enum_values[i];\n      radioInput.id = id;\n      radioInput.addEventListener('change', radioInputEventhandler, false);\n      this.radioGroup.push(radioInput);\n\n      // form-label for radio elements\n      var radioLabel = document.createElement('label');\n      radioLabel.htmlFor = id;\n      radioLabel.title = this.enum_values[i];\n      if(this.options.displayValue) {\n        radioLabel.classList.add('starrating-display-enabled');\n      }\n\n      this.ratingContainer.appendChild(radioInput);\n      this.ratingContainer.appendChild(radioLabel);\n\n    }\n\n    if(this.options.displayValue) {\n      this.displayRating = document.createElement('div');\n      this.displayRating.classList.add('starrating-display');\n      this.displayRating.innerText = this.enum_values[0];\n      this.ratingContainer.appendChild(this.displayRating);\n    }\n\n    if(this.schema.readOnly || this.schema.readonly) {\n      this.always_disabled = true;\n      for (var j = 0; i<this.radioGroup.length; j++) {\n        this.radioGroup[j].disabled = true;\n      }\n      this.ratingContainer.classList.add('readonly');\n    }\n\n    var ratingsContainerWrapper = this.theme.getContainer();\n    ratingsContainerWrapper.appendChild(this.ratingContainer);\n\n    this.input = ratingsContainerWrapper;\n    \n    this.control = this.theme.getFormControl(this.label, ratingsContainerWrapper, this.description, this.infoButton);\n    this.container.appendChild(this.control);\n  },\n  enable: function() {\n    if(!this.always_disabled) {\n      for (var i = 0; i<this.radioGroup.length; i++) {\n        this.radioGroup[i].disabled = false;\n      }\n      this.ratingContainer.classList.remove('readonly');\n      this._super();\n    }\n  },\n  disable: function(always_disabled) {\n    if(always_disabled) this.always_disabled = true;\n    for (var i = 0; i<this.radioGroup.length; i++) {\n      this.radioGroup[i].disabled = true;\n    }\n    this.ratingContainer.classList.add('readonly');\n    this._super();\n  },\n  destroy: function() {\n    if(this.ratingContainer.parentNode && this.ratingContainer.parentNode.parentNode) this.ratingContainer.parentNode.parentNode.removeChild(this.ratingContainer.parentNode);\n    if(this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label);\n    if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n    this._super();\n  },\n  getNumColumns: function() {\n    return 2;\n  },\n  setValue: function (val) {\n    for(var i = 0; i < this.radioGroup.length; i++) {\n\n      if(this.radioGroup[i].value == val) {\n        this.radioGroup[i].checked = true;\n        this.value = val;\n        if(this.options.displayValue) {\n          this.displayRating.innerHTML = this.value;\n        }\n        this.onChange();\n        break;\n      }\n    }\n  }\n});\n","/*\n\nEdtended handling of date, time and datetime-local type fields.\n\nWorks with both string and integer data types. (default only support string type)\n\nHas optional support for using flatpickr datepicker.\nAll flatpickr options is supported with a few minor differences.\n- \"enableTime\" and \"noCalendar\" are set automatically, based on the data type.\n- Extra config option \"errorDateFormat\". If this is set, it will replace the format displayed in error messages.\n- It is not possible to use \"inline\" and \"wrap\" options together.\n- When using the \"wrap\" option, \"toggle\" and \"clear\" buttons are automatically added to markup. 2 extra boolean options (\"showToggleButton\" and \"showClearButton\") are available to control which buttons to display. Note: not all frameworks supports this. (Works in: Bootstrap and Foundation)\n- When using the \"inline\" option, an extra boolean option (\"inlineHideInput\") is available to hide the original input field.\n- If \"mode\" is set to either \"multiple\" or \"range\", only string data type is supported. Also the result from these is returned as a string not an array.\n\nToDo:\n - Improve Handling of flatpicker \"multiple\" and \"range\" modes. (Currently the values are just added as string values, but the optimal scenario would be to save those as array if possible)\n\n*/\nJSONEditor.defaults.editors.datetime = JSONEditor.defaults.editors.string.extend({\n  build: function () {\n    this._super();\n    if(!this.input) return;\n\n    if(window.flatpickr && typeof this.options.flatpickr == 'object') {\n\n      // Make sure that flatpickr settings matches the input type\n      this.options.flatpickr.enableTime = this.schema.format == 'date' ? false : true;\n      this.options.flatpickr.noCalendar = this.schema.format == 'time' ? true : false;\n\n      // Curently only string can contain range or multiple values\n      if (this.schema.type == 'integer') this.options.flatpickr.mode = 'single';\n\n      // Attribute for flatpicker\n      this.input.setAttribute('data-input','');\n\n      var input = this.input;\n\n      if (this.options.flatpickr.wrap === true) {\n\n        // Create buttons for input group\n        var buttons = [];\n        if (this.options.flatpickr.showToggleButton !== false) {\n          var toggleButton = this.getButton('',this.schema.format == 'time' ? 'time' :'calendar', this.translate('flatpickr_toggle_button'));\n          // Attribute for flatpicker\n          toggleButton.setAttribute('data-toggle','');\n          buttons.push(toggleButton);\n        }\n        if (this.options.flatpickr.showClearButton !== false) {\n          var clearButton = this.getButton('','clear', this.translate('flatpickr_clear_button'));\n          // Attribute for flatpicker\n          clearButton.setAttribute('data-clear','');\n          buttons.push(clearButton);\n        }\n\n        // Save position of input field\n        var parentNode = this.input.parentNode, nextSibling = this.input.nextSibling;\n\n        var buttonContainer = this.theme.getInputGroup(this.input, buttons);\n        if (buttonContainer !== undefined) {\n          // Make sure \"inline\" option is turned off\n          this.options.flatpickr.inline = false;\n\n          // Insert container at same position as input field\n          parentNode.insertBefore(buttonContainer, nextSibling);\n\n          input = buttonContainer;\n        }\n        else {\n          this.options.flatpickr.wrap = false;\n        }\n\n      }\n\n      this.flatpickr = window.flatpickr(input, this.options.flatpickr);\n\n      if (this.options.flatpickr.inline === true && this.options.flatpickr.inlineHideInput === true) {\n          this.input.setAttribute('type','hidden');\n      }\n    }\n  },\n  getValue: function() {\n    if (!this.dependenciesFulfilled) {\n      return undefined;\n    }\n    if (this.schema.type == 'string') {\n      return this.value;\n    }\n    if (this.value === '' || this.value === undefined) {\n      return undefined;\n    }\n\n    var value =  this.schema.format == 'time' ? '1970-01-01 ' + this.value : this.value;\n    return parseInt(new Date(value).getTime() / 1000);\n  },\n  setValue: function(value, initial, from_template) {\n    if (this.schema.type == 'string') {\n      this._super(value, initial, from_template);\n      if (this.flatpickr) this.flatpickr.setDate(value);\n    }\n    else if (value > 0) {\n      var dateObj = new Date(value * 1000),\n          year = dateObj.getFullYear(),\n          month = this.zeroPad(dateObj.getMonth() + 1),\n          day = this.zeroPad(dateObj.getDate()),\n          hour = this.zeroPad(dateObj.getHours()),\n          min = this.zeroPad(dateObj.getMinutes()),\n          sec = this.zeroPad(dateObj.getSeconds()),\n          date = [year, month, day].join('-'),\n          time = [hour, min, sec].join(':'),\n          dateValue = date + 'T' + time;\n\n      if (this.schema.format == 'date') dateValue = date;\n      else if (this.schema.format == 'time') dateValue = time;\n\n      this.input.value = dateValue;\n      if (this.flatpickr) this.flatpickr.setDate(dateValue);\n    }\n  },\n  destroy: function() {\n    if (this.flatpickr) this.flatpickr.destroy();\n    this.flatpickr = null;\n    this._super();\n  },\n  // helper function\n  zeroPad: function(value) {\n    return ('0' + value).slice(-2);\n  }\n});\n","JSONEditor.defaults.editors.signature = JSONEditor.defaults.editors.string.extend({\n\n  // This editor is using the signature pad editor from https://github.com/szimek/signature_pad\n  // Credits for the pad itself go to https://github.com/szimek\n\n  build: function() {\n    var self = this, i;\n\n    if(!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    if(this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description);\n    var formname = this.formname.replace(/\\W/g, '');\n\n    if (typeof SignaturePad == 'function') {\n      // Dynamically add the required CSS the first time this editor is used\n      var styleId = 'json-editor-style-signature';\n      var styles = document.getElementById(styleId);\n      this.input = this.theme.getFormInputField('hidden');\n      this.container.appendChild(this.input);\n\n      // Required to keep height\n      var signatureContainer = document.createElement('div');\n      signatureContainer.classList.add('signature-container');\n\n      // Create canvas for signature pad\n      var canvas = document.createElement('canvas');\n      canvas.setAttribute('name', formname);\n      canvas.classList.add('signature');\n      signatureContainer.appendChild(canvas);\n\n\n      self.signaturePad = new window.SignaturePad(canvas, {\n        onEnd: function() {\n\n          // check if the signature is not empty before setting a value\n          if (!self.signaturePad.isEmpty()) {\n            self.input.value = self.signaturePad.toDataURL();\n          } else {\n            self.input.value = '';\n          }\n\n          self.is_dirty = true;\n          self.refreshValue();\n          self.watch_listener();\n          self.jsoneditor.notifyWatchers(self.path);\n          if(self.parent) self.parent.onChildEditorChange(self);\n          else self.jsoneditor.onChange();\n\n        }\n      });\n\n      // create button containers and add clear signature button\n      var buttons = document.createElement('div');\n      var clearButton = document.createElement('button');\n      clearButton.classList.add('tiny', 'button');\n      clearButton.innerHTML='Clear signature';\n      buttons.appendChild(clearButton);\n      signatureContainer.appendChild(buttons);\n\n      if(this.options.compact) this.container.setAttribute('class',this.container.getAttribute('class')+' compact');\n\n      if(this.schema.readOnly || this.schema.readonly) {\n        this.always_disabled = true;\n        $each(this.inputs,function(i,input) {\n          canvas.setAttribute(\"readOnly\", \"readOnly\");\n          input.disabled = true;\n        });\n      }\n      // add listener to the clear button. when clicked, trigger a canvas change after emptying the canvas\n      clearButton.addEventListener('click', function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        self.signaturePad.clear();\n        // trigger stroke end to let signaturePad update the dataURL\n        self.signaturePad.strokeEnd();\n      });\n\n      this.control = this.theme.getFormControl(this.label, signatureContainer, this.description);\n      this.container.appendChild(this.control);\n      this.refreshValue();\n\n      // signature canvas will stretch to signatureContainer width\n      canvas.width = signatureContainer.offsetWidth;\n      if (self.options && self.options.canvas_height) {\n        canvas.height = self.options.canvas_height;\n      } else {\n        canvas.height = \"300\"; // Set to default height of 300px;\n      }\n    } else {\n      var message = document.createElement('p');\n      message.innerHTML='Signature pad is not available, please include SignaturePad from https://github.com/szimek/signature_pad';\n      this.container.appendChild(message);\n    }\n\n  },\n  setValue: function(val) {\n    var self = this, i;\n    if (typeof SignaturePad == 'function') {\n      var formname = this.formname.replace(/\\W/g, '');\n      var sanitized = this.sanitize(val);\n      if(this.value === sanitized) {\n        return;\n      }\n      self.value = sanitized;\n      self.input.value = self.value;\n      self.signaturePad.clear();\n      // only set contents if value != ''\n      if (val && val != '') {\n        self.signaturePad.fromDataURL(val);\n      }\n      self.watch_listener();\n      self.jsoneditor.notifyWatchers(self.path);\n      return false;\n    }\n  },\n  destroy: function() {\n    var self = this, i;\n    var formname = this.formname.replace(/\\W/g, '');\n    self.signaturePad.off();\n    delete self.signaturePad;\n  }\n});\n","JSONEditor.defaults.editors.radio = JSONEditor.defaults.editors.string.extend({\n  build: function () {\n    var self = this;\n\n    if(!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n    if(this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description);\n    if(this.options.infoText) this.infoButton = this.theme.getInfoButton(this.options.infoText);\n    if(this.options.compact) this.container.classList.add('compact');\n\n    this.radioContainer = document.createElement('div');\n\n    this.enum_values = this.schema.enum;\n    this.radioGroup = [];\n\n    var radioInputEventhandler = function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      self.setValue(this.value);\n      self.onChange(true);\n    };\n\n    for(var i = 0; i < this.enum_values.length; i++) {\n\n      var id = this.key + '-' + i;\n\n      // form radio elements\n      var radioInput = this.theme.getFormInputField('radio');\n      radioInput.name = this.formname;\n      radioInput.value = this.enum_values[i];\n      radioInput.id = id;\n      radioInput.classList.add('radio__field');\n      radioInput.addEventListener('change', radioInputEventhandler, false);\n      this.radioGroup.push(radioInput);\n\n      // form-label for radio elements\n      var radioLabel = document.createElement('label');\n      radioLabel.htmlFor = id;\n      radioLabel.classList.add('radio');\n\n      // contains the displayed text to the label\n      var radioLabelText = document.createElement('span');\n      radioLabelText.innerText = this.enum_values[i];\n      radioLabelText.classList.add('radio__label');\n\n      // permits the addition of styles for the radio itself (if you want it to look differently than browser default)\n      var radioLabelIcon = document.createElement('span');\n      radioLabelIcon.classList.add('radio__icon');\n\n      radioLabel.appendChild(radioInput);\n      radioLabel.appendChild(radioLabelIcon);\n      radioLabel.appendChild(radioLabelText);\n\n      this.radioContainer.appendChild(radioLabel);\n    }\n\n    if(this.schema.readOnly || this.schema.readonly) {\n      this.always_disabled = true;\n      for (var j = 0; j < this.radioGroup.length; j++) {\n        this.radioGroup[j].disabled = true;\n      }\n      this.radioContainer.classList.add('readonly');\n    }\n\n    var radioContainerWrapper = this.theme.getContainer();\n    radioContainerWrapper.appendChild(this.radioContainer);\n\n    this.input = radioContainerWrapper;\n    \n    this.control = this.theme.getFormControl(this.label, radioContainerWrapper, this.description, this.infoButton);\n    this.container.appendChild(this.control);\n  },\n  enable: function() {\n    if(!this.always_disabled) {\n      for (var i = 0; i<this.radioGroup.length; i++) {\n        this.radioGroup[i].disabled = false;\n      }\n      this.radioContainer.classList.remove('readonly');\n      this._super();\n    }\n  },\n  disable: function(always_disabled) {\n    if(always_disabled) this.always_disabled = true;\n    for (var i = 0; i<this.radioGroup.length; i++) {\n      this.radioGroup[i].disabled = true;\n    }\n    this.radioContainer.classList.add('readonly');\n    this._super();\n  },\n  destroy: function() {\n    if(this.radioContainer.parentNode && this.radioContainer.parentNode.parentNode) this.radioContainer.parentNode.parentNode.removeChild(this.radioContainer.parentNode);\n    if(this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label);\n    if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n    this._super();\n  },\n  getNumColumns: function() {\n    return 2;\n  },\n  setValue: function (val) {\n    for(var i = 0; i < this.radioGroup.length; i++) {\n\n      if(this.radioGroup[i].value == val) {\n        this.radioGroup[i].checked = true;\n        this.value = val;\n        if(this.options.displayValue) {\n          this.displayRating.innerHTML = this.value;\n        }\n        this.onChange();\n        break;\n      }\n    }\n  }\n});\n","// hyper-link describeBy Editor\n\nJSONEditor.defaults.editors.describedBy = JSONEditor.AbstractEditor.extend({\n  register: function() {\n    if (this.editors) {\n      for (var i = 0; i < this.editors.length; i++) {\n        if (!this.editors[i]) continue;\n        this.editors[i].unregister();\n      }\n\n      if (this.editors[this.currentEditor]) this.editors[this.currentEditor].register();\n    }\n\n    this._super();\n  },\n  unregister: function() {\n    this._super();\n\n    if (this.editors) {\n      for (var i = 0; i < this.editors.length; i++) {\n        if (!this.editors[i]) continue;\n        this.editors[i].unregister();\n      }\n    }\n  },\n  getNumColumns: function() {\n    if (!this.editors[this.currentEditor]) return 4;\n    return Math.max(this.editors[this.currentEditor].getNumColumns(), 4);\n  },\n  enable: function() {\n    if (this.editors) {\n      for (var i = 0; i < this.editors.length; i++) {\n        if (!this.editors[i]) continue;\n        this.editors[i].enable();\n      }\n    }\n\n    this._super();\n  },\n  disable: function() {\n    if (this.editors) {\n      for (var i = 0; i < this.editors.length; i++) {\n        if (!this.editors[i]) continue;\n        this.editors[i].disable();\n      }\n    }\n\n    this._super();\n  },\n  switchEditor: function() {\n    var self = this;\n    var vars = this.getWatchedFieldValues();\n\n    if (!vars) return;\n\n    //var ref = this.template.fillFromObject(vars);\n    //var ref = this.template(vars);\n    var ref = document.location.toString() + this.template(vars);\n\n    if (!this.editors[this.refs[ref]]) {\n      this.buildChildEditor(ref);\n    }\n\n    this.currentEditor = this.refs[ref];\n\n    this.register();\n\n    $each(this.editors, function(ref, editor) {\n      if (!editor) return;\n      if (self.currentEditor === ref) {\n        editor.container.style.display = '';\n      } else {\n        editor.container.style.display = 'none';\n      }\n    });\n\n    this.refreshValue();\n  },\n  buildChildEditor: function(ref) {\n    this.refs[ref] = this.editors.length;\n\n    var holder = this.theme.getChildEditorHolder();\n    this.editor_holder.appendChild(holder);\n\n    var schema = $extend({}, this.schema, this.jsoneditor.refs[ref]);\n\n    var editor = this.jsoneditor.createEditor(\n      this.jsoneditor.getEditorClass(schema), {\n        jsoneditor: this.jsoneditor,\n        schema: schema,\n        container: holder,\n        path: this.path,\n        parent: this,\n        required: true\n      }\n    );\n\n    this.editors.push(editor);\n\n    editor.preBuild();\n    editor.build();\n    editor.postBuild();\n  },\n  preBuild: function() {\n    var self = this;\n\n    this.refs = {};\n    this.editors = [];\n    this.currentEditor = '';\n\n    for (var i = 0; i < this.schema.links.length; i++) {\n      if (this.schema.links[i].rel.toLowerCase() === 'describedby') {\n        //this.template = new UriTemplate(this.schema.links[i].href);\n        this.template = this.jsoneditor.compileTemplate(this.schema.links[i].href, this.template_engine);\n        break;\n      }\n    }\n\n    /*this.template.fill(function(varName) {\n      self.schema.watch = self.schema.watch || {};\n      self.schema.watch[varName] = varName;\n      return '';\n    });*/\n\n    this.schema.links.splice(0, 1);\n    if (this.schema.links.length === 0) delete this.schema.links;\n\n    this.baseSchema = $extend({}, this.schema);\n  },\n  build: function() {\n    this.editor_holder = document.createElement('div');\n    this.container.appendChild(this.editor_holder);\n    this.switchEditor();\n  },\n  onWatchedFieldChange: function() {\n    this.switchEditor();\n  },\n  onChildEditorChange: function(editor) {\n    if (this.editors[this.currentEditor]) {\n      this.refreshValue();\n    }\n\n    this._super(editor);\n  },\n  refreshValue: function() {\n    if (this.editors[this.currentEditor]) {\n      this.value = this.editors[this.currentEditor].getValue();\n    }\n  },\n  setValue: function(val, initial) {\n    if (this.editors[this.currentEditor]) {\n      this.editors[this.currentEditor].setValue(val, initial);\n      this.refreshValue();\n      this.onChange();\n    }\n  },\n  destroy: function() {\n    $each(this.editors, function(i, editor) {\n      if (editor) editor.destroy();\n    });\n\n    if (this.editor_holder && this.editor_holder.parentNode) {\n      this.editor_holder.parentNode.removeChild(this.editor_holder);\n    }\n\n    this._super();\n  },\n  showValidationErrors: function(errors) {\n    $each(this.editors, function(i, editor) {\n      if (!editor) return;\n      editor.showValidationErrors(errors);\n    });\n  }\n});\n","var matchKey = (function () {\n  var elem = document.documentElement;\n\n  if (elem.matches) return 'matches';\n  else if (elem.webkitMatchesSelector) return 'webkitMatchesSelector';\n  else if (elem.mozMatchesSelector) return 'mozMatchesSelector';\n  else if (elem.msMatchesSelector) return 'msMatchesSelector';\n  else if (elem.oMatchesSelector) return 'oMatchesSelector';\n})();\n\nJSONEditor.AbstractTheme = Class.extend({\n  getContainer: function() {\n    return document.createElement('div');\n  },\n  getFloatRightLinkHolder: function() {\n    var el = document.createElement('div');\n    el.style = el.style || {};\n    el.style.cssFloat = 'right';\n    el.style.marginLeft = '10px';\n    return el;\n  },\n  getModal: function() {\n    var el = document.createElement('div');\n    el.style.backgroundColor = 'white';\n    el.style.border = '1px solid black';\n    el.style.boxShadow = '3px 3px black';\n    el.style.position = 'absolute';\n    el.style.zIndex = '10';\n    el.style.display = 'none';\n    return el;\n  },\n  getGridContainer: function() {\n    var el = document.createElement('div');\n    return el;\n  },\n  getGridRow: function() {\n    var el = document.createElement('div');\n    el.classList.add('row');\n    return el;\n  },\n  getGridColumn: function() {\n    var el = document.createElement('div');\n    return el;\n  },\n  setGridColumnSize: function(el,size) {\n\n  },\n  getLink: function(text) {\n    var el = document.createElement('a');\n    el.setAttribute('href','#');\n    el.appendChild(document.createTextNode(text));\n    return el;\n  },\n  disableHeader: function(header) {\n    header.style.color = '#ccc';\n  },\n  disableLabel: function(label) {\n    label.style.color = '#ccc';\n  },\n  enableHeader: function(header) {\n    header.style.color = '';\n  },\n  enableLabel: function(label) {\n    label.style.color = '';\n  },\n  getInfoButton: function(text) {\n    var icon = document.createElement('span');\n    icon.innerText = \"\";\n    icon.style.fontSize = \"16px\";\n    icon.style.fontWeight = \"bold\";\n    icon.style.padding = \".25rem\";\n    icon.style.position = \"relative\";\n    icon.style.display = \"inline-block\";\n\n    var tooltip = document.createElement('span');\n    tooltip.style.fontSize = \"12px\";\n    icon.style.fontWeight = \"normal\";\n    tooltip.style[\"font-family\"] = \"sans-serif\";\n    tooltip.style.visibility = \"hidden\";\n    tooltip.style[\"background-color\"] = \"rgba(50, 50, 50, .75)\";\n    tooltip.style.margin = \"0 .25rem\";\n    tooltip.style.color = \"#FAFAFA\";\n    tooltip.style.padding = \".5rem 1rem\";\n    tooltip.style[\"border-radius\"] = \".25rem\";\n    tooltip.style.width = \"20rem\";\n    tooltip.style.position = \"absolute\";\n    tooltip.innerText = text;\n    icon.onmouseover = function() {\n      tooltip.style.visibility = \"visible\";\n    };\n    icon.onmouseleave = function() {\n      tooltip.style.visibility = \"hidden\";\n    };\n\n    icon.appendChild(tooltip);\n\n    return icon;\n  },\n  getFormInputLabel: function(text) {\n    var el = document.createElement('label');\n    el.appendChild(document.createTextNode(text));\n    return el;\n  },\n  getCheckboxLabel: function(text) {\n    var el = this.getFormInputLabel(text);\n    el.style.fontWeight = 'normal';\n    return el;\n  },\n  getHeader: function(text) {\n    var el = document.createElement('h3');\n    if(typeof text === \"string\") {\n      el.textContent = text;\n    }\n    else {\n      el.appendChild(text);\n    }\n\n    return el;\n  },\n  getCheckbox: function() {\n    var el = this.getFormInputField('checkbox');\n    el.style.display = 'inline-block';\n    el.style.width = 'auto';\n    return el;\n  },\n  getMultiCheckboxHolder: function(controls,label,description) {\n    var el = document.createElement('div');\n\n    if(label) {\n      label.style.display = 'block';\n      el.appendChild(label);\n    }\n\n    for(var i in controls) {\n      if(!controls.hasOwnProperty(i)) continue;\n      controls[i].style.display = 'inline-block';\n      controls[i].style.marginRight = '20px';\n      el.appendChild(controls[i]);\n    }\n\n    if(description) el.appendChild(description);\n\n    return el;\n  },\n  getSelectInput: function(options) {\n    var select = document.createElement('select');\n    if(options) this.setSelectOptions(select, options);\n    return select;\n  },\n  getSwitcher: function(options) {\n    var switcher = this.getSelectInput(options);\n    switcher.style.backgroundColor = 'transparent';\n    switcher.style.display = 'inline-block';\n    switcher.style.fontStyle = 'italic';\n    switcher.style.fontWeight = 'normal';\n    switcher.style.height = 'auto';\n    switcher.style.marginBottom = 0;\n    switcher.style.marginLeft = '5px';\n    switcher.style.padding = '0 0 0 3px';\n    switcher.style.width = 'auto';\n    return switcher;\n  },\n  getSwitcherOptions: function(switcher) {\n    return switcher.getElementsByTagName('option');\n  },\n  setSwitcherOptions: function(switcher, options, titles) {\n    this.setSelectOptions(switcher, options, titles);\n  },\n  setSelectOptions: function(select, options, titles) {\n    titles = titles || [];\n    select.innerHTML = '';\n    for(var i=0; i<options.length; i++) {\n      var option = document.createElement('option');\n      option.setAttribute('value',options[i]);\n      option.textContent = titles[i] || options[i];\n      select.appendChild(option);\n    }\n  },\n  getTextareaInput: function() {\n    var el = document.createElement('textarea');\n    el.style = el.style || {};\n    el.style.width = '100%';\n    el.style.height = '300px';\n    el.style.boxSizing = 'border-box';\n    return el;\n  },\n  getRangeInput: function(min,max,step) {\n    var el = this.getFormInputField('range');\n    el.setAttribute('min',min);\n    el.setAttribute('max',max);\n    el.setAttribute('step',step);\n    return el;\n  },\n  getFormInputField: function(type) {\n    var el = document.createElement('input');\n    el.setAttribute('type',type);\n    return el;\n  },\n  afterInputReady: function(input) {\n\n  },\n  getFormControl: function(label, input, description, infoText) {\n    var el = document.createElement('div');\n    el.classList.add('form-control');\n    if(label) el.appendChild(label);\n    if(input.type === 'checkbox' && label) {\n      label.insertBefore(input,label.firstChild);\n      if(infoText) label.appendChild(infoText);\n    }\n    else {\n      if(infoText) label.appendChild(infoText);\n      el.appendChild(input);\n    }\n\n    if(description) el.appendChild(description);\n    return el;\n  },\n  getIndentedPanel: function() {\n    var el = document.createElement('div');\n    el.style = el.style || {};\n    el.style.paddingLeft = '10px';\n    el.style.marginLeft = '10px';\n    el.style.borderLeft = '1px solid #ccc';\n    return el;\n  },\n  getTopIndentedPanel: function() {\n    var el = document.createElement('div');\n    el.style = el.style || {};\n    el.style.paddingLeft = '10px';\n    el.style.marginLeft = '10px';\n    return el;\n  },\n  getChildEditorHolder: function() {\n    return document.createElement('div');\n  },\n  getDescription: function(text) {\n    var el = document.createElement('p');\n    if (window.DOMPurify) el.innerHTML = window.DOMPurify.sanitize(text);\n    else el.textContent = this.cleanText(text);\n    return el;\n  },\n  getCheckboxDescription: function(text) {\n    return this.getDescription(text);\n  },\n  getFormInputDescription: function(text) {\n    return this.getDescription(text);\n  },\n  getHeaderButtonHolder: function() {\n    return this.getButtonHolder();\n  },\n  getButtonHolder: function() {\n    return document.createElement('div');\n  },\n  getButton: function(text, icon, title) {\n    var el = document.createElement('button');\n    el.type = 'button';\n    this.setButtonText(el,text,icon,title);\n    return el;\n  },\n  setButtonText: function(button, text, icon, title) {\n    // Clear previous contents. https://jsperf.com/innerhtml-vs-removechild/37\n    while (button.firstChild) {\n      button.removeChild(button.firstChild);\n    }\n    if(icon) {\n      button.appendChild(icon);\n      text = ' ' + text;\n    }\n    var spanEl = document.createElement('span');\n    spanEl.appendChild(document.createTextNode(text));\n    button.appendChild(spanEl);\n    if(title) button.setAttribute('title',title);\n  },\n  getTable: function() {\n    return document.createElement('table');\n  },\n  getTableRow: function() {\n    return document.createElement('tr');\n  },\n  getTableHead: function() {\n    return document.createElement('thead');\n  },\n  getTableBody: function() {\n    return document.createElement('tbody');\n  },\n  getTableHeaderCell: function(text) {\n    var el = document.createElement('th');\n    el.textContent = text;\n    return el;\n  },\n  getTableCell: function() {\n    var el = document.createElement('td');\n    return el;\n  },\n  getErrorMessage: function(text) {\n    var el = document.createElement('p');\n    el.style = el.style || {};\n    el.style.color = 'red';\n    el.appendChild(document.createTextNode(text));\n    return el;\n  },\n  addInputError: function(input, text) {\n  },\n  removeInputError: function(input) {\n  },\n  addTableRowError: function(row) {\n  },\n  removeTableRowError: function(row) {\n  },\n  getTabHolder: function(propertyName) {\n    var pName = (typeof propertyName === 'undefined')? \"\" : propertyName;\n    var el = document.createElement('div');\n    el.innerHTML = \"<div style='float: left; width: 130px;' class='tabs' id='\" + pName + \"'></div><div class='content' style='margin-left: 120px;' id='\" + pName + \"'></div><div style='clear:both;'></div>\";\n    return el;\n  },\n  getTopTabHolder: function(propertyName) {\n    var pName = (typeof propertyName === 'undefined')? \"\" : propertyName;\n    var el = document.createElement('div');\n    el.innerHTML = \"<div class='tabs' style='margin-left: 10px;' id='\" + pName + \"'></div><div style='clear:both;'></div><div class='content' id='\" + pName + \"'></div>\";\n    return el;\n  },\n  applyStyles: function(el,styles) {\n    for(var i in styles) {\n      if(!styles.hasOwnProperty(i)) continue;\n      el.style[i] = styles[i];\n    }\n  },\n  closest: function(elem, selector) {\n    while (elem && elem !== document) {\n      if (elem[matchKey]) {\n        if (elem[matchKey](selector)) {\n          return elem;\n        } else {\n          elem = elem.parentNode;\n        }\n      }\n      else {\n        return false;\n      }\n    }\n    return false;\n  },\n  insertBasicTopTab: function(tab, newTabs_holder ) {\n    newTabs_holder.firstChild.insertBefore(tab,newTabs_holder.firstChild.firstChild);\n  },\n  getTab: function(span, tabId) {\n    var el = document.createElement('div');\n    el.appendChild(span);\n    el.id = tabId;\n    el.style = el.style || {};\n    this.applyStyles(el,{\n      border: '1px solid #ccc',\n      borderWidth: '1px 0 1px 1px',\n      textAlign: 'center',\n      lineHeight: '30px',\n      borderRadius: '5px',\n      borderBottomRightRadius: 0,\n      borderTopRightRadius: 0,\n      fontWeight: 'bold',\n      cursor: 'pointer'\n    });\n    return el;\n  },\n  getTopTab: function(span, tabId) {\n    var el = document.createElement('div');\n    el.id = tabId;\n    el.appendChild(span);\n    el.style = el.style || {};\n    this.applyStyles(el,{\n      float: 'left',\n      border: '1px solid #ccc',\n      borderWidth: '1px 1px 0px 1px',\n      textAlign: 'center',\n      lineHeight: '30px',\n      borderRadius: '5px',\n      paddingLeft:'5px',\n      paddingRight:'5px',\n      borderBottomRightRadius: 0,\n      borderBottomLeftRadius: 0,\n      fontWeight: 'bold',\n      cursor: 'pointer'\n    });\n    return el;\n  },\n  getTabContentHolder: function(tab_holder) {\n    return tab_holder.children[1];\n  },\n  getTopTabContentHolder: function(tab_holder) {\n    return tab_holder.children[1];\n  },\n  getTabContent: function() {\n    return this.getIndentedPanel();\n  },\n  getTopTabContent: function() {\n    return this.getTopIndentedPanel();\n  },\n  markTabActive: function(row) {\n    this.applyStyles(row.tab,{\n      opacity: 1,\n      background: 'white'\n    });\n    if(typeof row.rowPane !== 'undefined'){\n      row.rowPane.style.display = '';\n    }\n    else {\n      row.container.style.display = '';\n    }\n  },\n  markTabInactive: function(row) {\n    this.applyStyles(row.tab,{\n      opacity:0.5,\n      background: ''\n    });\n    if(typeof row.rowPane !== 'undefined'){\n      row.rowPane.style.display = 'none';\n    }\n    else {\n      row.container.style.display = 'none';\n    }\n  },\n  addTab: function(holder, tab) {\n    holder.children[0].appendChild(tab);\n  },\n  addTopTab: function(holder, tab) {\n    holder.children[0].appendChild(tab);\n  },\n  getBlockLink: function() {\n    var link = document.createElement('a');\n    link.style.display = 'block';\n    return link;\n  },\n  getBlockLinkHolder: function() {\n    var el = document.createElement('div');\n    return el;\n  },\n  getLinksHolder: function() {\n    var el = document.createElement('div');\n    return el;\n  },\n  createMediaLink: function(holder,link,media) {\n    holder.appendChild(link);\n    media.style.width='100%';\n    holder.appendChild(media);\n  },\n  createImageLink: function(holder,link,image) {\n    holder.appendChild(link);\n    link.appendChild(image);\n  },\n  getFirstTab: function(holder){\n    return holder.firstChild.firstChild;\n  },\n  getInputGroup: function(input, buttons) {\n    return undefined;\n  },\n  cleanText: function(txt) {\n    // Clean out HTML tags from txt\n    var tmp = document.createElement('div');\n    tmp.innerHTML = txt;\n    return (tmp.textContent || tmp.innerText);\n  }\n});\n","JSONEditor.defaults.themes.bootstrap2 = JSONEditor.AbstractTheme.extend({\n  getRangeInput: function(min, max, step) {\n    // TODO: use bootstrap slider\n    return this._super(min, max, step);\n  },\n  getGridContainer: function() {\n    var el = document.createElement('div');\n    el.classList.add('container-fluid');\n    return el;\n  },\n  getGridRow: function() {\n    var el = document.createElement('div');\n    el.classList.add('row-fluid');\n    return el;\n  },\n  getFormInputLabel: function(text) {\n    var el = this._super(text);\n    el.style.display = 'inline-block';\n    el.style.fontWeight = 'bold';\n    return el;\n  },\n  setGridColumnSize: function(el,size) {\n    el.classList.add('span'+size);\n  },\n  getSelectInput: function(options) {\n    var input = this._super(options);\n    input.style.width = 'auto';\n    input.style.maxWidth = '98%';\n    return input;\n  },\n  getFormInputField: function(type) {\n    var el = this._super(type);\n    el.style.width = '98%';\n    return el;\n  },\n  afterInputReady: function(input) {\n    if(input.controlgroup) return;\n    input.controlgroup = this.closest(input,'.control-group');\n    input.controls = this.closest(input,'.controls');\n    if(this.closest(input,'.compact')) {\n      input.controlgroup.className = input.controlgroup.className.replace(/control-group/g,'').replace(/[ ]{2,}/g,' ');\n      input.controls.className = input.controlgroup.className.replace(/controls/g,'').replace(/[ ]{2,}/g,' ');\n      input.style.marginBottom = 0;\n    }\n    if (this.queuedInputErrorText) {\n        var text = this.queuedInputErrorText;\n        delete this.queuedInputErrorText;\n        this.addInputError(input,text);\n    }\n\n    // TODO: use bootstrap slider\n  },\n  getIndentedPanel: function() {\n    var el = document.createElement('div');\n    el.classList.add('well','well-small');\n    el.style.paddingBottom = 0;\n    return el;\n  },\n  getInfoButton: function(text) {\n    var icon = document.createElement('span');\n    icon.classList.add('icon-info-sign', 'pull-right');\n    icon.style.padding = \".25rem\";\n    icon.style.position = \"relative\";\n    icon.style.display = \"inline-block\";\n\n    var tooltip = document.createElement('span');\n    tooltip.style[\"font-family\"] = \"sans-serif\";\n    tooltip.style.visibility = \"hidden\";\n    tooltip.style[\"background-color\"] = \"rgba(50, 50, 50, .75)\";\n    tooltip.style.margin = \"0 .25rem\";\n    tooltip.style.color = \"#FAFAFA\";\n    tooltip.style.padding = \".5rem 1rem\";\n    tooltip.style[\"border-radius\"] = \".25rem\";\n    tooltip.style.width = \"25rem\";\n    tooltip.style.transform = \"translateX(-27rem) translateY(-.5rem)\";\n    tooltip.style.position = \"absolute\";\n    tooltip.innerText = text;\n    icon.onmouseover = function() {\n      tooltip.style.visibility = \"visible\";\n    };\n    icon.onmouseleave = function() {\n      tooltip.style.visibility = \"hidden\";\n    };\n\n    icon.appendChild(tooltip);\n\n    return icon;\n  },\n  getFormInputDescription: function(text) {\n    var el = document.createElement('p');\n    el.classList.add('help-inline');\n    if (window.DOMPurify) el.innerHTML = window.DOMPurify.sanitize(text);\n    else el.textContent = this.cleanText(text);\n    return el;\n  },\n  getFormControl: function(label, input, description, infoText) {\n    var ret = document.createElement('div');\n    ret.classList.add('control-group');\n\n    var controls = document.createElement('div');\n    controls.classList.add('controls');\n\n    if(label && input.getAttribute('type') === 'checkbox') {\n      ret.appendChild(controls);\n      label.classList.add('checkbox');\n      label.appendChild(input);\n      controls.appendChild(label);\n      if(infoText) controls.appendChild(infoText);\n      controls.style.height = '30px';\n    }\n    else {\n      if(label) {\n        label.classList.add('control-label');\n        ret.appendChild(label);\n      }\n      if(infoText) controls.appendChild(infoText);\n      controls.appendChild(input);\n      ret.appendChild(controls);\n    }\n\n    if(description) controls.appendChild(description);\n\n    return ret;\n  },\n  getHeaderButtonHolder: function() {\n    var el = this.getButtonHolder();\n    el.style.marginLeft = '10px';\n    return el;\n  },\n  getButtonHolder: function() {\n    var el = document.createElement('div');\n    el.classList.add('btn-group');\n    return el;\n  },\n  getButton: function(text, icon, title) {\n    var el =  this._super(text, icon, title);\n    el.classList.add('btn', 'btn-default');\n    return el;\n  },\n  getTable: function() {\n    var el = document.createElement('table');\n    el.classList.add('table', 'table-bordered');\n    el.style.width = 'auto';\n    el.style.maxWidth = 'none';\n    return el;\n  },\n  addInputError: function(input,text) {\n    if(!input.controlgroup) {\n        this.queuedInputErrorText = text;\n        return;\n    }\n    if(!input.controlgroup || !input.controls) return;\n    input.controlgroup.classList.add('error');\n    if(!input.errmsg) {\n      input.errmsg = document.createElement('p');\n      input.errmsg.classList.add('help-block', 'errormsg');\n      input.controls.appendChild(input.errmsg);\n    }\n    else {\n      input.errmsg.style.display = '';\n    }\n\n    input.errmsg.textContent = text;\n  },\n  removeInputError: function(input) {\n    if(!input.controlgroup) {\n        delete this.queuedInputErrorText;\n    }\n    if(!input.errmsg) return;\n    input.errmsg.style.display = 'none';\n    input.controlgroup.classList.remove('error');\n  },\n  getTabHolder: function(propertyName) {\n    var pName = (typeof propertyName === 'undefined')? \"\" : propertyName;\n    var el = document.createElement('div');\n    el.classList.add('tabbable', 'tabs-left');\n    el.innerHTML = \"<ul class='nav nav-tabs'  id='\" + pName + \"'></ul><div class='tab-content well well-small' id='\" + pName + \"'></div>\";\n    return el;\n  },\n  getTopTabHolder: function(propertyName) {\n    var pName = (typeof propertyName === 'undefined')? \"\" : propertyName;\n    var el = document.createElement('div');\n    el.classList.add('tabbable', 'tabs-over');\n    el.innerHTML = \"<ul class='nav nav-tabs' id='\" + pName + \"'></ul><div class='tab-content well well-small'  id='\" + pName + \"'></div>\";\n    return el;\n  },\n  getTab: function(text,tabId) {\n    var el = document.createElement('li');\n    el.classList.add('nav-item');\n    var a = document.createElement('a');\n    a.setAttribute('href','#' + tabId);\n    a.appendChild(text);\n    el.appendChild(a);\n    return el;\n  },\n  getTopTab: function(text,tabId) {\n    var el = document.createElement('li');\n    el.classList.add('nav-item');\n    var a = document.createElement('a');\n    a.setAttribute('href','#' + tabId);\n    a.appendChild(text);\n    el.appendChild(a);\n    return el;\n  },\n  getTabContentHolder: function(tab_holder) {\n    return tab_holder.children[1];\n  },\n  getTopTabContentHolder: function(tab_holder) {\n    return tab_holder.children[1];\n  },\n  getTabContent: function() {\n    var el = document.createElement('div');\n    el.classList.add('tab-pane');\n    return el;\n  },\n  getTopTabContent: function() {\n    var el = document.createElement('div');\n    el.classList.add('tab-pane');\n    return el;\n  },\n  markTabActive: function(row) {\n    row.tab.classList.add('active');\n\n    if(typeof row.rowPane !== 'undefined'){\n      row.rowPane.classList.add('active');\n    }\n    else {\n      row.container.classList.add('active');\n    }\n  },\n  markTabInactive: function(row) {\n    row.tab.classList.remove('active');\n    if(typeof row.rowPane !== 'undefined'){\n      row.rowPane.classList.remove('active');\n    }\n    else {\n      row.container.classList.remove('active');\n    }\n  },\n  addTab: function(holder, tab) {\n    holder.children[0].appendChild(tab);\n  },\n  addTopTab: function(holder, tab) {\n    holder.children[0].appendChild(tab);\n  },\n  getProgressBar: function() {\n    var container = document.createElement('div');\n    container.classList.add('progress');\n\n    var bar = document.createElement('div');\n    bar.classList.add('bar');\n    bar.style.width = '0%';\n    container.appendChild(bar);\n\n    return container;\n  },\n  updateProgressBar: function(progressBar, progress) {\n    if (!progressBar) return;\n\n    progressBar.firstChild.style.width = progress + \"%\";\n  },\n  updateProgressBarUnknown: function(progressBar) {\n    if (!progressBar) return;\n\n    progressBar.classList.add('progress', 'progress-striped', 'active');\n    progressBar.firstChild.style.width = '100%';\n  },\n  getInputGroup: function(input, buttons) {\n    if (!input) return;\n\n    var inputGroupContainer = document.createElement('div');\n    inputGroupContainer.classList.add('input-append');\n    inputGroupContainer.appendChild(input);\n\n    for(var i=0;i<buttons.length;i++) {\n      buttons[i].classList.add('btn');\n      inputGroupContainer.appendChild(buttons[i]);\n    }\n\n    return inputGroupContainer;\n  }\n});\n","JSONEditor.defaults.themes.bootstrap3 = JSONEditor.AbstractTheme.extend({\n  getSelectInput: function(options) {\n    var el = this._super(options);\n    el.classList.add('form-control');\n    //el.style.width = 'auto';\n    return el;\n  },\n  setGridColumnSize: function(el,size, offset) {\n    el.classList.add('col-md-'+size);\n    if (offset) {\n      el.classList.add('col-md-offset-'+offset);\n    }\n  },\n  afterInputReady: function(input) {\n    if(input.controlgroup) return;\n    input.controlgroup = this.closest(input,'.form-group');\n    if(this.closest(input,'.compact')) {\n      input.controlgroup.style.marginBottom = 0;\n    }\n    if (this.queuedInputErrorText) {\n        var text = this.queuedInputErrorText;\n        delete this.queuedInputErrorText;\n        this.addInputError(input,text);\n    }\n\n    // TODO: use bootstrap slider\n  },\n  getTextareaInput: function() {\n    var el = document.createElement('textarea');\n    el.classList.add('form-control');\n    return el;\n  },\n  getRangeInput: function(min, max, step) {\n    // TODO: use better slider\n    return this._super(min, max, step);\n  },\n  getFormInputField: function(type) {\n    var el = this._super(type);\n    if(type !== 'checkbox') {\n      el.classList.add('form-control');\n    }\n    return el;\n  },\n  getFormControl: function(label, input, description, infoText) {\n    var group = document.createElement('div');\n\n    if(label && input.type === 'checkbox') {\n      group.classList.add('checkbox');\n      label.appendChild(input);\n      label.style.fontSize = '14px';\n      group.style.marginTop = '0';\n      if(infoText) group.appendChild(infoText);\n      group.appendChild(label);\n      input.style.position = 'relative';\n      input.style.cssFloat = 'left';\n    }\n    else {\n      group.classList.add('form-group');\n      if(label) {\n        label.classList.add('control-label');\n        group.appendChild(label);\n      }\n\n      if(infoText) group.appendChild(infoText);\n      group.appendChild(input);\n    }\n\n    if(description) group.appendChild(description);\n\n    return group;\n  },\n  getIndentedPanel: function() {\n    var el = document.createElement('div');\n    el.classList.add('well', 'well-sm');\n    el.style.paddingBottom = 0;\n    return el;\n  },\n  getInfoButton: function(text) {\n    var icon = document.createElement('span');\n    icon.classList.add('glyphicon', 'glyphicon-info-sign', 'pull-right');\n    icon.style.padding = \".25rem\";\n    icon.style.position = \"relative\";\n    icon.style.display = \"inline-block\";\n\n    var tooltip = document.createElement('span');\n    tooltip.style[\"font-family\"] = \"sans-serif\";\n    tooltip.style.visibility = \"hidden\";\n    tooltip.style[\"background-color\"] = \"rgba(50, 50, 50, .75)\";\n    tooltip.style.margin = \"0 .25rem\";\n    tooltip.style.color = \"#FAFAFA\";\n    tooltip.style.padding = \".5rem 1rem\";\n    tooltip.style[\"border-radius\"] = \".25rem\";\n    tooltip.style.width = \"25rem\";\n    tooltip.style.transform = \"translateX(-27rem) translateY(-.5rem)\";\n    tooltip.style.position = \"absolute\";\n    tooltip.innerText = text;\n    icon.onmouseover = function() {\n      tooltip.style.visibility = \"visible\";\n    };\n    icon.onmouseleave = function() {\n      tooltip.style.visibility = \"hidden\";\n    };\n\n    icon.appendChild(tooltip);\n\n    return icon;\n  },\n  getFormInputDescription: function(text) {\n    var el = document.createElement('p');\n    el.classList.add('help-block');\n    if (window.DOMPurify) el.innerHTML = window.DOMPurify.sanitize(text);\n    else el.textContent = this.cleanText(text);\n    return el;\n  },\n  getHeaderButtonHolder: function() {\n    var el = this.getButtonHolder();\n    el.style.marginLeft = '10px';\n    return el;\n  },\n  getButtonHolder: function() {\n    var el = document.createElement('div');\n    el.classList.add('btn-group');\n    return el;\n  },\n  getButton: function(text, icon, title) {\n    var el = this._super(text, icon, title);\n    el.classList.add('btn', 'btn-default');\n    return el;\n  },\n  getTable: function() {\n    var el = document.createElement('table');\n    el.classList.add('table', 'table-bordered');\n    el.style.width = 'auto';\n    el.style.maxWidth = 'none';\n    return el;\n  },\n\n  addInputError: function(input,text) {\n    if(!input.controlgroup) {\n        this.queuedInputErrorText = text;\n        return;\n    }\n    input.controlgroup.classList.add('has-error');\n    if(!input.errmsg) {\n      input.errmsg = document.createElement('p');\n      input.errmsg.classList.add('help-block', 'errormsg');\n      input.controlgroup.appendChild(input.errmsg);\n    }\n    else {\n      input.errmsg.style.display = '';\n    }\n\n    input.errmsg.textContent = text;\n  },\n  removeInputError: function(input) {\n    if(!input.controlgroup) {\n        delete this.queuedInputErrorText;\n    }\n    if(!input.errmsg) return;\n    input.errmsg.style.display = 'none';\n    input.controlgroup.classList.remove('has-error');\n  },\n  getTabHolder: function(propertyName) {\n    var pName = (typeof propertyName === 'undefined')? \"\" : propertyName;\n    var el = document.createElement('div');\n    el.innerHTML = \"<ul class='col-md-2 nav nav-pills nav-stacked' id='\" + pName + \"' role='tablist'></ul>\" +\n      \"<div class='col-md-10 tab-content well well-small'  id='\" + pName + \"'></div>\";\n    return el;\n  },\n  getTopTabHolder: function(propertyName) {\n    var pName = (typeof propertyName === 'undefined')? \"\" : propertyName;\n    var el = document.createElement('div');\n    el.innerHTML = \"<ul class='nav nav-tabs' id='\" + pName + \"' role='tablist'></ul>\" +\n      \"<div class='tab-content well well-small'  id='\" + pName + \"'></div>\";\n    return el;\n  },\n  getTab: function(text, tabId) {\n    var li = document.createElement('li');\n    li.setAttribute('role', 'presentation');\n    var a = document.createElement('a');\n    a.setAttribute('href','#'+tabId);\n    a.appendChild(text);\n    a.setAttribute('aria-controls', tabId);\n    a.setAttribute('role', 'tab');\n    a.setAttribute('data-toggle', 'tab');\n    li.appendChild(a);\n    return li;\n  },\n  getTopTab: function(text, tabId) {\n    var li = document.createElement('li');\n    li.setAttribute('role', 'presentation');\n    var a = document.createElement('a');\n    a.setAttribute('href','#'+tabId);\n    a.appendChild(text);\n    a.setAttribute('aria-controls', tabId);\n    a.setAttribute('role', 'tab');\n    a.setAttribute('data-toggle', 'tab');\n    li.appendChild(a);\n    return li;\n  },\n  getTabContent: function() {\n    var el = document.createElement('div');\n    el.classList.add('tab-pane');\n    el.setAttribute('role', 'tabpanel');\n    return el;\n  },\n  getTopTabContent: function() {\n    var el = document.createElement('div');\n    el.classList.add('tab-pane');\n    el.setAttribute('role', 'tabpanel');\n    return el;\n  },\n  markTabActive: function(row) {\n    row.tab.classList.add('active');\n\n    if(typeof row.rowPane !== 'undefined'){\n      row.rowPane.classList.add('active');\n    }\n    else {\n      row.container.classList.add('active');\n    }\n  },\n  markTabInactive: function(row) {\n    row.tab.classList.remove('active');\n\n    if(typeof row.rowPane !== 'undefined'){\n      row.rowPane.classList.remove('active');\n    }\n    else {\n      row.container.classList.remove('active');\n    }\n  },\n  getProgressBar: function() {\n    var min = 0, max = 100, start = 0;\n\n    var container = document.createElement('div');\n    container.classList.add('progress');\n\n    var bar = document.createElement('div');\n    bar.classList.add('progress-bar');\n    bar.setAttribute('role', 'progressbar');\n    bar.setAttribute('aria-valuenow', start);\n    bar.setAttribute('aria-valuemin', min);\n    bar.setAttribute('aria-valuenax', max);\n    bar.innerHTML = start + \"%\";\n    container.appendChild(bar);\n\n    return container;\n  },\n  updateProgressBar: function(progressBar, progress) {\n    if (!progressBar) return;\n\n    var bar = progressBar.firstChild;\n    var percentage = progress + \"%\";\n    bar.setAttribute('aria-valuenow', progress);\n    bar.style.width = percentage;\n    bar.innerHTML = percentage;\n  },\n  updateProgressBarUnknown: function(progressBar) {\n    if (!progressBar) return;\n\n    var bar = progressBar.firstChild;\n    progressBar.classList.add('progress', 'progress-striped', 'active');\n    bar.removeAttribute('aria-valuenow');\n    bar.style.width = '100%';\n    bar.innerHTML = '';\n  },\n  getInputGroup: function(input, buttons) {\n    if (!input) return;\n\n    var inputGroupContainer = document.createElement('div');\n    inputGroupContainer.classList.add('input-group');\n    inputGroupContainer.appendChild(input);\n\n    var inputGroup = document.createElement('div');\n    inputGroup.classList.add('input-group-btn');\n    inputGroupContainer.appendChild(inputGroup);\n\n    for(var i=0;i<buttons.length;i++) {\n      inputGroup.appendChild(buttons[i]);\n    }\n\n    return inputGroupContainer;\n  }\n});\n","JSONEditor.defaults.themes.bootstrap4 = JSONEditor.AbstractTheme.extend({\n  getSelectInput: function(options) {\n    var el = this._super(options);\n    el.classList.add(\"form-control\");\n    //el.style.width = 'auto';\n    return el;\n  },\n  setGridColumnSize: function(el,size, offset) {\n    el.classList.add('col-md-'+size);\n    if (offset) {\n      el.classList.add('offset-md-'+offset);\n    }\n  },\n  afterInputReady: function(input) {\n    if (input.controlgroup) return;\n    input.controlgroup = this.closest(input, \".form-group\");\n    if (this.closest(input, \".compact\")) {\n      input.controlgroup.style.marginBottom = 0;\n    }\n\n    // TODO: use bootstrap slider\n  },\n  getTextareaInput: function() {\n    var el = document.createElement(\"textarea\");\n    el.classList.add(\"form-control\");\n    return el;\n  },\n  getRangeInput: function(min, max, step) {\n    // TODO: use better slider\n    return this._super(min, max, step);\n  },\n  getFormInputField: function(type) {\n    var el = this._super(type);\n    if (type !== \"checkbox\") {\n      el.classList.add(\"form-control\");\n    }\n    return el;\n  },\n  getFormControl: function(label, input, description) {\n    var group = document.createElement(\"div\");\n\n    if (label && input.type === \"checkbox\") {\n      group.classList.add(\"checkbox\");\n      label.appendChild(input);\n      label.style.fontSize = \"14px\";\n      group.style.marginTop = \"0\";\n      group.appendChild(label);\n      input.style.position = \"relative\";\n      input.style.cssFloat = \"left\";\n    } else {\n      group.classList.add(\"form-group\");\n      if (label) {\n        label.classList.add(\"form-control-label\");\n        group.appendChild(label);\n      }\n      group.appendChild(input);\n    }\n\n    if (description) group.appendChild(description);\n\n    return group;\n  },\n  getIndentedPanel: function() {\n    var el = document.createElement(\"div\");\n    el.classList.add('card', 'card-body', 'bg-light');\n    return el;\n  },\n  getFormInputDescription: function(text) {\n    var el = document.createElement(\"p\");\n    el.classList.add('form-text');\n    if (window.DOMPurify) el.innerHTML = window.DOMPurify.sanitize(text);\n    else el.textContent = this.cleanText(text);\n    return el;\n  },\n  getHeaderButtonHolder: function() {\n    var el = this.getButtonHolder();\n    el.style.marginLeft = \"10px\";\n    return el;\n  },\n  getButtonHolder: function() {\n    var el = document.createElement(\"div\");\n    el.classList.add(\"btn-group\");\n    return el;\n  },\n  getButton: function(text, icon, title) {\n    var el = this._super(text, icon, title);\n    el.classList.add(\"btn\", \"btn-secondary\");\n    return el;\n  },\n  getTable: function() {\n    var el = document.createElement(\"table\");\n    el.classList.add(\"table-bordered\", \"table-sm\");\n    el.style.width = \"auto\";\n    el.style.maxWidth = \"none\";\n    return el;\n  },\n\n  addInputError: function(input, text) {\n    if (!input.controlgroup) return;\n    input.controlgroup.classList.add('has-danger');\n    input.classList.add('is-invalid');\n    if (!input.errmsg) {\n      input.errmsg = document.createElement(\"p\");\n      input.errmsg.classList.add(\"form-text\", \"invalid-feedback\");\n      input.controlgroup.appendChild(input.errmsg);\n    } else {\n      input.errmsg.style.display = \"\";\n    }\n\n    input.errmsg.textContent = text;\n  },\n  removeInputError: function(input) {\n    if (!input.errmsg) return;\n    input.errmsg.style.display = \"none\";\n    input.classList.remove('is-invalid');\n    input.controlgroup.classList.remove('has-danger');\n  },\n  getTabHolder: function(propertyName) {\n    var el = document.createElement(\"div\");\n    var pName = (typeof propertyName === 'undefined')? \"\" : propertyName;\n    el.innerHTML = \"<div class='col-md-2' id='\" + pName + \"'><ul class='nav flex-column nav-pills'></ul></div><div class='tab-content col-md-10' id='\" + pName + \"'></div>\";\n    el.classList.add(\"row\");\n    return el;\n  },\n  addTab: function(holder, tab) {\n    holder.children[0].children[0].appendChild(tab);\n  },\n  getTopTabHolder: function(propertyName) {\n    var pName = (typeof propertyName === 'undefined')? \"\" : propertyName;\n    var el = document.createElement('div');\n    el.innerHTML = \"<ul class='nav nav-tabs' id='\" + pName + \"'></ul><div class='card-body tab-content' id='\" + pName + \"'></div>\";\n    return el;\n  },\n  getTab: function(text,tabId) {\n    var liel = document.createElement('li');\n    liel.classList.add('nav-item');\n    var ael = document.createElement(\"a\");\n    ael.classList.add(\"nav-link\");\n    ael.setAttribute(\"style\",'padding:10px;');\n    ael.setAttribute(\"href\", \"#\" + tabId);\n    ael.setAttribute('data-toggle', 'tab');\n    ael.appendChild(text);\n    liel.appendChild(ael);\n    return liel;\n  },\n  getTopTab: function(text, tabId) {\n    var el = document.createElement('li');\n    el.classList.add('nav-item');\n    var a = document.createElement('a');\n    a.classList.add('nav-link');\n    a.setAttribute('href','#'+tabId);\n    a.setAttribute('data-toggle', 'tab');\n    a.appendChild(text);\n    el.appendChild(a);\n    return el;\n  },\n  getTabContent: function() {\n    var el = document.createElement('div');\n    el.classList.add('tab-pane');\n    el.setAttribute('role', 'tabpanel');\n    return el;\n  },\n  getTopTabContent: function() {\n    var el = document.createElement('div');\n    el.classList.add('tab-pane');\n    el.setAttribute('role', 'tabpanel');\n    return el;\n  },\n  markTabActive: function(row) {\n    row.tab.firstChild.classList.add('active');\n\n    if(typeof row.rowPane !== 'undefined'){\n      row.rowPane.classList.add('active');\n    }\n    else {\n      row.container.classList.add('active');\n    }\n  },\n  markTabInactive: function(row) {\n    row.tab.firstChild.classList.remove('active');\n\n    if(typeof row.rowPane !== 'undefined'){\n      row.rowPane.classList.remove('active');\n    }\n    else {\n      row.container.classList.remove('active');\n    }\n  },\n  getProgressBar: function() {\n    var min = 0,\n      max = 100,\n      start = 0;\n\n    var container = document.createElement(\"div\");\n    container.classList.add(\"progress\");\n\n    var bar = document.createElement(\"div\");\n    bar.classList.add(\"progress-bar\");\n    bar.setAttribute(\"role\", \"progressbar\");\n    bar.setAttribute(\"aria-valuenow\", start);\n    bar.setAttribute(\"aria-valuemin\", min);\n    bar.setAttribute(\"aria-valuenax\", max);\n    bar.innerHTML = start + \"%\";\n    container.appendChild(bar);\n\n    return container;\n  },\n  updateProgressBar: function(progressBar, progress) {\n    if (!progressBar) return;\n\n    var bar = progressBar.firstChild;\n    var percentage = progress + \"%\";\n    bar.setAttribute(\"aria-valuenow\", progress);\n    bar.style.width = percentage;\n    bar.innerHTML = percentage;\n  },\n  updateProgressBarUnknown: function(progressBar) {\n    if (!progressBar) return;\n\n    var bar = progressBar.firstChild;\n    progressBar.classList.add('progress', 'progress-striped', 'active');\n    bar.removeAttribute(\"aria-valuenow\");\n    bar.style.width = \"100%\";\n    bar.innerHTML = \"\";\n  },\n  getInputGroup: function(input, buttons) {\n    if (!input) return;\n\n    var inputGroupContainer = document.createElement('div');\n    inputGroupContainer.classList.add('input-group');\n    inputGroupContainer.appendChild(input);\n\n    var inputGroup = document.createElement('div');\n    inputGroup.classList.add('input-group-prepend');\n    inputGroupContainer.appendChild(inputGroup);\n\n    for(var i=0;i<buttons.length;i++) {\n      inputGroup.appendChild(buttons[i]);\n    }\n\n    return inputGroupContainer;\n  }\n});\n","// Base Foundation theme\nJSONEditor.defaults.themes.foundation = JSONEditor.AbstractTheme.extend({\n  getChildEditorHolder: function() {\n    var el = document.createElement('div');\n    el.style.marginBottom = '15px';\n    return el;\n  },\n  getSelectInput: function(options) {\n    var el = this._super(options);\n    el.style.minWidth = 'none';\n    el.style.padding = '5px';\n    el.style.marginTop = '3px';\n    return el;\n  },\n  getSwitcher: function(options) {\n    var el = this._super(options);\n    el.style.paddingRight = '8px';\n    return el;\n  },\n  afterInputReady: function(input) {\n    if(input.group) return;\n    if(this.closest(input,'.compact')) {\n      input.style.marginBottom = 0;\n    }\n    input.group = this.closest(input,'.form-control');\n    if (this.queuedInputErrorText) {\n        var text = this.queuedInputErrorText;\n        delete this.queuedInputErrorText;\n        this.addInputError(input,text);\n    }\n  },\n  getFormInputLabel: function(text) {\n    var el = this._super(text);\n    el.style.display = 'inline-block';\n    return el;\n  },\n  getFormInputField: function(type) {\n    var el = this._super(type);\n    el.style.width = '100%';\n    el.style.marginBottom = type==='checkbox'? '0' : '12px';\n    return el;\n  },\n  getFormInputDescription: function(text) {\n    var el = document.createElement('p');\n    if (window.DOMPurify) el.innerHTML = window.DOMPurify.sanitize(text);\n    else el.textContent = this.cleanText(text);\n    el.style.marginTop = '-10px';\n    el.style.fontStyle = 'italic';\n    return el;\n  },\n  getIndentedPanel: function() {\n    var el = document.createElement('div');\n    el.classList.add('panel');\n    el.style.paddingBottom = 0;\n    return el;\n  },\n  getHeaderButtonHolder: function() {\n    var el = this.getButtonHolder();\n    el.style.display = 'inline-block';\n    el.style.marginLeft = '10px';\n    el.style.verticalAlign = 'middle';\n    return el;\n  },\n  getButtonHolder: function() {\n    var el = document.createElement('div');\n    el.classList.add('button-group');\n    return el;\n  },\n  getButton: function(text, icon, title) {\n    var el = this._super(text, icon, title);\n    el.classList.add('small', 'button');\n    return el;\n  },\n  addInputError: function(input,text) {\n    if(!input.group) {\n        this.queuedInputErrorText = text;\n        return;\n    }\n    input.group.classList.add('error');\n\n    if(!input.errmsg) {\n      input.insertAdjacentHTML('afterend','<small class=\"error\"></small>');\n      input.errmsg = input.parentNode.getElementsByClassName('error')[0];\n    }\n    else {\n      input.errmsg.style.display = '';\n    }\n\n    input.errmsg.textContent = text;\n  },\n  removeInputError: function(input) {\n    if(!input.group) {\n        delete this.queuedInputErrorText;\n    }\n    if(!input.errmsg) return;\n    input.group.classList.remove('error');\n    input.errmsg.style.display = 'none';\n  },\n  getProgressBar: function() {\n    var progressBar = document.createElement('div');\n    progressBar.classList.add('progress');\n\n    var meter = document.createElement('span');\n    meter.classList.add('meter');\n    meter.style.width = '0%';\n    progressBar.appendChild(meter);\n    return progressBar;\n  },\n  updateProgressBar: function(progressBar, progress) {\n    if (!progressBar) return;\n    progressBar.firstChild.style.width = progress + '%';\n  },\n  updateProgressBarUnknown: function(progressBar) {\n    if (!progressBar) return;\n    progressBar.firstChild.style.width = '100%';\n  },\n  getInputGroup: function(input, buttons) {\n    if (!input) return undefined;\n\n    var inputGroupContainer = document.createElement('div');\n    inputGroupContainer.classList.add('input-group');\n    input.classList.add('input-group-field');\n    inputGroupContainer.appendChild(input);\n\n    for(var i=0;i<buttons.length;i++) {\n      var inputGroup = document.createElement('div');\n      inputGroup.classList.add('input-group-button');\n      inputGroup.style.verticalAlign = 'top';\n      buttons[i].classList.remove('small');\n      inputGroup.appendChild(buttons[i]);\n      inputGroupContainer.appendChild(inputGroup);\n    }\n\n    return inputGroupContainer;\n  }\n});\n\n// Foundation 3 Specific Theme\nJSONEditor.defaults.themes.foundation3 = JSONEditor.defaults.themes.foundation.extend({\n  getHeaderButtonHolder: function() {\n    var el = this._super();\n    el.style.fontSize = '.6em';\n    return el;\n  },\n  getFormInputLabel: function(text) {\n    var el = this._super(text);\n    el.style.fontWeight = 'bold';\n    return el;\n  },\n  getTabHolder: function(propertyName) {\n    var pName = (typeof propertyName === 'undefined')? \"\" : propertyName;\n    var el = document.createElement('div');\n    el.classList.add('row');\n    el.innerHTML = '<dl class=\"tabs vertical two columns\" id=\"' + pName + '\"></dl><div class=\"tabs-content ten columns\" id=\"' + pName + '\"></div>';\n    return el;\n  },\n  getTopTabHolder: function(propertyName) {\n    var pName = (typeof propertyName === 'undefined')? \"\" : propertyName;\n    var el = document.createElement('div');\n    el.classList.add('row');\n    el.innerHTML = '<dl class=\"tabs horizontal\" style=\"padding-left: 10px; margin-left: 10px;\" id=\"' + pName + '\"></dl><div class=\"tabs-content twelve columns\" style=\"padding: 10px; margin-left: 10px;\" id=\"' + pName + '\"></div>';\n    return el;\n  },\n  setGridColumnSize: function(el,size, offset) {\n    var sizes = ['zero','one','two','three','four','five','six','seven','eight','nine','ten','eleven','twelve'];\n    el.classList.add('columns', sizes[size]);\n    if (offset && offset < 11) {\n      el.classList.add('offset-by-' + sizes[offset]);\n    }\n  },\n  getTab: function(text, tabId) {\n    var el = document.createElement('dd');\n    var a = document.createElement('a');\n    a.setAttribute('href','#'+tabId);\n    a.appendChild(text);\n    el.appendChild(a);\n    return el;\n  },\n  getTopTab: function(text, tabId) {\n    var el = document.createElement('dd');\n    var a = document.createElement('a');\n    a.setAttribute('href','#'+tabId);\n    a.appendChild(text);\n    el.appendChild(a);\n    return el;\n  },\n  getTabContentHolder: function(tab_holder) {\n    return tab_holder.children[1];\n  },\n  getTopTabContentHolder: function(tab_holder) {\n    return tab_holder.children[1];\n  },\n  getTabContent: function() {\n    var el = document.createElement('div');\n    el.classList.add('content', 'active');\n    el.style.paddingLeft = '5px';\n    return el;\n  },\n  getTopTabContent: function() {\n    var el = document.createElement('div');\n    el.classList.add('content', 'active');\n    el.style.paddingLeft = '5px';\n    return el;\n  },\n  markTabActive: function(row) {\n    row.tab.classList.add('active');\n\n    if(typeof row.rowPane !== 'undefined'){\n      row.rowPane.style.display = '';\n    }\n    else {\n      row.container.style.display = '';\n    }\n  },\n  markTabInactive: function(row) {\n    row.tab.classList.remove('active');\n\n    if(typeof row.rowPane !== 'undefined'){\n      row.rowPane.style.display = 'none';\n    }\n    else {\n      row.container.style.display = 'none';\n    }\n  },\n  addTab: function(holder, tab) {\n    holder.children[0].appendChild(tab);\n  },\n  addTopTab: function(holder, tab) {\n    holder.children[0].appendChild(tab);\n  }\n});\n\n// Foundation 4 Specific Theme\nJSONEditor.defaults.themes.foundation4 = JSONEditor.defaults.themes.foundation.extend({\n  getHeaderButtonHolder: function() {\n    var el = this._super();\n    el.style.fontSize = '.6em';\n    return el;\n  },\n  setGridColumnSize: function(el, size, offset) {\n    el.classList.add('columns', 'large-' + size);\n    if (offset) {\n      el.classList.add('large-offset-' + offset);\n    }\n\n  },\n  getFormInputDescription: function(text) {\n    var el = this._super(text);\n    el.style.fontSize = '.8rem';\n    return el;\n  },\n  getFormInputLabel: function(text) {\n    var el = this._super(text);\n    el.style.fontWeight = 'bold';\n    return el;\n  }\n});\n\n// Foundation 5 Specific Theme\nJSONEditor.defaults.themes.foundation5 = JSONEditor.defaults.themes.foundation.extend({\n  getFormInputDescription: function(text) {\n    var el = this._super(text);\n    el.style.fontSize = '.8rem';\n    return el;\n  },\n  setGridColumnSize: function(el,size, offset) {\n    el.classList.add('columns', 'medium-'+size);\n    if (offset) {\n      el.classList.add('medium-offset-'+offset);\n    }\n  },\n  getButton: function(text, icon, title) {\n    var el = this._super(text,icon,title);\n    el.className = el.className.replace(/\\s*small/g,'') + ' tiny';\n    return el;\n  },\n  getTabHolder: function(propertyName) {\n    var pName = (typeof propertyName === 'undefined')? \"\" : propertyName;\n    var el = document.createElement('div');\n    el.innerHTML = '<dl class=\"tabs vertical\" id=\"' + pName + '\"></dl><div class=\"tabs-content vertical\" id=\"' + pName + '\"></div>';\n    return el;\n  },\n  getTopTabHolder: function(propertyName) {\n    var pName = (typeof propertyName === 'undefined')? \"\" : propertyName;\n    var el = document.createElement('div');\n    el.classList.add('row');\n    el.innerHTML = '<dl class=\"tabs horizontal\" style=\"padding-left: 10px;\" id=\"' + pName + '\"></dl><div class=\"tabs-content horizontal\" style=\"padding: 10px;\" id=\"' + pName + '\"></div>';\n    return el;\n  },\n  getTab: function(text, tabId) {\n    var el = document.createElement('dd');\n    var a = document.createElement('a');\n    a.setAttribute('href','#'+tabId);\n    a.appendChild(text);\n    el.appendChild(a);\n    return el;\n  },\n  getTopTab: function(text, tabId) {\n    var el = document.createElement('dd');\n    var a = document.createElement('a');\n    a.setAttribute('href','#'+tabId);\n    a.appendChild(text);\n    el.appendChild(a);\n    return el;\n  },\n  getTabContentHolder: function(tab_holder) {\n    return tab_holder.children[1];\n  },\n  getTopTabContentHolder: function(tab_holder) {\n    return tab_holder.children[1];\n  },\n  getTabContent: function() {\n    var el = document.createElement('div');\n    el.classList.add('tab-content', 'active');\n    el.style.paddingLeft = '5px';\n    return el;\n  },\n  getTopTabContent: function() {\n    var el = document.createElement('div');\n    el.classList.add('tab-content', 'active');\n    el.style.paddingLeft = '5px';\n    return el;\n  },\n  markTabActive: function(row) {\n    row.tab.classList.add('active');\n\n    if(typeof row.rowPane !== 'undefined'){\n      row.rowPane.style.display = '';\n    }\n    else {\n      row.container.style.display = '';\n    }\n  },\n  markTabInactive: function(row) {\n    row.tab.classList.remove('active');\n\n    if(typeof row.rowPane !== 'undefined'){\n      row.rowPane.style.display = 'none';\n    }\n    else {\n      row.container.style.display = 'none';\n    }\n  },\n  addTab: function(holder, tab) {\n    holder.children[0].appendChild(tab);\n  },\n  addTopTab: function(holder, tab) {\n    holder.children[0].appendChild(tab);\n  }\n\n});\n\nJSONEditor.defaults.themes.foundation6 = JSONEditor.defaults.themes.foundation5.extend({\n  getIndentedPanel: function() {\n    var el = document.createElement('div');\n    el.classList.add('callout', 'secondary');\n    el.style = 'padding-left: 10px; margin-left: 10px;';\n    return el;\n  },\n  getButtonHolder: function() {\n    var el = document.createElement('div');\n    el.classList.add('button-group', 'tiny');\n    el.style.marginBottom = 0;\n    return el;\n  },\n  getFormInputLabel: function(text) {\n    var el = this._super(text);\n    el.style.display = 'block';\n    return el;\n  },\n  getFormControl: function(label, input, description, infoText) {\n    var el = document.createElement('div');\n    el.classList.add('form-control');\n    if(label) el.appendChild(label);\n    if(input.type === 'checkbox') {\n      label.insertBefore(input,label.firstChild);\n    }\n    else if (label) {\n      if(infoText) label.appendChild(infoText);\n      label.appendChild(input);\n    } else {\n      if(infoText) el.appendChild(infoText);\n      el.appendChild(input);\n    }\n\n    if(description) label.appendChild(description);\n    return el;\n  },\n  addInputError: function(input,text) {\n    if(!input.group) return;\n    input.group.classList.add('error');\n\n    if(!input.errmsg) {\n      var errorEl = document.createElement('span');\n      errorEl.classList.add('form-error', 'is-visible');\n      input.group.getElementsByTagName('label')[0].appendChild(errorEl);\n\n      input.classList.add('is-invalid-input');\n\n      input.errmsg = errorEl;\n    }\n    else {\n      input.errmsg.style.display = '';\n      input.className = '';\n    }\n\n    input.errmsg.textContent = text;\n  },\n  removeInputError: function(input) {\n    if(!input.errmsg) return;\n    input.classList.remove('is-invalid-input');\n    if(input.errmsg.parentNode) {\n      input.errmsg.parentNode.removeChild(input.errmsg);\n    }\n  },\n  getTabHolder: function(propertyName) {\n    var pName = (typeof propertyName === 'undefined')? \"\" : propertyName;\n    var el = document.createElement('div');\n    el.classList.add('grid-x');\n    el.innerHTML = '<div class=\"medium-2 cell\" style=\"float: left;\"><ul class=\"vertical tabs\" data-tabs id=\"' + pName + '\"></ul></div><div class=\"medium-10 cell\" style=\"float: left;\"><div class=\"tabs-content\" data-tabs-content=\"'+pName+'\"></div></div>';\n    return el;\n  },\n  getTopTabHolder: function(propertyName) {\n    var pName = (typeof propertyName === 'undefined')? \"\" : propertyName;\n    var el = document.createElement('div');\n    el.classList.add('grid-y');\n    el.innerHTML = '<div className=\"cell\"><ul class=\"tabs\" data-tabs id=\"' + pName + '\"></ul><div class=\"tabs-content\" data-tabs-content=\"' + pName + '\"></div></div>';\n    return el;\n\n\n  },\n  insertBasicTopTab: function(tab, newTabs_holder ) {\n    newTabs_holder.firstChild.firstChild.insertBefore(tab,newTabs_holder.firstChild.firstChild.firstChild);\n  },\n  getTab: function(text, tabId) {\n    var el = document.createElement('li');\n    el.classList.add('tabs-title');\n    var a = document.createElement('a');\n    a.setAttribute('href','#'+tabId);\n    a.appendChild(text);\n    el.appendChild(a);\n    return el;\n  },\n  getTopTab: function(text, tabId) {\n    var el = document.createElement('li');\n    el.classList.add('tabs-title');\n    var a = document.createElement('a');\n    a.setAttribute('href','#' + tabId);\n    a.appendChild(text);\n    el.appendChild(a);\n    return el;\n  },\n  getTabContentHolder: function(tab_holder) {\n    return tab_holder.children[1].firstChild;\n  },\n  getTopTabContentHolder: function(tab_holder) {\n    return tab_holder.firstChild.children[1];\n  },\n  getTabContent: function() {\n    var el = document.createElement('div');\n    el.classList.add('tabs-panel');\n    el.style.paddingLeft = '5px';\n    return el;\n  },\n  getTopTabContent: function() {\n    var el = document.createElement('div');\n    el.classList.add('tabs-panel');\n    el.style.paddingLeft = '5px';\n    return el;\n  },\n  markTabActive: function(row) {\n    row.tab.classList.add('is-active');\n    row.tab.firstChild.setAttribute('aria-selected', 'true');\n\n    if(typeof row.rowPane !== 'undefined'){\n      row.rowPane.classList.add('is-active');\n      row.rowPane.setAttribute('aria-selected', 'true');\n    }\n    else {\n      row.container.classList.add('is-active');\n      row.container.setAttribute('aria-selected', 'true');\n      }\n  },\n  markTabInactive: function(row) {\n    row.tab.classList.remove('is-active');\n    row.tab.firstChild.removeAttribute('aria-selected');\n\n    if(typeof row.rowPane !== 'undefined'){\n      row.rowPane.classList.remove('is-active');\n      row.rowPane.removeAttribute('aria-selected');\n    }\n    else {\n      row.container.classList.remove('is-active');\n      row.container.removeAttribute('aria-selected');\n      }\n  },\n  addTab: function(holder, tab) {\n    holder.children[0].firstChild.appendChild(tab);\n  },\n  addTopTab: function(holder, tab) {\n    holder.firstChild.children[0].appendChild(tab);\n  },\n  getFirstTab: function(holder){\n    return holder.firstChild.firstChild.firstChild;\n  }\n});\n","JSONEditor.defaults.themes.html = JSONEditor.AbstractTheme.extend({\n  getFormInputLabel: function(text) {\n    var el = this._super(text);\n    el.style.display = 'block';\n    el.style.marginBottom = '3px';\n    el.style.fontWeight = 'bold';\n    return el;\n  },\n  getFormInputDescription: function(text) {\n    var el = this._super(text);\n    el.style.fontSize = '.8em';\n    el.style.margin = 0;\n    el.style.display = 'inline-block';\n    el.style.fontStyle = 'italic';\n    return el;\n  },\n  getIndentedPanel: function() {\n    var el = this._super();\n    el.style.border = '1px solid #ddd';\n    el.style.padding = '5px';\n    el.style.margin = '10px';\n    el.style.borderRadius = '3px';\n    return el;\n  },\n  getTopIndentedPanel: function() {\n    return this.getIndentedPanel();\n  },\n  getChildEditorHolder: function() {\n    var el = this._super();\n    el.style.marginBottom = '8px';\n    return el;\n  },\n  getHeaderButtonHolder: function() {\n    var el = this.getButtonHolder();\n    el.style.display = 'inline-block';\n    el.style.marginLeft = '10px';\n    el.style.fontSize = '.8em';\n    el.style.verticalAlign = 'middle';\n    return el;\n  },\n  getTable: function() {\n    var el = this._super();\n    el.style.borderBottom = '1px solid #ccc';\n    el.style.marginBottom = '5px';\n    return el;\n  },\n  addInputError: function(input, text) {\n    input.style.borderColor = 'red';\n    \n    if(!input.errmsg) {\n      var group = this.closest(input,'.form-control');\n      input.errmsg = document.createElement('div');\n      input.errmsg.setAttribute('class','errmsg');\n      input.errmsg.style = input.errmsg.style || {};\n      input.errmsg.style.color = 'red';\n      group.appendChild(input.errmsg);\n    }\n    else {\n      input.errmsg.style.display = 'block';\n    }\n    \n    input.errmsg.innerHTML = '';\n    input.errmsg.appendChild(document.createTextNode(text));\n  },\n  removeInputError: function(input) {\n    input.style.borderColor = '';\n    if(input.errmsg) input.errmsg.style.display = 'none';\n  },\n  getProgressBar: function() {\n    var max = 100, start = 0;\n\n    var progressBar = document.createElement('progress');\n    progressBar.setAttribute('max', max);\n    progressBar.setAttribute('value', start);\n    return progressBar;\n  },\n  updateProgressBar: function(progressBar, progress) {\n    if (!progressBar) return;\n    progressBar.setAttribute('value', progress);\n  },\n  updateProgressBarUnknown: function(progressBar) {\n    if (!progressBar) return;\n    progressBar.removeAttribute('value');\n  }\n});\n","JSONEditor.defaults.themes.jqueryui = JSONEditor.AbstractTheme.extend({\n  getTable: function() {\n    var el = this._super();\n    el.setAttribute('cellpadding',5);\n    el.setAttribute('cellspacing',0);\n    return el;\n  },\n  getTableHeaderCell: function(text) {\n    var el = this._super(text);\n    el.classList.add('ui-state-active');\n    el.style.fontWeight = 'bold';\n    return el;\n  },\n  getTableCell: function() {\n    var el = this._super();\n    el.classList.add('ui-widget-content');\n    return el;\n  },\n  getHeaderButtonHolder: function() {\n    var el = this.getButtonHolder();\n    el.style.marginLeft = '10px';\n    el.style.fontSize = '.6em';\n    el.style.display = 'inline-block';\n    return el;\n  },\n  getFormInputDescription: function(text) {\n    var el = this.getDescription(text);\n    el.style.marginLeft = '10px';\n    el.style.display = 'inline-block';\n    return el;\n  },\n  getFormControl: function(label, input, description, infoText) {\n    var el = this._super(label,input,description, infoText);\n    if(input.type === 'checkbox') {\n      el.style.lineHeight = '25px';\n\n      el.style.padding = '3px 0';\n    }\n    else {\n      el.style.padding = '4px 0 8px 0';\n    }\n    return el;\n  },\n  getDescription: function(text) {\n    var el = document.createElement('span');\n    el.style.fontSize = '.8em';\n    el.style.fontStyle = 'italic';\n    if (window.DOMPurify) el.innerHTML = window.DOMPurify.sanitize(text);\n    else el.textContent = this.cleanText(text);\n    return el;\n  },\n  getButtonHolder: function() {\n    var el = document.createElement('div');\n    el.classList.add('ui-buttonset');\n    el.style.fontSize = '.7em';\n    return el;\n  },\n  getFormInputLabel: function(text) {\n    var el = document.createElement('label');\n    el.style.fontWeight = 'bold';\n    el.style.display = 'block';\n    el.textContent = text;\n    return el;\n  },\n  getButton: function(text, icon, title) {\n    var button = document.createElement(\"button\");\n    button.classList.add('ui-button', 'ui-widget', 'ui-state-default', 'ui-corner-all');\n\n    // Icon only\n    if(icon && !text) {\n      button.classList.add('ui-button-icon-only');\n      icon.classList.add('ui-button-icon-primary', 'ui-icon-primary');\n      button.appendChild(icon);\n    }\n    // Icon and Text\n    else if(icon) {\n      button.classList.add('ui-button-text-icon-primary');\n      icon.classList.add('ui-button-icon-primary', 'ui-icon-primary');\n      button.appendChild(icon);\n    }\n    // Text only\n    else {\n      button.classList.add('ui-button-text-only');\n    }\n\n    var el = document.createElement('span');\n    el.classList.add('ui-button-text');\n    el.textContent = text||title||\".\";\n    button.appendChild(el);\n\n    button.setAttribute('title',title);\n\n    return button;\n  },\n  setButtonText: function(button,text, icon, title) {\n    button.innerHTML = '';\n    button.classList.add('ui-button', 'ui-widget', 'ui-state-default', 'ui-corner-all');\n\n    // Icon only\n    if(icon && !text) {\n      button.classList.add('ui-button-icon-only');\n      icon.classList.add('ui-button-icon-primary', 'ui-icon-primary');\n      button.appendChild(icon);\n    }\n    // Icon and Text\n    else if(icon) {\n      button.classList.add('ui-button-text-icon-primary');\n      icon.classList.add('ui-button-icon-primary', 'ui-icon-primary');\n      button.appendChild(icon);\n    }\n    // Text only\n    else {\n      button.classList.add('ui-button-text-only');\n    }\n\n    var el = document.createElement('span');\n    el.classList.add('ui-button-text');\n    el.textContent = text||title||\".\";\n    button.appendChild(el);\n\n    button.setAttribute('title',title);\n  },\n  getIndentedPanel: function() {\n    var el = document.createElement('div');\n    el.classList.add('ui-widget-content', 'ui-corner-all');\n    el.style.padding = '1em 1.4em';\n    el.style.marginBottom = '20px';\n    return el;\n  },\n  afterInputReady: function(input) {\n    if(input.controls) return;\n    input.controls = this.closest(input,'.form-control');\n    if (this.queuedInputErrorText) {\n        var text = this.queuedInputErrorText;\n        delete this.queuedInputErrorText;\n        this.addInputError(input,text);\n    }\n  },\n  addInputError: function(input,text) {\n    if(!input.controls) {\n        this.queuedInputErrorText = text;\n        return;\n    }\n    if(!input.errmsg) {\n      input.errmsg = document.createElement('div');\n      input.errmsg.classList.add('ui-state-error');\n      input.controls.appendChild(input.errmsg);\n    }\n    else {\n      input.errmsg.style.display = '';\n    }\n\n    input.errmsg.textContent = text;\n  },\n  removeInputError: function(input) {\n    if(!input.controls) {\n        delete this.queuedInputErrorText;\n    }\n    if(!input.errmsg) return;\n    input.errmsg.style.display = 'none';\n  },\n  markTabActive: function(row) {\n    row.tab.classList.remove('ui-widget-header');\n    row.tab.classList.add('ui-state-active');\n\n    if(typeof row.rowPane !== 'undefined'){\n      row.rowPane.style.display = '';\n    }\n    else {\n      row.container.style.display = '';\n    }\n  },\n  markTabInactive: function(row) {\n    row.tab.classList.add('ui-widget-header');\n    row.tab.classList.remove('ui-state-active');\n\n    if(typeof row.rowPane !== 'undefined'){\n      row.rowPane.style.display = 'none';\n    }\n    else {\n      row.container.style.display = 'none';\n    }\n  }\n});\n","JSONEditor.defaults.themes.barebones = JSONEditor.AbstractTheme.extend({\n    getFormInputLabel: function (text) {\n        var el = this._super(text);\n        return el;\n    },\n    getFormInputDescription: function (text) {\n        var el = this._super(text);\n        return el;\n    },\n    getIndentedPanel: function () {\n        var el = this._super();\n        return el;\n    },\n    getChildEditorHolder: function () {\n        var el = this._super();\n        return el;\n    },\n    getHeaderButtonHolder: function () {\n        var el = this.getButtonHolder();\n        return el;\n    },\n    getTable: function () {\n        var el = this._super();\n        return el;\n    },\n    addInputError: function (input, text) {\n        if (!input.errmsg) {\n            var group = this.closest(input, '.form-control');\n            input.errmsg = document.createElement('div');\n            input.errmsg.setAttribute('class', 'errmsg');\n            group.appendChild(input.errmsg);\n        }\n        else {\n            input.errmsg.style.display = 'block';\n        }\n\n        input.errmsg.innerHTML = '';\n        input.errmsg.appendChild(document.createTextNode(text));\n    },\n    removeInputError: function (input) {\n        input.style.borderColor = '';\n        if (input.errmsg) input.errmsg.style.display = 'none';\n    },\n    getProgressBar: function () {\n        var max = 100, start = 0;\n\n        var progressBar = document.createElement('progress');\n        progressBar.setAttribute('max', max);\n        progressBar.setAttribute('value', start);\n        return progressBar;\n    },\n    updateProgressBar: function (progressBar, progress) {\n        if (!progressBar) return;\n        progressBar.setAttribute('value', progress);\n    },\n    updateProgressBarUnknown: function (progressBar) {\n        if (!progressBar) return;\n        progressBar.removeAttribute('value');\n    }\n});\n","JSONEditor.defaults.themes.materialize = JSONEditor.AbstractTheme.extend(\n  {\n\n    /**\n   * Applies grid size to specified element.\n   *\n   * @param {HTMLElement} el The DOM element to have specified size applied.\n   * @param {int} size The grid column size.\n   * @see http://materializecss.com/grid.html\n   */\n  setGridColumnSize: function(el, size) {\n      el.classList.add('col');\n      el.classList.add('s' + size);\n    },\n\n    /**\n   * Gets a wrapped button element for a header.\n   *\n   * @returns {HTMLElement} The wrapped button element.\n   */\n  getHeaderButtonHolder: function() {\n      return this.getButtonHolder();\n    },\n\n    /**\n   * Gets a wrapped button element.\n   *\n   * @returns {HTMLElement} The wrapped button element.\n   */\n  getButtonHolder: function() {\n      return document.createElement('span');\n    },\n\n    /**\n   * Gets a single button element.\n   *\n   * @param {string} text The button text.\n   * @param {HTMLElement} icon The icon object.\n   * @param {string} title The button title.\n   * @returns {HTMLElement} The button object.\n   * @see http://materializecss.com/buttons.html\n   */\n  getButton: function(text, icon, title) {\n\n      // Prepare icon.\n      if (text) {\n        icon.classList.add('left');\n        icon.style.marginRight = '5px';\n      }\n\n      // Create and return button.\n      var el = this._super(text, icon, title);\n      el.classList.add('waves-effect', 'waves-light', 'btn');\n      el.style.fontSize = '0.75rem';\n      el.style.height = '24px';\n      el.style.lineHeight = '24px';\n      el.style.marginLeft = '5px';\n      el.style.padding = '0 0.5rem';\n      return el;\n\n    },\n\n    /**\n   * Gets a form control object consisiting of several sub objects.\n   *\n   * @param {HTMLElement} label The label element.\n   * @param {HTMLElement} input The input element.\n   * @param {string} description The element description.\n   * @param {string} infoText The element information text.\n   * @returns {HTMLElement} The assembled DOM element.\n   * @see http://materializecss.com/forms.html\n   */\n  getFormControl: function(label, input, description, infoText) {\n\n      var ctrl,\n      type = input.type;\n\n      // Checkboxes get wrapped in p elements.\n      if (type && type === 'checkbox') {\n\n        ctrl = document.createElement('p');\n        if (label) {\n          var span = document.createElement('span');\n          span.innerHTML = label.innerHTML;\n          label.innerHTML = '';\n          label.setAttribute('for', input.id);\n          ctrl.appendChild(label);\n          label.appendChild(input);\n          label.appendChild(span);\n        }\n        else {\n          ctrl.appendChild(input);\n        }\n\n        return ctrl;\n\n      }\n\n      // Anything else gets wrapped in divs.\n      ctrl = this._super(label, input, description, infoText);\n\n      // Not .input-field for select wrappers.\n      if (!type || !type.startsWith('select'))\n        ctrl.classList.add('input-field');\n\n      // Color needs special attention.\n      if (type && type === 'color') {\n        input.style.height = '3rem';\n        input.style.width = '100%';\n        input.style.margin = '5px 0 20px 0';\n        input.style.padding = '3px';\n\n        if (label) {\n          label.style.transform = 'translateY(-14px) scale(0.8)';\n          label.style['-webkit-transform'] = 'translateY(-14px) scale(0.8)';\n          label.style['-webkit-transform-origin'] = '0 0';\n          label.style['transform-origin'] = '0 0';\n        }\n      }\n\n      return ctrl;\n\n    },\n\n  getDescription: function(text) {\n      var el = document.createElement('div');\n      el.classList.add('grey-text');\n      el.style.marginTop = '-15px';\n      if (window.DOMPurify) el.innerHTML = window.DOMPurify.sanitize(text);\n      else el.textContent = this.cleanText(text);\n      return el;\n    },\n\n    /**\n   * Gets a header element.\n   *\n   * @param {string|HTMLElement} text The header text or element.\n   * @returns {HTMLElement} The header element.\n   */\n  getHeader: function(text) {\n\n      var el = document.createElement('h5');\n\n      if (typeof text === 'string') {\n        el.textContent = text;\n      } else {\n        el.appendChild(text);\n      }\n\n      return el;\n\n    },\n\n  getChildEditorHolder: function() {\n\n      var el = document.createElement('div');\n      el.marginBottom = '10px';\n      return el;\n\n    },\n\n  getIndentedPanel: function() {\n      var el = document.createElement(\"div\");\n      el.classList.add(\"card-panel\");\n      return el;\n    },\n\n  getTable: function() {\n\n      var el = document.createElement('table');\n      el.classList.add('striped', 'bordered');\n      el.style.marginBottom = '10px';\n      return el;\n\n    },\n\n  getTableRow: function() {\n      return document.createElement('tr');\n    },\n\n  getTableHead: function() {\n      return document.createElement('thead');\n    },\n\n  getTableBody: function() {\n      return document.createElement('tbody');\n    },\n\n  getTableHeaderCell: function(text) {\n\n      var el = document.createElement('th');\n      el.textContent = text;\n      return el;\n\n    },\n\n  getTableCell: function() {\n\n      var el = document.createElement('td');\n      return el;\n\n    },\n\n    /**\n   * Gets the tab holder element.\n   *\n   * @returns {HTMLElement} The tab holder component.\n   * @see https://github.com/Dogfalo/materialize/issues/2542#issuecomment-233458602\n   */\n  getTabHolder: function() {\n\n      var html =[\n        '<div class=\"col s2\">',\n        '   <ul class=\"tabs\" style=\"height: auto; margin-top: 0.82rem; -ms-flex-direction: column; -webkit-flex-direction: column; flex-direction: column; display: -webkit-flex; display: flex;\">',\n        '   </ul>',\n        '</div>',\n        '<div class=\"col s10\">',\n        '<div>'\n      ].join(\"\\n\");\n\n      var el = document.createElement('div');\n      el.classList.add('row', 'card-panel');\n      el.innerHTML = html;\n      return el;\n\n    },\n\n    /**\n   * Add specified tab to specified holder element.\n   *\n   * @param {HTMLElement} holder The tab holder element.\n   * @param {HTMLElement} tab The tab to add.\n   */\n  addTab: function(holder, tab) {\n      holder.children[0].children[0].appendChild(tab);\n    },\n\n    /**\n   * Gets a single tab element.\n   *\n   * @param {HTMLElement} span The tab's content.\n   * @returns {HTMLElement} The tab element.\n   * @see https://github.com/Dogfalo/materialize/issues/2542#issuecomment-233458602\n   */\n  getTab: function(span) {\n\n      var el = document.createElement('li');\n      el.classList.add('tab');\n      el.style = el.style || {};\n      this.applyStyles(el,\n        {\n        width: '100%',\n        textAlign: 'left',\n        lineHeight: '24px',\n        height: '24px',\n        fontSize: '14px',\n        cursor: 'pointer'\n        }\n      );\n      el.appendChild(span);\n      return el;\n    },\n\n    /**\n   * Marks specified tab as active.\n   *\n   * @returns {HTMLElement} The tab element.\n   * @see https://github.com/Dogfalo/materialize/issues/2542#issuecomment-233458602\n   */\n  markTabActive: function(tab) {\n\n      tab.style = tab.style || {};\n      this.applyStyles(tab,\n        {\n        width: '100%',\n        textAlign: 'left',\n        lineHeight: '24px',\n        height: '24px',\n        fontSize: '14px',\n        cursor: 'pointer',\n        color: 'rgba(238,110,115,1)',\n        transition: 'border-color .5s ease',\n        borderRight: '3px solid #424242'\n        }\n      );\n\n    },\n\n    /**\n   * Marks specified tab as inactive.\n   *\n   * @returns {HTMLElement} The tab element.\n   * @see https://github.com/Dogfalo/materialize/issues/2542#issuecomment-233458602\n   */\n  markTabInactive: function(tab) {\n\n      tab.style = tab.style || {};\n      this.applyStyles(tab,\n        {\n        width: '100%',\n        textAlign: 'left',\n        lineHeight: '24px',\n        height: '24px',\n        fontSize: '14px',\n        cursor: 'pointer',\n        color: 'rgba(238,110,115,0.7)'\n        }\n      );\n\n    },\n\n    /**\n   * Returns the element that holds the tab contents.\n   *\n   * @param {HTMLElement} tabHolder The full tab holder element.\n   * @returns {HTMLElement} The content element inside specified tab holder.\n   */\n  getTabContentHolder: function(tabHolder) {\n      return tabHolder.children[1];\n    },\n\n    /**\n   * Creates and returns a tab content element.\n   *\n   * @returns {HTMLElement} The new tab content element.\n   */\n  getTabContent: function() {\n      return document.createElement('div');\n    },\n\n    /**\n   * Adds an error message to the specified input element.\n   *\n   * @param {HTMLElement} input The input element that caused the error.\n   * @param {string} text The error message.\n   */\n  addInputError: function(input, text) {\n\n      // Get the parent element. Should most likely be a <div class=\"input-field\" ... />.\n      var parent = input.parentNode,\n      el;\n\n      if (!parent) return;\n\n      // Remove any previous error.\n      this.removeInputError(input);\n\n      // Append an error message div.\n      el = document.createElement('div');\n      el.classList.add('error-text', 'red-text');\n      el.textContent = text;\n      parent.appendChild(el);\n\n    },\n\n    /**\n   * Removes any error message from the specified input element.\n   *\n   * @param {HTMLElement} input The input element that previously caused the error.\n   */\n  removeInputError: function(input) {\n\n      // Get the parent element. Should most likely be a <div class=\"input-field\" ... />.\n      var parent = input.parentElement,\n      els;\n\n      if (!parent) return;\n\n      // Remove all elements having class .error-text.\n      els = parent.getElementsByClassName('error-text');\n      for (var i = 0; i < els.length; i++)\n        parent.removeChild(els[i]);\n\n    },\n\n  addTableRowError: function(row) {\n    },\n\n  removeTableRowError: function(row) {\n    },\n\n    /**\n   * Gets a select DOM element.\n   *\n   * @param {object} options The option values.\n   * @return {HTMLElement} The DOM element.\n   * @see http://materializecss.com/forms.html#select\n   */\n  getSelectInput: function(options) {\n\n      var select = this._super(options);\n      select.classList.add('browser-default');\n      return select;\n\n    },\n\n    /**\n   * Gets a textarea DOM element.\n   *\n   * @returns {HTMLElement} The DOM element.\n   * @see http://materializecss.com/forms.html#textarea\n   */\n  getTextareaInput: function() {\n      var el = document.createElement('textarea');\n      el.style.marginBottom = '5px';\n      el.style.fontSize = '1rem';\n      el.style.fontFamily = 'monospace';\n      return el;\n    },\n\n  getCheckbox: function() {\n\n      var el = this.getFormInputField('checkbox');\n      el.id = this.createUuid();\n      return el;\n\n    },\n\n    /**\n   * Gets the modal element for displaying Edit JSON and Properties dialogs.\n   *\n   * @returns {HTMLElement} The modal DOM element.\n   * @see http://materializecss.com/cards.html\n   */\n  getModal: function() {\n\n      var el = document.createElement('div');\n      el.classList.add('card-panel', 'z-depth-3');\n      el.style.padding = '5px';\n      el.style.position = 'absolute';\n      el.style.zIndex = '10';\n      el.style.display = 'none';\n      return el;\n\n    },\n\n    /**\n   * Creates and returns a RFC4122 version 4 compliant unique id.\n   *\n   * @returns {string} A GUID.\n   * @see https://stackoverflow.com/a/2117523\n   */\n  createUuid: function() {\n\n      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c)\n        {\n          var r = Math.random() * 16 | 0, v = c == 'x'? r: (r & 0x3 | 0x8);\n          return v.toString(16);\n        }\n      );\n\n    }\n\n  }\n);","JSONEditor.AbstractIconLib = Class.extend({\n  mapping: {\n    collapse: '',\n    expand: '',\n    \"delete\": '',\n    edit: '',\n    add: '',\n    cancel: '',\n    save: '',\n    moveup: '',\n    movedown: ''\n  },\n  icon_prefix: '',\n  getIconClass: function(key) {\n    if(this.mapping[key]) return this.icon_prefix+this.mapping[key];\n    else return null;\n  },\n  getIcon: function(key) {\n    var iconclass = this.getIconClass(key);\n    \n    if(!iconclass) return null;\n    \n    var i = document.createElement('i');\n    i.classList.add.apply(i.classList, iconclass.split(' '));\n    \n    return i;\n  }\n});\n","JSONEditor.defaults.iconlibs.bootstrap2 = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'chevron-down',\n    expand: 'chevron-up',\n    \"delete\": 'trash',\n    edit: 'pencil',\n    add: 'plus',\n    cancel: 'ban-circle',\n    save: 'ok',\n    moveup: 'arrow-up',\n    movedown: 'arrow-down',\n    clear: 'remove-circle',\n    time: 'time',\n    calendar: 'calendar'\n  },\n  icon_prefix: 'icon-'\n});\n","JSONEditor.defaults.iconlibs.bootstrap3 = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'chevron-down',\n    expand: 'chevron-right',\n    \"delete\": 'remove',\n    edit: 'pencil',\n    add: 'plus',\n    cancel: 'floppy-remove',\n    save: 'floppy-saved',\n    moveup: 'arrow-up',\n    movedown: 'arrow-down',\n    clear: 'remove-circle',\n    time: 'time',\n    calendar: 'calendar'\n  },\n  icon_prefix: 'glyphicon glyphicon-'\n});\n","JSONEditor.defaults.iconlibs.fontawesome3 = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'chevron-down',\n    expand: 'chevron-right',\n    \"delete\": 'remove',\n    edit: 'pencil',\n    add: 'plus',\n    cancel: 'ban-circle',\n    save: 'save',\n    moveup: 'arrow-up',\n    movedown: 'arrow-down',\n    clear: 'remove-circle',\n    time: 'time',\n    calendar: 'calendar'\n  },\n  icon_prefix: 'icon-'\n});\n","JSONEditor.defaults.iconlibs.fontawesome4 = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'caret-square-o-down',\n    expand: 'caret-square-o-right',\n    \"delete\": 'times',\n    edit: 'pencil',\n    add: 'plus',\n    cancel: 'ban',\n    save: 'save',\n    moveup: 'arrow-up',\n    movedown: 'arrow-down',\n    copy: 'files-o',\n    clear: 'times-circle-o',\n    time: 'clock-o',\n    calendar: 'calendar'\n  },\n  icon_prefix: 'fa fa-'\n});\n","JSONEditor.defaults.iconlibs.fontawesome5 = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'caret-down',\n    expand: 'caret-right',\n    delete: 'times',\n    edit: 'pen',\n    add: 'plus',\n    cancel: 'ban',\n    save: 'save',\n    moveup: 'arrow-up',\n    movedown: 'arrow-down',\n    copy: 'copy',\n    clear: 'times-circle',\n    time: 'clock',\n    calendar: 'calendar'\n  },\n  icon_prefix: 'fas fa-'\n});\n","JSONEditor.defaults.iconlibs.foundation2 = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'minus',\n    expand: 'plus',\n    \"delete\": 'remove',\n    edit: 'edit',\n    add: 'add-doc',\n    cancel: 'error',\n    save: 'checkmark',\n    moveup: 'up-arrow',\n    movedown: 'down-arrow',\n    clear: 'remove',\n    time: 'clock',\n    calendar: 'calendar'\n  },\n  icon_prefix: 'foundicon-'\n});\n","JSONEditor.defaults.iconlibs.foundation3 = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'minus',\n    expand: 'plus',\n    \"delete\": 'x',\n    edit: 'pencil',\n    add: 'page-add',\n    cancel: 'x-circle',\n    save: 'save',\n    moveup: 'arrow-up',\n    movedown: 'arrow-down',\n    clear: 'x-circle',\n    time: 'clock',\n    calendar: 'calendar'\n  },\n  icon_prefix: 'fi-'\n});\n","JSONEditor.defaults.iconlibs.jqueryui = JSONEditor.AbstractIconLib.extend({\n  mapping: {\n    collapse: 'triangle-1-s',\n    expand: 'triangle-1-e',\n    \"delete\": 'trash',\n    edit: 'pencil',\n    add: 'plusthick',\n    cancel: 'closethick',\n    save: 'disk',\n    moveup: 'arrowthick-1-n',\n    movedown: 'arrowthick-1-s',\n    clear: 'circle-close',\n    time: 'time',\n    calendar: 'calendar'\n  },\n  icon_prefix: 'ui-icon ui-icon-'\n});\n","JSONEditor.defaults.iconlibs.materialicons = JSONEditor.AbstractIconLib.extend({\n\n    mapping: {\n      collapse: 'arrow_drop_up',\n      expand: 'arrow_drop_down',\n      \"delete\": 'delete',\n      edit: 'edit',\n      add: 'add',\n      cancel: 'cancel',\n      save: 'save',\n      moveup: 'arrow_upward',\n      movedown: 'arrow_downward',\n      copy: 'content_copy',\n      clear: 'highlight_off',\n      time: 'access_time',\n      calendar: 'calendar_today',\n      upload: 'cloud_upload',\n    },\n\n    icon_class: 'material-icons',\n    icon_prefix: '',\n\n    getIconClass: function(key) {\n\n        // This method is unused.\n\n        return this.icon_class;\n    },\n\n    getIcon: function(key) {\n\n        // Get the mapping.\n        var mapping = this.mapping[key];\n        if (!mapping) return null;\n\n        // @see http://materializecss.com/icons.html\n        var i = document.createElement('i');\n        i.classList.add(this.icon_class);\n        var t = document.createTextNode(mapping);\n        i.appendChild(t);\n        return i;\n\n    }\n});\n","JSONEditor.defaults.templates[\"default\"] = function() {\n  return {\n    compile: function(template) {\n      var matches = template.match(/{{\\s*([a-zA-Z0-9\\-_ \\.]+)\\s*}}/g);\n      var l = matches && matches.length;\n\n      // Shortcut if the template contains no variables\n      if(!l) return function() { return template; };\n\n      // Pre-compute the search/replace functions\n      // This drastically speeds up template execution\n      var replacements = [];\n      var get_replacement = function(i) {\n        var p = matches[i].replace(/[{}]+/g,'').trim().split('.');\n        var n = p.length;\n        var func;\n        \n        if(n > 1) {\n          var cur;\n          func = function(vars) {\n            cur = vars;\n            for(i=0; i<n; i++) {\n              cur = cur[p[i]];\n              if(!cur) break;\n            }\n            return cur;\n          };\n        }\n        else {\n          p = p[0];\n          func = function(vars) {\n            return vars[p];\n          };\n        }\n        \n        replacements.push({\n          s: matches[i],\n          r: func\n        });\n      };\n      for(var i=0; i<l; i++) {\n        get_replacement(i);\n      }\n\n      // The compiled function\n      return function(vars) {\n        var ret = template+\"\";\n        var r;\n        for(i=0; i<l; i++) {\n          r = replacements[i];\n          ret = ret.replace(r.s, r.r(vars));\n        }\n        return ret;\n      };\n    }\n  };\n};\n","JSONEditor.defaults.templates.ejs = function() {\n  if(!window.EJS) return false;\n\n  return {\n    compile: function(template) {\n      var compiled = new window.EJS({\n        text: template\n      });\n\n      return function(context) {\n        return compiled.render(context);\n      };\n    }\n  };\n};\n","JSONEditor.defaults.templates.handlebars = function() {\n  return window.Handlebars;\n};\n","JSONEditor.defaults.templates.hogan = function() {\n  if(!window.Hogan) return false;\n\n  return {\n    compile: function(template) {\n      var compiled = window.Hogan.compile(template);\n      return function(context) {\n        return compiled.render(context);\n      };\n    }\n  };\n};\n","JSONEditor.defaults.templates.lodash = function() {\n  if(!window._) return false;\n\n  return {\n    compile: function(template) {\n      return function(context) {\n        return window._.template(template)(context);\n      };\n    }\n  };\n};\n","JSONEditor.defaults.templates.markup = function() {\n  if(!window.Mark || !window.Mark.up) return false;\n\n  return {\n    compile: function(template) {\n      return function(context) {\n        return window.Mark.up(template,context);\n      };\n    }\n  };\n};\n","JSONEditor.defaults.templates.mustache = function() {\n  if(!window.Mustache) return false;\n\n  return {\n    compile: function(template) {\n      return function(view) {\n        return window.Mustache.render(template, view);\n      };\n    }\n  };\n};\n","JSONEditor.defaults.templates.swig = function() {\n  return window.swig;\n};\n","JSONEditor.defaults.templates.underscore = function() {\n  if(!window._) return false;\n\n  return {\n    compile: function(template) {\n      return function(context) {\n        return window._.template(template)(context);\n      };\n    }\n  };\n};\n","// Set the default theme\nJSONEditor.defaults.theme = 'html';\n\n// Set the default template engine\nJSONEditor.defaults.template = 'default';\n\n// Default options when initializing JSON Editor\nJSONEditor.defaults.options = {};\n\nJSONEditor.defaults.options.prompt_before_delete = true;\n\nJSONEditor.defaults.options.upload = function(type, file, cbs) {\n  console.log('Upload handler required for upload editor');\n};\n\n// String translate function\nJSONEditor.defaults.translate = function(key, variables) {\n  var lang = JSONEditor.defaults.languages[JSONEditor.defaults.language];\n  if(!lang) throw \"Unknown language \"+JSONEditor.defaults.language;\n\n  var string = lang[key] || JSONEditor.defaults.languages[JSONEditor.defaults.default_language][key];\n\n  if(typeof string === \"undefined\") throw \"Unknown translate string \"+key;\n\n  if(variables) {\n    for(var i=0; i<variables.length; i++) {\n      string = string.replace(new RegExp('\\\\{\\\\{'+i+'}}','g'),variables[i]);\n    }\n  }\n\n  return string;\n};\n\n// Translation strings and default languages\nJSONEditor.defaults.default_language = 'en';\nJSONEditor.defaults.language = JSONEditor.defaults.default_language;\nJSONEditor.defaults.languages.en = {\n  /**\n   * When a property is not set\n   */\n  error_notset: \"Property must be set\",\n  /**\n   * When a string must not be empty\n   */\n  error_notempty: \"Value required\",\n  /**\n   * When a value is not one of the enumerated values\n   */\n  error_enum: \"Value must be one of the enumerated values\",\n  /**\n   * When a value doesn't validate any schema of a 'anyOf' combination\n   */\n  error_anyOf: \"Value must validate against at least one of the provided schemas\",\n  /**\n   * When a value doesn't validate\n   * @variables This key takes one variable: The number of schemas the value does not validate\n   */\n  error_oneOf: 'Value must validate against exactly one of the provided schemas. It currently validates against {{0}} of the schemas.',\n  /**\n   * When a value does not validate a 'not' schema\n   */\n  error_not: \"Value must not validate against the provided schema\",\n  /**\n   * When a value does not match any of the provided types\n   */\n  error_type_union: \"Value must be one of the provided types\",\n  /**\n   * When a value does not match the given type\n   * @variables This key takes one variable: The type the value should be of\n   */\n  error_type: \"Value must be of type {{0}}\",\n  /**\n   *  When the value validates one of the disallowed types\n   */\n  error_disallow_union: \"Value must not be one of the provided disallowed types\",\n  /**\n   *  When the value validates a disallowed type\n   * @variables This key takes one variable: The type the value should not be of\n   */\n  error_disallow: \"Value must not be of type {{0}}\",\n  /**\n   * When a value is not a multiple of or divisible by a given number\n   * @variables This key takes one variable: The number mentioned above\n   */\n  error_multipleOf: \"Value must be a multiple of {{0}}\",\n  /**\n   * When a value is greater than it's supposed to be (exclusive)\n   * @variables This key takes one variable: The maximum\n   */\n  error_maximum_excl: \"Value must be less than {{0}}\",\n  /**\n   * When a value is greater than it's supposed to be (inclusive\n   * @variables This key takes one variable: The maximum\n   */\n  error_maximum_incl: \"Value must be at most {{0}}\",\n  /**\n   * When a value is lesser than it's supposed to be (exclusive)\n   * @variables This key takes one variable: The minimum\n   */\n  error_minimum_excl: \"Value must be greater than {{0}}\",\n  /**\n   * When a value is lesser than it's supposed to be (inclusive)\n   * @variables This key takes one variable: The minimum\n   */\n  error_minimum_incl: \"Value must be at least {{0}}\",\n  /**\n   * When a value have too many characters\n   * @variables This key takes one variable: The maximum character count\n   */\n  error_maxLength: \"Value must be at most {{0}} characters long\",\n  /**\n   * When a value does not have enough characters\n   * @variables This key takes one variable: The minimum character count\n   */\n  error_minLength: \"Value must be at least {{0}} characters long\",\n  /**\n   * When a value does not match a given pattern\n   */\n  error_pattern: \"Value must match the pattern {{0}}\",\n  /**\n   * When an array has additional items whereas it is not supposed to\n   */\n  error_additionalItems: \"No additional items allowed in this array\",\n  /**\n   * When there are to many items in an array\n   * @variables This key takes one variable: The maximum item count\n   */\n  error_maxItems: \"Value must have at most {{0}} items\",\n  /**\n   * When there are not enough items in an array\n   * @variables This key takes one variable: The minimum item count\n   */\n  error_minItems: \"Value must have at least {{0}} items\",\n  /**\n   * When an array is supposed to have unique items but has duplicates\n   */\n  error_uniqueItems: \"Array must have unique items\",\n  /**\n   * When there are too many properties in an object\n   * @variables This key takes one variable: The maximum property count\n   */\n  error_maxProperties: \"Object must have at most {{0}} properties\",\n  /**\n   * When there are not enough properties in an object\n   * @variables This key takes one variable: The minimum property count\n   */\n  error_minProperties: \"Object must have at least {{0}} properties\",\n  /**\n   * When a required property is not defined\n   * @variables This key takes one variable: The name of the missing property\n   */\n  error_required: \"Object is missing the required property '{{0}}'\",\n  /**\n   * When there is an additional property is set whereas there should be none\n   * @variables This key takes one variable: The name of the additional property\n   */\n  error_additional_properties: \"No additional properties allowed, but property {{0}} is set\",\n  /**\n   * When a dependency is not resolved\n   * @variables This key takes one variable: The name of the missing property for the dependency\n   */\n  error_dependency: \"Must have property {{0}}\",\n  /**\n   * When a date is in incorrect format\n   * @variables This key takes one variable: The valid format\n   */\n  error_date: 'Date must be in the format {{0}}',\n  /**\n   * When a time is in incorrect format\n   * @variables This key takes one variable: The valid format\n   */\n  error_time: 'Time must be in the format {{0}}',\n  /**\n   * When a datetime-local is in incorrect format\n   * @variables This key takes one variable: The valid format\n   */\n  error_datetime_local: 'Datetime must be in the format {{0}}',\n  /**\n   * When a integer date is less than 1 January 1970\n   */\n  error_invalid_epoch: 'Date must be greater than 1 January 1970',\n\n  /**\n   * Text on Delete All buttons\n   */\n  button_delete_all: \"All\",\n  /**\n   * Title on Delete All buttons\n   */\n  button_delete_all_title: \"Delete All\",\n  /**\n    * Text on Delete Last buttons\n    * @variable This key takes one variable: The title of object to delete\n    */\n  button_delete_last: \"Last {{0}}\",\n  /**\n    * Title on Delete Last buttons\n    * @variable This key takes one variable: The title of object to delete\n    */\n  button_delete_last_title: \"Delete Last {{0}}\",\n  /**\n    * Title on Add Row buttons\n    * @variable This key takes one variable: The title of object to add\n    */\n  button_add_row_title: \"Add {{0}}\",\n  /**\n    * Title on Move Down buttons\n    */\n  button_move_down_title: \"Move down\",\n  /**\n    * Title on Move Up buttons\n    */\n  button_move_up_title: \"Move up\",\n  /**\n    * Title on Object Properties buttons\n    */\n  button_object_properties: \"Object Properties\",\n  /**\n    * Title on Delete Row buttons\n    * @variable This key takes one variable: The title of object to delete\n    */\n  button_delete_row_title: \"Delete {{0}}\",\n  /**\n    * Title on Delete Row buttons, short version (no parameter with the object title)\n    */\n  button_delete_row_title_short: \"Delete\",\n  /**\n    * Title on Collapse buttons\n    */\n  button_collapse: \"Collapse\",\n  /**\n    * Title on Expand buttons\n    */\n  button_expand: \"Expand\",\n  /**\n    * Title on Flatpickr toggle buttons\n    */\n  flatpickr_toggle_button: \"Toggle\",\n  /**\n    * Title on Flatpickr clear buttons\n    */\n  flatpickr_clear_button: \"Clear\"\n};\n\n// Miscellaneous Plugin Settings\nJSONEditor.plugins = {\n  ace: {\n    theme: ''\n  },\n  SimpleMDE: {\n\n  },\n  sceditor: {\n\n  },\n  select2: {\n\n  },\n  selectize: {\n  }\n};\n\n// Default per-editor options\n$each(JSONEditor.defaults.editors, function(i,editor) {\n  JSONEditor.defaults.editors[i].options = editor.options || {};\n});\n\n// Set the default resolvers\n// Use \"multiple\" as a fall back for everything\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(typeof schema.type !== \"string\") return \"multiple\";\n});\n// If the type is not set but properties are defined, we can infer the type is actually object\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  // If the schema is a simple type\n  if(!schema.type && schema.properties ) return \"object\";\n});\n// If the type is set and it's a basic type, use the primitive editor\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  // If the schema is a simple type\n  if(typeof schema.type === \"string\") return schema.type;\n});\n// Use specialized editor for signatures\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(schema.type === \"string\" && schema.format === \"signature\") return \"signature\";\n});\n// Use a specialized editor for ratings\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(schema.type === \"integer\" && schema.format === \"rating\") return \"rating\";\n});\n// Use the select editor for all boolean values\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(schema.type === 'boolean') {\n    // If explicitly set to 'checkbox', use that\n    if(schema.format === \"checkbox\" || (schema.options && schema.options.checkbox)) {\n      return \"checkbox\";\n    }\n    // Otherwise, default to select menu\n    return (JSONEditor.plugins.selectize.enable) ? 'selectize' : 'select';\n  }\n});\n// Use the multiple editor for schemas where the `type` is set to \"any\"\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  // If the schema can be of any type\n  if(schema.type === \"any\") return \"multiple\";\n});\n// Editor for base64 encoded files\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  // If the schema can be of any type\n  if(schema.type === \"string\" && schema.media && schema.media.binaryEncoding===\"base64\") {\n    return \"base64\";\n  }\n});\n// Editor for uploading files\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(schema.type === \"string\" && schema.format === \"url\" && schema.options && schema.options.upload === true) {\n    if(window.FileReader) return \"upload\";\n  }\n});\n// Use the table editor for arrays with the format set to `table`\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  // Type `array` with format set to `table`\n  if(schema.type === \"array\" && schema.format === \"table\") {\n    return \"table\";\n  }\n});\n// Use the `select` editor for dynamic enumSource enums\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(schema.enumSource) {\n    if(schema.format === \"radio\") {\n      return \"radio\";\n    }\n    return (JSONEditor.plugins.selectize.enable) ? 'selectize' : 'select';\n  }\n});\n// Use the `enum` or `select` editors for schemas with enumerated properties\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(schema[\"enum\"]) {\n    if(schema.type === \"array\" || schema.type === \"object\") {\n      return \"enum\";\n    }\n    else if(schema.type === \"number\" || schema.type === \"integer\" || schema.type === \"string\") {\n\n      if(schema.format === \"radio\") {\n        return \"radio\";\n      }\n\n      return (JSONEditor.plugins.selectize.enable) ? 'selectize' : 'select';\n    }\n  }\n});\n// Specialized editors for arrays of strings\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if(schema.type === \"array\" && schema.items && !(Array.isArray(schema.items)) && schema.uniqueItems && ['string','number','integer'].indexOf(schema.items.type) >= 0) {\n    // if 'selectize' enabled it is expected to be selectized control\n    if (JSONEditor.plugins.selectize.enable) {\n      return 'arraySelectize';\n    }\n    // otherwise it is select\n    else {\n      return 'multiselect';\n    }\n  }\n});\n// Use the multiple editor for schemas with `oneOf` set\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  // If this schema uses `oneOf` or `anyOf`\n  if(schema.oneOf || schema.anyOf) return \"multiple\";\n});\n// Specialized editor for date, time and datetime-local formats\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if (['string', 'integer'].indexOf(schema.type) !== -1 && ['date', 'time', 'datetime-local'].indexOf(schema.format) !== -1) {\n    return \"datetime\";\n  }\n});\n// Use a specialized editor for starratings\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if (schema.type === \"string\" && schema.format === \"starrating\") return \"starrating\";\n});\n\n// hyper-link describeBy Resolver\nJSONEditor.defaults.resolvers.unshift(function(schema) {\n  if (schema.links) {\n    for (var i = 0; i < schema.links.length; i++) {\n      if (schema.links[i].rel.toLowerCase() === \"describedby\") {\n        return \"describedBy\";\n      }\n    }\n  }\n});","/**\n * This is a small wrapper for using JSON Editor like a typical jQuery plugin.\n */\n(function() {\n  if(window.jQuery || window.Zepto) {\n    var $ = window.jQuery || window.Zepto;\n    $.jsoneditor = JSONEditor.defaults;\n    \n    $.fn.jsoneditor = function(options) {\n      var self = this;\n      var editor = this.data('jsoneditor');\n      if(options === 'value') {\n        if(!editor) throw \"Must initialize jsoneditor before getting/setting the value\";\n        \n        // Set value\n        if(arguments.length > 1) {\n          editor.setValue(arguments[1]);\n        }\n        // Get value\n        else {\n          return editor.getValue();\n        }\n      }\n      else if(options === 'validate') {\n        if(!editor) throw \"Must initialize jsoneditor before validating\";\n        \n        // Validate a specific value\n        if(arguments.length > 1) {\n          return editor.validate(arguments[1]);\n        }\n        // Validate current value\n        else {\n          return editor.validate();\n        }\n      }\n      else if(options === 'destroy') {\n        if(editor) {\n          editor.destroy();\n          this.data('jsoneditor',null);\n        }\n      }\n      else {\n        // Destroy first\n        if(editor) {\n          editor.destroy();\n        }\n        \n        // Create editor\n        editor = new JSONEditor(this.get(0),options);\n        this.data('jsoneditor',editor);\n        \n        // Setup event listeners\n        editor.on('change',function() {\n          self.trigger('change');\n        });\n        editor.on('ready',function() {\n          self.trigger('ready');\n        });\n      }\n      \n      return this;\n    };\n  }\n})();\n","\treturn JSONEditor;\n});\n","import JSONEditor from \"@json-editor/json-editor\";\n// This is the starting value for the editor\n // We will use this to seed the initial editor\n // and to provide a \"Restore to Default\" button.\n//JSONEditor.defaults.theme = 'bootstrap4';\nvar jsgamDownload = document.querySelector('#download');\nvar jsgamUpload = document.querySelector('#upload');\n// Initialize the editor\nvar editor = new JSONEditor(document.getElementById('editor_holder'),{\n  // Enable fetching schemas via ajax\n  ajax: true,\n  theme : 'bootstrap4',\n  iconlib : 'materialicons',\n  // The schema for the editor\n  schema: {\n    $ref: \"schemas/editor.json\"\n  },\n  display_required_only:true,\n  keep_oneof_values:false,\n  enable_array_copy:true\n});\n\n// Hook up the validation indicator to update its\n// status whenever the editor changes\neditor.on('change',function() {\n  // Get an array of errors from the validator\n  var errors = editor.validate();\n\n  var indicator = document.getElementById('valid_indicator');\n\n  // Not valid\n  if(errors.length) {\n    indicator.style.color = 'red';\n    indicator.textContent = \"not valid\";\n  }\n  // Valid\n  else {\n    indicator.style.color = 'green';\n    indicator.textContent = \"valid\";\n  }\n});\n\n//  Parse JSON string and return JSON object. Empty object returned on error\nvar parseJson = function(str) {\n  var res;\n  try {res = JSON.parse(str);}\n  catch(e) {res = {};}\n  return res;\n};\n\n\n // Trigger mouse click event\n var eventClickFire = function(el) {\n   el.dispatchEvent(new MouseEvent('click', {\n     'view': window,\n     'bubbles': true,\n     'cancelable': false\n   }));\n };\n // Save Schema, Start Value, JavaScript Styles and Config options in examples schema format\n var downloadJSONHandler = function() {\n   var title = prompt('Enter the name of your file', 'New Adventure');\n   if (title === null) return;\n   var json = editor.getValue(),\n       filename = (title || 'jsgam').toLowerCase().replace(/[\\s<>:\"\\\\|*]/g, \"-\") + '.json',\n       blob = new Blob([JSON.stringify(json, null, 2)], {type: \"application/json;charset=utf-8\"});\n\n   if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n       window.navigator.msSaveOrOpenBlob(blob, filename);\n   } else {\n       var a = document.createElement('a');\n       a.download = filename;\n       a.href = URL.createObjectURL(blob);\n       a.dataset.downloadurl = ['text/plain', a.download, a.href].join(':');\n       eventClickFire(a);\n   }\n\n };\n\n// Set button event for downloading as example\njsgamDownload.addEventListener('click', downloadJSONHandler, false);\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}